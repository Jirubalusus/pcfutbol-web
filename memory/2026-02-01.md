# 2026-02-01 — Semana europea = semana extra intercalada

## Cambio principal: European Calendar v2

### Concepto
Las semanas europeas ya NO se solapan con la liga. Se insertan como semanas EXTRA entre jornadas de liga. Cada semana = 1 partido.

### Implementación
- `europeanCompetitions.js`: `buildEuropeanCalendar(totalLeagueMDs)` genera mapping dinámico
  - 38 jornadas + 17 europeas = 55 semanas totales
  - Patrón: 4 liga → 1 europea (Swiss), 1+1 alternando (knockout)
  - `remapFixturesForEuropean()` remapea las semanas de los fixtures
  - Funciones compat: `isEuropeanWeekDynamic()`, `getPhaseForWeekCompat()`
- `GameContext.jsx`: `europeanCalendar` en state, ADVANCE_WEEK usa funciones dinámicas
- `MatchDay.jsx`: Eliminado bloque auto-sim de liga en partidos europeos
- `Calendar.jsx`: Usa calendario dinámico del state
- `SeasonEnd.jsx`: Computa calendario y remapea fixtures al clasificar para Europa
- `Office.jsx`: `seasonOver` no dispara si jugador sigue vivo en Europa

### Detalles técnicos
- Backward compatible: saves sin `europeanCalendar` usan sistema legacy
- Solo aplica a temporadas nuevas con clasificación europea
- Sin Europa = 38 semanas normales (sin cambios)
- `isSeasonOver` ya derivaba maxWeek de fixtures → adapta automáticamente
- Otras ligas no se remapean (simulan en paralelo con su propio calendario)
- Bundesliga (34 MDs) → 51 semanas, La Liga (38) → 55 semanas

### Edge cases resueltos
- Season end: no dispara hasta que europeas terminen (o jugador eliminado)
- Fast-forward: bloqueado si hay partido europeo pendiente
- Semanas europeas post-eliminación: jugador avanza sin partido
