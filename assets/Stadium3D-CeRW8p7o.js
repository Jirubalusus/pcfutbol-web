import{r as _d,g as Ed,R as xd,a as Ov,b as ve,j as Xe,W as kd,c as Td,O as di,P as vl,S as Su,d as Vs,V as Pv,e as Nv,B as zv,C as Lv,L as Sl,f as wu,N as Bv,A as jv,h as Of,i as ua,k as ko,U as wl,l as kt,m as Yn,n as Gv,T as Hv,o as Wv,M as Oa,I as Vv,p as gi,D as Md,q as Pf,Q as Nf,s as go,t as yo,u as Xv,v as Yv,w as Cd,H as or,F as Or,x as Eo,y as ir,z as Zv,E as qv,G as Ud,J as Qv,K as Kv,X as Jv,Y as Fd,Z as $v,_ as em,$ as nm,a0 as Id,a1 as tm,a2 as Ia,a3 as rm,a4 as zf,a5 as Co,a6 as Ul,a7 as la,a8 as _l,a9 as El,aa as am,ab as om,ac as im,ad as lm,ae as sm,af as um,ag as cm,ah as Lf,ai as ml,aj as fm,ak as dm,al as hm,am as pm,an as vm}from"./index-CZavLeN7.js";var Xs={exports:{}},Ys={},Zs={exports:{}},qs={};var Bf;function mm(){if(Bf)return qs;Bf=1;var l=_d();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var p=typeof Object.is=="function"?Object.is:t,u=l.useState,o=l.useEffect,a=l.useLayoutEffect,f=l.useDebugValue;function d(g,b){var S=b(),E=u({inst:{value:S,getSnapshot:b}}),M=E[0].inst,k=E[1];return a(function(){M.value=S,M.getSnapshot=b,s(M)&&k({inst:M})},[g,S,b]),o(function(){return s(M)&&k({inst:M}),g(function(){s(M)&&k({inst:M})})},[g]),f(S),S}function s(g){var b=g.getSnapshot;g=g.value;try{var S=b();return!p(g,S)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return qs.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:m,qs}var jf;function gm(){return jf||(jf=1,Zs.exports=mm()),Zs.exports}var Gf;function ym(){if(Gf)return Ys;Gf=1;var l=_d(),t=gm();function p(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var u=typeof Object.is=="function"?Object.is:p,o=t.useSyncExternalStore,a=l.useRef,f=l.useEffect,d=l.useMemo,s=l.useDebugValue;return Ys.useSyncExternalStoreWithSelector=function(h,m,g,b,S){var E=a(null);if(E.current===null){var M={hasValue:!1,value:null};E.current=M}else M=E.current;E=d(function(){function U(F){if(!x){if(x=!0,G=F,F=b(F),S!==void 0&&M.hasValue){var H=M.value;if(S(H,F))return R=H}return R=F}if(H=R,u(G,F))return H;var T=b(F);return S!==void 0&&S(H,T)?(G=F,H):(G=F,R=T)}var x=!1,G,R,I=g===void 0?null:g;return[function(){return U(m())},I===null?void 0:function(){return U(I())}]},[m,g,b,S]);var k=o(h,E[0],E[1]);return f(function(){M.hasValue=!0,M.value=k},[k]),s(k),k},Ys}var Hf;function bm(){return Hf||(Hf=1,Xs.exports=ym()),Xs.exports}var Sm=bm();const wm=Ed(Sm),Wf=l=>{let t;const p=new Set,u=(h,m)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const b=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),p.forEach(S=>S(t,b))}},o=()=>t,d={setState:u,getState:o,getInitialState:()=>s,subscribe:h=>(p.add(h),()=>p.delete(h))},s=t=l(u,o,d);return d},_m=(l=>l?Wf(l):Wf),{useSyncExternalStoreWithSelector:Em}=wm,xm=l=>l;function km(l,t=xm,p){const u=Em(l.subscribe,l.getState,l.getInitialState,t,p);return xd.useDebugValue(u),u}const Vf=(l,t)=>{const p=_m(l),u=(o,a=t)=>km(p,o,a);return Object.assign(u,p),u},Dd=((l,t)=>l?Vf(l,t):Vf),Tm=l=>typeof l=="object"&&typeof l.then=="function",Da=[];function Ad(l,t,p=(u,o)=>u===o){if(l===t)return!0;if(!l||!t)return!1;const u=l.length;if(t.length!==u)return!1;for(let o=0;o<u;o++)if(!p(l[o],t[o]))return!1;return!0}function Rd(l,t=null,p=!1,u={}){t===null&&(t=[l]);for(const a of Da)if(Ad(t,a.keys,a.equal)){if(p)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return u.lifespan&&u.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,u.lifespan)),a.response;if(!p)throw a.promise}const o={keys:t,equal:u.equal,remove:()=>{const a=Da.indexOf(o);a!==-1&&Da.splice(a,1)},promise:(Tm(l)?l:l(...t)).then(a=>{o.response=a,u.lifespan&&u.lifespan>0&&(o.timeout=setTimeout(o.remove,u.lifespan))}).catch(a=>o.error=a)};if(Da.push(o),!p)throw o.promise}const Od=(l,t,p)=>Rd(l,t,!1,p),Mm=(l,t,p)=>{Rd(l,t,!0,p)},Cm=l=>{if(l===void 0||l.length===0)Da.splice(0,Da.length);else{const t=Da.find(p=>Ad(l,p.keys,p.equal));t&&t.remove()}};var su=Ov();const Um=Ed(su);function _u(l,t,p){if(!l)return;if(p(l)===!0)return l;let u=t?l.return:l.child;for(;u;){const o=_u(u,t,p);if(o)return o;u=t?null:u.sibling}}function Pd(l){try{return Object.defineProperties(l,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return l}}const Eu=Pd(ve.createContext(null));class Nd extends ve.Component{render(){return ve.createElement(Eu.Provider,{value:this._reactInternals},this.props.children)}}function zd(){const l=ve.useContext(Eu);if(l===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=ve.useId();return ve.useMemo(()=>{for(const p of[l,l?.alternate]){if(!p)continue;const u=_u(p,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===t)return!0;a=a.next}});if(u)return u}},[l,t])}const Fm=Symbol.for("react.context"),Im=l=>l!==null&&typeof l=="object"&&"$$typeof"in l&&l.$$typeof===Fm;function Dm(){const l=zd(),[t]=ve.useState(()=>new Map);t.clear();let p=l;for(;p;){const u=p.type;Im(u)&&u!==Eu&&!t.has(u)&&t.set(u,ve.use(Pd(u))),p=p.return}return t}function Am(){const l=Dm();return ve.useMemo(()=>Array.from(l.keys()).reduce((t,p)=>u=>ve.createElement(t,null,ve.createElement(p.Provider,{...u,value:l.get(p)})),t=>ve.createElement(Nd,{...t})),[l])}function Ld(l){let t=l.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const Bd=l=>l&&l.isOrthographicCamera,Rm=l=>l&&l.hasOwnProperty("current"),Om=l=>l!=null&&(typeof l=="string"||typeof l=="number"||l.isColor),Si=((l,t)=>typeof window<"u"&&(((l=window.document)==null?void 0:l.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?ve.useLayoutEffect:ve.useEffect;function xu(l){const t=ve.useRef(l);return Si(()=>{t.current=l},[l]),t}function Pm(){const l=zd(),t=Am();return ve.useMemo(()=>({children:p})=>{const o=!!_u(l,!0,a=>a.type===ve.StrictMode)?ve.StrictMode:ve.Fragment;return Xe.jsx(o,{children:Xe.jsx(t,{children:p})})},[l,t])}function Nm({set:l}){return Si(()=>(l(new Promise(()=>null)),()=>l(!1)),[l]),null}const zm=(l=>(l=class extends ve.Component{constructor(...p){super(...p),this.state={error:!1}}componentDidCatch(p){this.props.set(p)}render(){return this.state.error?null:this.props.children}},l.getDerivedStateFromError=()=>({error:!0}),l))();function jd(l){var t;const p=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(l)?Math.min(Math.max(l[0],p),l[1]):l}function bo(l){var t;return(t=l.__r3f)==null?void 0:t.root.getState()}const Zn={obj:l=>l===Object(l)&&!Zn.arr(l)&&typeof l!="function",fun:l=>typeof l=="function",str:l=>typeof l=="string",num:l=>typeof l=="number",boo:l=>typeof l=="boolean",und:l=>l===void 0,nul:l=>l===null,arr:l=>Array.isArray(l),equ(l,t,{arrays:p="shallow",objects:u="reference",strict:o=!0}={}){if(typeof l!=typeof t||!!l!=!!t)return!1;if(Zn.str(l)||Zn.num(l)||Zn.boo(l))return l===t;const a=Zn.obj(l);if(a&&u==="reference")return l===t;const f=Zn.arr(l);if(f&&p==="reference")return l===t;if((f||a)&&l===t)return!0;let d;for(d in l)if(!(d in t))return!1;if(a&&p==="shallow"&&u==="shallow"){for(d in o?t:l)if(!Zn.equ(l[d],t[d],{strict:o,objects:"reference"}))return!1}else for(d in o?t:l)if(l[d]!==t[d])return!1;if(Zn.und(d)){if(f&&l.length===0&&t.length===0||a&&Object.keys(l).length===0&&Object.keys(t).length===0)return!0;if(l!==t)return!1}return!0}};function Lm(l){const t={nodes:{},materials:{},meshes:{}};return l&&l.traverse(p=>{p.name&&(t.nodes[p.name]=p),p.material&&!t.materials[p.material.name]&&(t.materials[p.material.name]=p.material),p.isMesh&&!t.meshes[p.name]&&(t.meshes[p.name]=p)}),t}function Bm(l){l.type!=="Scene"&&(l.dispose==null||l.dispose());for(const t in l){const p=l[t];p?.type!=="Scene"&&(p==null||p.dispose==null||p.dispose())}}const Gd=["children","key","ref"];function jm(l){const t={};for(const p in l)Gd.includes(p)||(t[p]=l[p]);return t}function xl(l,t,p,u){const o=l;let a=o?.__r3f;return a||(a={root:t,type:p,parent:null,children:[],props:jm(u),object:o,eventCount:0,handlers:{},isHidden:!1},o&&(o.__r3f=a)),a}function yi(l,t){if(!t.includes("-"))return{root:l,key:t,target:l[t]};if(t in l)return{root:l,key:t,target:l[t]};let p=l;const u=t.split("-");for(const o of u){if(typeof p!="object"||p===null){if(p!==void 0){const a=u.slice(u.indexOf(o)).join("-");return{root:p,key:a,target:void 0}}return{root:l,key:t,target:void 0}}t=o,l=p,p=p[t]}return{root:l,key:t,target:p}}const Xf=/-\d+$/;function kl(l,t){if(Zn.str(t.props.attach)){if(Xf.test(t.props.attach)){const o=t.props.attach.replace(Xf,""),{root:a,key:f}=yi(l.object,o);Array.isArray(a[f])||(a[f]=[])}const{root:p,key:u}=yi(l.object,t.props.attach);t.previousAttach=p[u],p[u]=t.object}else Zn.fun(t.props.attach)&&(t.previousAttach=t.props.attach(l.object,t.object))}function Tl(l,t){if(Zn.str(t.props.attach)){const{root:p,key:u}=yi(l.object,t.props.attach),o=t.previousAttach;o===void 0?delete p[u]:p[u]=o}else t.previousAttach==null||t.previousAttach(l.object,t.object);delete t.previousAttach}const uu=[...Gd,"args","dispose","attach","object","onUpdate","dispose"],Yf=new Map;function Gm(l){let t=Yf.get(l.constructor);try{t||(t=new l.constructor,Yf.set(l.constructor,t))}catch{}return t}function Hm(l,t){const p={};for(const u in t)if(!uu.includes(u)&&!Zn.equ(t[u],l.props[u])){p[u]=t[u];for(const o in t)o.startsWith(`${u}-`)&&(p[o]=t[o])}for(const u in l.props){if(uu.includes(u)||t.hasOwnProperty(u))continue;const{root:o,key:a}=yi(l.object,u);if(o.constructor&&o.constructor.length===0){const f=Gm(o);Zn.und(f)||(p[a]=f[a])}else p[a]=0}return p}const Wm=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Vm=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Sr(l,t){var p;const u=l.__r3f,o=u&&Ld(u).getState(),a=u?.eventCount;for(const d in t){let s=t[d];if(uu.includes(d))continue;if(u&&Vm.test(d)){typeof s=="function"?u.handlers[d]=s:delete u.handlers[d],u.eventCount=Object.keys(u.handlers).length;continue}if(s===void 0)continue;let{root:h,key:m,target:g}=yi(l,d);if(g===void 0&&(typeof h!="object"||h===null))throw Error(`R3F: Cannot set "${d}". Ensure it is an object before setting "${m}".`);if(g instanceof Of&&s instanceof Of)g.mask=s.mask;else if(g instanceof ua&&Om(s))g.set(s);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&s!=null&&s.constructor&&g.constructor===s.constructor)g.copy(s);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(s))typeof g.fromArray=="function"?g.fromArray(s):g.set(...s);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof s=="number")typeof g.setScalar=="function"?g.setScalar(s):g.set(s);else{var f;h[m]=s,o&&!o.linear&&Wm.includes(m)&&(f=h[m])!=null&&f.isTexture&&h[m].format===ko&&h[m].type===wl&&(h[m].colorSpace=wu)}}if(u!=null&&u.parent&&o!=null&&o.internal&&(p=u.object)!=null&&p.isObject3D&&a!==u.eventCount){const d=u.object,s=o.internal.interaction.indexOf(d);s>-1&&o.internal.interaction.splice(s,1),u.eventCount&&d.raycast!==null&&o.internal.interaction.push(d)}return u&&u.props.attach===void 0&&(u.object.isBufferGeometry?u.props.attach="geometry":u.object.isMaterial&&(u.props.attach="material")),u&&Uo(u),l}function Uo(l){var t;if(!l.parent)return;l.props.onUpdate==null||l.props.onUpdate(l.object);const p=(t=l.root)==null||t.getState==null?void 0:t.getState();p&&p.internal.frames===0&&p.invalidate()}function Hd(l,t){l.manual||(Bd(l)?(l.left=t.width/-2,l.right=t.width/2,l.top=t.height/2,l.bottom=t.height/-2):l.aspect=t.width/t.height,l.updateProjectionMatrix())}const Nt=l=>l?.isObject3D;function ll(l){return(l.eventObject||l.object).uuid+"/"+l.index+l.instanceId}function Wd(l,t,p,u){const o=p.get(t);o&&(p.delete(t),p.size===0&&(l.delete(u),o.target.releasePointerCapture(u)))}function Xm(l,t){const{internal:p}=l.getState();p.interaction=p.interaction.filter(u=>u!==t),p.initialHits=p.initialHits.filter(u=>u!==t),p.hovered.forEach((u,o)=>{(u.eventObject===t||u.object===t)&&p.hovered.delete(o)}),p.capturedMap.forEach((u,o)=>{Wd(p.capturedMap,t,u,o)})}function Ym(l){function t(s){const{internal:h}=l.getState(),m=s.offsetX-h.initialClick[0],g=s.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function p(s){return s.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function u(s,h){const m=l.getState(),g=new Set,b=[],S=h?h(m.internal.interaction):m.internal.interaction;for(let U=0;U<S.length;U++){const x=bo(S[U]);x&&(x.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(s,m);function E(U){const x=bo(U);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var G;x.events.compute==null||x.events.compute(s,x,(G=x.previousRoot)==null?void 0:G.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(U,!0):[]}let M=S.flatMap(E).sort((U,x)=>{const G=bo(U.object),R=bo(x.object);return!G||!R?U.distance-x.distance:R.events.priority-G.events.priority||U.distance-x.distance}).filter(U=>{const x=ll(U);return g.has(x)?!1:(g.add(x),!0)});m.events.filter&&(M=m.events.filter(M,m));for(const U of M){let x=U.object;for(;x;){var k;(k=x.__r3f)!=null&&k.eventCount&&b.push({...U,eventObject:x}),x=x.parent}}if("pointerId"in s&&m.internal.capturedMap.has(s.pointerId))for(let U of m.internal.capturedMap.get(s.pointerId).values())g.has(ll(U.intersection))||b.push(U.intersection);return b}function o(s,h,m,g){if(s.length){const b={stopped:!1};for(const S of s){let E=bo(S.object);if(E||S.object.traverseAncestors(M=>{const k=bo(M);if(k)return E=k,!1}),E){const{raycaster:M,pointer:k,camera:U,internal:x}=E,G=new Yn(k.x,k.y,0).unproject(U),R=N=>{var O,le;return(O=(le=x.capturedMap.get(N))==null?void 0:le.has(S.eventObject))!=null?O:!1},I=N=>{const O={intersection:S,target:h.target};x.capturedMap.has(N)?x.capturedMap.get(N).set(S.eventObject,O):x.capturedMap.set(N,new Map([[S.eventObject,O]])),h.target.setPointerCapture(N)},F=N=>{const O=x.capturedMap.get(N);O&&Wd(x.capturedMap,S.eventObject,O,N)};let H={};for(let N in h){let O=h[N];typeof O!="function"&&(H[N]=O)}let T={...S,...H,pointer:k,intersections:s,stopped:b.stopped,delta:m,unprojectedPoint:G,ray:M.ray,camera:U,stopPropagation(){const N="pointerId"in h&&x.capturedMap.get(h.pointerId);if((!N||N.has(S.eventObject))&&(T.stopped=b.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(O=>O.eventObject===S.eventObject))){const O=s.slice(0,s.indexOf(S));a([...O,S])}},target:{hasPointerCapture:R,setPointerCapture:I,releasePointerCapture:F},currentTarget:{hasPointerCapture:R,setPointerCapture:I,releasePointerCapture:F},nativeEvent:h};if(g(T),b.stopped===!0)break}}}return s}function a(s){const{internal:h}=l.getState();for(const m of h.hovered.values())if(!s.length||!s.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const b=m.eventObject.__r3f;if(h.hovered.delete(ll(m)),b!=null&&b.eventCount){const S=b.handlers,E={...m,intersections:s};S.onPointerOut==null||S.onPointerOut(E),S.onPointerLeave==null||S.onPointerLeave(E)}}}function f(s,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(s)}}function d(s){switch(s){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:m}=l.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:b}=l.getState();b.lastEvent.current=m;const S=s==="onPointerMove",E=s==="onClick"||s==="onContextMenu"||s==="onDoubleClick",k=u(m,S?p:void 0),U=E?t(m):0;s==="onPointerDown"&&(b.initialClick=[m.offsetX,m.offsetY],b.initialHits=k.map(G=>G.eventObject)),E&&!k.length&&U<=2&&(f(m,b.interaction),g&&g(m)),S&&a(k);function x(G){const R=G.eventObject,I=R.__r3f;if(!(I!=null&&I.eventCount))return;const F=I.handlers;if(S){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const H=ll(G),T=b.hovered.get(H);T?T.stopped&&G.stopPropagation():(b.hovered.set(H,G),F.onPointerOver==null||F.onPointerOver(G),F.onPointerEnter==null||F.onPointerEnter(G))}F.onPointerMove==null||F.onPointerMove(G)}else{const H=F[s];H?(!E||b.initialHits.includes(R))&&(f(m,b.interaction.filter(T=>!b.initialHits.includes(T))),H(G)):E&&b.initialHits.includes(R)&&f(m,b.interaction.filter(T=>!b.initialHits.includes(T)))}}o(k,m,U,x)}}return{handlePointer:d}}const Zf=l=>!!(l!=null&&l.render),ku=ve.createContext(null),Zm=(l,t)=>{const p=Dd((d,s)=>{const h=new Yn,m=new Yn,g=new Yn;function b(U=s().camera,x=m,G=s().size){const{width:R,height:I,top:F,left:H}=G,T=R/I;x.isVector3?g.copy(x):g.set(...x);const N=U.getWorldPosition(h).distanceTo(g);if(Bd(U))return{width:R/U.zoom,height:I/U.zoom,top:F,left:H,factor:1,distance:N,aspect:T};{const O=U.fov*Math.PI/180,le=2*Math.tan(O/2)*N,z=le*(R/I);return{width:z,height:le,top:F,left:H,factor:R/z,distance:N,aspect:T}}}let S;const E=U=>d(x=>({performance:{...x.performance,current:U}})),M=new kt;return{set:d,get:s,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(U=1)=>l(s(),U),advance:(U,x)=>t(U,x,s()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Gv,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const U=s();S&&clearTimeout(S),U.performance.current!==U.performance.min&&E(U.performance.min),S=setTimeout(()=>E(s().performance.max),U.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:U=>d(x=>({...x,events:{...x.events,...U}})),setSize:(U,x,G=0,R=0)=>{const I=s().camera,F={width:U,height:x,top:G,left:R};d(H=>({size:F,viewport:{...H.viewport,...b(I,m,F)}}))},setDpr:U=>d(x=>{const G=jd(U);return{viewport:{...x.viewport,dpr:G,initialDpr:x.viewport.initialDpr||G}}}),setFrameloop:(U="always")=>{const x=s().clock;x.stop(),x.elapsedTime=0,U!=="never"&&(x.start(),x.elapsedTime=0),d(()=>({frameloop:U}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ve.createRef(),active:!1,frames:0,priority:0,subscribe:(U,x,G)=>{const R=s().internal;return R.priority=R.priority+(x>0?1:0),R.subscribers.push({ref:U,priority:x,store:G}),R.subscribers=R.subscribers.sort((I,F)=>I.priority-F.priority),()=>{const I=s().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(x>0?1:0),I.subscribers=I.subscribers.filter(F=>F.ref!==U))}}}}}),u=p.getState();let o=u.size,a=u.viewport.dpr,f=u.camera;return p.subscribe(()=>{const{camera:d,size:s,viewport:h,gl:m,set:g}=p.getState();if(s.width!==o.width||s.height!==o.height||h.dpr!==a){o=s,a=h.dpr,Hd(d,s),h.dpr>0&&m.setPixelRatio(h.dpr);const b=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(s.width,s.height,b)}d!==f&&(f=d,g(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(d)}})))}),p.subscribe(d=>l(d)),p};function Tu(){const l=ve.useContext(ku);if(!l)throw new Error("R3F: Hooks can only be used within the Canvas component!");return l}function Ot(l=p=>p,t){return Tu()(l,t)}function Fl(l,t=0){const p=Tu(),u=p.getState().internal.subscribe,o=xu(l);return Si(()=>u(o,t,p),[t,u,p]),null}const qf=new WeakMap,qm=l=>{var t;return typeof l=="function"&&(l==null||(t=l.prototype)==null?void 0:t.constructor)===l};function Vd(l,t){return function(p,...u){let o;return qm(p)?(o=qf.get(p),o||(o=new p,qf.set(p,o))):o=p,l&&l(o),Promise.all(u.map(a=>new Promise((f,d)=>o.load(a,s=>{Nt(s?.scene)&&Object.assign(s,Lm(s.scene)),f(s)},t,s=>d(new Error(`Could not load ${a}: ${s?.message}`))))))}}function To(l,t,p,u){const o=Array.isArray(t)?t:[t],a=Od(Vd(p,u),[l,...o],{equal:Zn.equ});return Array.isArray(t)?a:a[0]}To.preload=function(l,t,p){const u=Array.isArray(t)?t:[t];return Mm(Vd(p),[l,...u])};To.clear=function(l,t){const p=Array.isArray(t)?t:[t];return Cm([l,...p])};const Qm=1,Km=8,Jm=32,$m=2;var eg={version:"9.5.0"};function ng(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Qf={exports:{}},Kf={exports:{}},Jf;function tg(){return Jf||(Jf=1,(function(l){l.exports=function(t){function p(e,n,r,i){return new Bh(e,n,r,i)}function u(){}function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(a(e)!==e)throw Error(o(188))}function d(e){var n=e.alternate;if(!n){if(n=a(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,i=n;;){var c=r.return;if(c===null)break;var v=c.alternate;if(v===null){if(i=c.return,i!==null){r=i;continue}break}if(c.child===v.child){for(v=c.child;v;){if(v===r)return f(c),e;if(v===i)return f(c),n;v=v.sibling}throw Error(o(188))}if(r.return!==i.return)r=c,i=v;else{for(var w=!1,A=c.child;A;){if(A===r){w=!0,r=c,i=v;break}if(A===i){w=!0,i=c,r=v;break}A=A.sibling}if(!w){for(A=v.child;A;){if(A===r){w=!0,r=v,i=c;break}if(A===i){w=!0,i=v,r=c;break}A=A.sibling}if(!w)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function s(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=s(e),n!==null)return n;e=e.sibling}return null}function h(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(e.tag!==4&&(n=h(e),n!==null))return n;e=e.sibling}return null}function m(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}function g(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Vh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qa:return"Fragment";case fs:return"Profiler";case Kc:return"StrictMode";case hs:return"Suspense";case ps:return"SuspenseList";case ms:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qa:return"Portal";case qr:return e.displayName||"Context";case Jc:return(e._context.displayName||"Context")+".Consumer";case ds:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vs:return n=e.displayName||null,n!==null?n:g(e.type)||"Memo";case Qr:n=e._payload,e=e._init;try{return g(e(n))}catch{}}return null}function b(e){return{current:e}}function S(e){0>$a||(e.current=_s[$a],_s[$a]=null,$a--)}function E(e,n){$a++,_s[$a]=e.current,e.current=n}function M(e){return e>>>=0,e===0?32:31-(bv(e)/Sv|0)|0}function k(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function U(e,n,r){var i=e.pendingLanes;if(i===0)return 0;var c=0,v=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var A=i&134217727;return A!==0?(i=A&~v,i!==0?c=k(i):(w&=A,w!==0?c=k(w):r||(r=A&~e,r!==0&&(c=k(r))))):(A=i&~v,A!==0?c=k(A):w!==0?c=k(w):r||(r=i&~e,r!==0&&(c=k(r)))),c===0?0:n!==0&&n!==c&&(n&v)===0&&(v=c&-c,r=n&-n,v>=r||v===32&&(r&4194048)!==0)?n:c}function x(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function G(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R(){var e=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),e}function I(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function F(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function H(e,n,r,i,c,v){var w=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var A=e.entanglements,ae=e.expirationTimes,pe=e.hiddenUpdates;for(r=w&~r;0<r;){var Ue=31-Zt(r),be=1<<Ue;A[Ue]=0,ae[Ue]=-1;var Be=pe[Ue];if(Be!==null)for(pe[Ue]=null,Ue=0;Ue<Be.length;Ue++){var pn=Be[Ue];pn!==null&&(pn.lane&=-536870913)}r&=~be}i!==0&&T(e,i,0),v!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=v&~(w&~n))}function T(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var i=31-Zt(n);e.entangledLanes|=n,e.entanglements[i]=e.entanglements[i]|1073741824|r&261930}function N(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-Zt(r),c=1<<i;c&n|e[i]&n&&(e[i]|=n),r&=~c}}function O(e,n){var r=n&-n;return r=(r&42)!==0?1:le(r),(r&(e.suspendedLanes|n))!==0?0:r}function le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function z(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function j(e){if(typeof kv=="function"&&Tv(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Qo,e)}catch{}}function P(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}function ie(e){if(ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",Tf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+e+Tf}function K(e,n){if(!e||Ts)return"";Ts=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(pn){var Be=pn}Reflect.construct(e,[],be)}else{try{be.call()}catch(pn){Be=pn}e.call(be.prototype)}}else{try{throw Error()}catch(pn){Be=pn}(be=e())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(pn){if(pn&&Be&&typeof pn.stack=="string")return[pn.stack,Be.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=i.DetermineComponentFrameRoot(),w=v[0],A=v[1];if(w&&A){var ae=w.split(`
`),pe=A.split(`
`);for(c=i=0;i<ae.length&&!ae[i].includes("DetermineComponentFrameRoot");)i++;for(;c<pe.length&&!pe[c].includes("DetermineComponentFrameRoot");)c++;if(i===ae.length||c===pe.length)for(i=ae.length-1,c=pe.length-1;1<=i&&0<=c&&ae[i]!==pe[c];)c--;for(;1<=i&&0<=c;i--,c--)if(ae[i]!==pe[c]){if(i!==1||c!==1)do if(i--,c--,0>c||ae[i]!==pe[c]){var Ue=`
`+ae[i].replace(" at new "," at ");return e.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",e.displayName)),Ue}while(1<=i&&0<=c);break}}}finally{Ts=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ie(r):""}function we(e,n){switch(e.tag){case 26:case 27:case 5:return ie(e.type);case 16:return ie("Lazy");case 13:return e.child!==n&&n!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);case 31:return ie("Activity");default:return""}}function ke(e){try{var n="",r=null;do n+=we(e,r),r=e,e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function ne(e,n){if(typeof e=="object"&&e!==null){var r=Mf.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ke(n)},Mf.set(e,n),n)}return{value:e,source:n,stack:ke(n)}}function X(e,n){no[to++]=Ko,no[to++]=Wi,Wi=e,Ko=n}function C(e,n,r){er[nr++]=yr,er[nr++]=br,er[nr++]=Kr,Kr=e;var i=yr;e=br;var c=32-Zt(i)-1;i&=~(1<<c),r+=1;var v=32-Zt(n)+c;if(30<v){var w=c-c%5;v=(i&(1<<w)-1).toString(32),i>>=w,c-=w,yr=1<<32-Zt(n)+c|r<<c|i,br=v+e}else yr=1<<v|r<<c|i,br=e}function L(e){e.return!==null&&(X(e,1),C(e,1,0))}function V(e){for(;e===Wi;)Wi=no[--to],no[to]=null,Ko=no[--to],no[to]=null;for(;e===Kr;)Kr=er[--nr],er[nr]=null,br=er[--nr],er[nr]=null,yr=er[--nr],er[nr]=null}function Y(e,n){er[nr++]=yr,er[nr++]=br,er[nr++]=Kr,yr=n.id,br=n.overflow,Kr=e}function Q(e,n){E(Jr,n),E(Jo,e),E(_t,null),e=Zh(n),S(_t),E(_t,e)}function re(){S(_t),S(Jo),S(Jr)}function se(e){e.memoizedState!==null&&E(Vi,e);var n=_t.current,r=qh(n,e.type);n!==r&&(E(Jo,e),E(_t,r))}function ce(e){Jo.current===e&&(S(_t),S(Jo)),Vi.current===e&&(S(Vi),Cr?wa._currentValue=Ka:wa._currentValue2=Ka)}function Me(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ie(ne(n,e)),Ms}function Ge(e,n){if(!Rt)throw Error(o(175));qp(e.stateNode,e.type,e.memoizedProps,n,e)||Me(e,!0)}function _e(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Et=Et.return}}function de(e){if(!Rt||e!==Et)return!1;if(!Mn)return _e(e),Mn=!0,!1;var n=e.tag;if(dt?n!==3&&n!==27&&(n!==5||hf(e.type)&&!Li(e.type,e.memoizedProps))&&Kn&&Me(e):n!==3&&(n!==5||hf(e.type)&&!Li(e.type,e.memoizedProps))&&Kn&&Me(e),_e(e),n===13){if(!Rt)throw Error(o(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Kn=ev(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Kn=$p(e)}else Kn=dt&&n===27?Lp(e.type,Kn):Et?df(e.stateNode):null;return!0}function Ke(){Rt&&(Kn=Et=null,Mn=!1)}function Ye(){var e=$r;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),$r=null),e}function Ie(e){$r===null?$r=[e]:$r.push(e)}function De(e,n,r){Cr?(E(Xi,n._currentValue),n._currentValue=r):(E(Xi,n._currentValue2),n._currentValue2=r)}function Pe(e){var n=Xi.current;Cr?e._currentValue=n:e._currentValue2=n,S(Xi)}function ge(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function je(e,n,r,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var v=c.dependencies;if(v!==null){var w=c.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=c;for(var ae=0;ae<n.length;ae++)if(A.context===n[ae]){v.lanes|=r,A=v.alternate,A!==null&&(A.lanes|=r),ge(v.return,r,e),i||(w=null);break e}v=A.next}}else if(c.tag===18){if(w=c.return,w===null)throw Error(o(341));w.lanes|=r,v=w.alternate,v!==null&&(v.lanes|=r),ge(w,r,e),w=null}else w=c.child;if(w!==null)w.return=c;else for(w=c;w!==null;){if(w===e){w=null;break}if(c=w.sibling,c!==null){c.return=w.return,w=c;break}w=w.return}c=w}}function Ae(e,n,r,i){e=null;for(var c=n,v=!1;c!==null;){if(!v){if((c.flags&524288)!==0)v=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var w=c.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var A=c.type;Qt(c.pendingProps.value,w.value)||(e!==null?e.push(A):e=[A])}}else if(c===Vi.current){if(w=c.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wa):e=[wa])}c=c.return}e!==null&&je(n,e,r,i),n.flags|=262144}function fe(e){for(e=e.firstContext;e!==null;){var n=e.context;if(!Qt(Cr?n._currentValue:n._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function Qe(e){_a=e,Fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ye(e){return Fe(_a,e)}function Re(e,n){return _a===null&&Qe(e),Fe(e,n)}function Fe(e,n){var r=Cr?n._currentValue:n._currentValue2;if(n={context:n,memoizedValue:r,next:null},Fr===null){if(e===null)throw Error(o(308));Fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fr=Fr.next=n;return r}function yn(){return{controller:new Cv,data:new Map,refCount:0}}function Ne(e){e.refCount--,e.refCount===0&&Uv(Fv,function(){e.controller.abort()})}function ze(){}function Oe(e){e!==ro&&e.next===null&&(ro===null?Yi=ro=e:ro=ro.next=e),Zi=!0,Cs||(Cs=!0,B())}function $e(e,n){if(!Us&&Zi){Us=!0;do for(var r=!1,i=Yi;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var v=0;else{var w=i.suspendedLanes,A=i.pingedLanes;v=(1<<31-Zt(42|e)+1)-1,v&=c&~(w&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,Ve(i,v))}else v=En,v=U(i,i===Gn?v:0,i.cancelPendingCommit!==null||i.timeoutHandle!==Sa),(v&3)===0||x(i,v)||(r=!0,Ve(i,v));i=i.next}while(r);Us=!1}}function Cn(){Pn()}function Pn(){Zi=Cs=!1;var e=0;Ea!==0&&ap()&&(e=Ea);for(var n=Bt(),r=null,i=Yi;i!==null;){var c=i.next,v=ln(i,n);v===0?(i.next=null,r===null?Yi=c:r.next=c,c===null&&(ro=r)):(r=i,(e!==0||(v&3)!==0)&&(Zi=!0)),i=c}ht!==0&&ht!==5||$e(e),Ea!==0&&(Ea=0)}function ln(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var w=31-Zt(v),A=1<<w,ae=c[w];ae===-1?((A&r)===0||(A&i)!==0)&&(c[w]=G(A,n)):ae<=n&&(e.expiredLanes|=A),v&=~A}if(n=Gn,r=En,r=U(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==Sa),i=e.callbackNode,r===0||e===n&&(zn===2||zn===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Es(i),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||x(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(i!==null&&Es(i),z(r)){case 2:case 8:r=Ev;break;case 32:r=xs;break;case 268435456:r=xv;break;default:r=xs}return i=Ze.bind(null,e),r=Hi(r,i),e.callbackPriority=n,e.callbackNode=r,n}return i!==null&&i!==null&&Es(i),e.callbackPriority=2,e.callbackNode=null,2}function Ze(e,n){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Xo()&&e.callbackNode!==r)return null;var i=En;return i=U(e,e===Gn?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==Sa),i===0?null:(Tc(e,i,n),ln(e,Bt()),e.callbackNode!=null&&e.callbackNode===r?Ze.bind(null,e):null)}function Ve(e,n){if(Xo())return null;Tc(e,n,!0)}function B(){fp?dp(function(){(Sn&6)!==0?Hi(xf,Cn):Pn()}):Hi(xf,Cn)}function ue(){if(Ea===0){var e=ao;e===0&&(e=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Ea=e}return Ea}function Ce(e,n){if($o===null){var r=$o=[];Fs=0,ao=ue(),oo={status:"pending",value:void 0,then:function(i){r.push(i)}}}return Fs++,n.then(We,We),n}function We(){if(--Fs===0&&$o!==null){oo!==null&&(oo.status="fulfilled");var e=$o;$o=null,ao=0,oo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oe(e,n){var r=[],i={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){i.status="fulfilled",i.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(i.status="rejected",i.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),i}function on(){var e=xa.current;return e!==null?e:Gn.pooledCache}function Xn(e,n){n===null?E(xa,xa.current):E(xa,n.pool)}function Un(){var e=on();return e===null?null:{parent:Cr?Jn._currentValue:Jn._currentValue2,pool:e}}function fn(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var c=r[i];if(!Mv.call(n,c)||!Qt(e[c],n[c]))return!1}return!0}function xn(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gn(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ze,ze),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hn(e),e;default:if(typeof n.status=="string")n.then(ze,ze);else{if(e=Gn,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(i){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=i}},function(i){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hn(e),e}throw ka=n,io}}function qe(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ka=r,io):r}}function kn(){if(ka===null)throw Error(o(459));var e=ka;return ka=null,e}function Hn(e){if(e===io||e===qi)throw Error(o(483))}function Ln(e){var n=ei;return ei+=1,lo===null&&(lo=[]),gn(lo,e,n)}function jn(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pt(e,n){throw n.$$typeof===Hh?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Tt(e){function n(q,W){if(e){var $=q.deletions;$===null?(q.deletions=[W],q.flags|=16):$.push(W)}}function r(q,W){if(!e)return null;for(;W!==null;)n(q,W),W=W.sibling;return null}function i(q){for(var W=new Map;q!==null;)q.key!==null?W.set(q.key,q):W.set(q.index,q),q=q.sibling;return W}function c(q,W){return q=Mr(q,W),q.index=0,q.sibling=null,q}function v(q,W,$){return q.index=$,e?($=q.alternate,$!==null?($=$.index,$<W?(q.flags|=67108866,W):$):(q.flags|=67108866,W)):(q.flags|=1048576,W)}function w(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function A(q,W,$,Se){return W===null||W.tag!==6?(W=ls($,q.mode,Se),W.return=q,W):(W=c(W,$),W.return=q,W)}function ae(q,W,$,Se){var tn=$.type;return tn===Qa?Ue(q,W,$.props.children,Se,$.key):W!==null&&(W.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===Qr&&qe(tn)===W.type)?(W=c(W,$.props),jn(W,$),W.return=q,W):(W=Pi($.type,$.key,$.props,null,q.mode,Se),jn(W,$),W.return=q,W)}function pe(q,W,$,Se){return W===null||W.tag!==4||W.stateNode.containerInfo!==$.containerInfo||W.stateNode.implementation!==$.implementation?(W=ss($,q.mode,Se),W.return=q,W):(W=c(W,$.children||[]),W.return=q,W)}function Ue(q,W,$,Se,tn){return W===null||W.tag!==7?(W=ba($,q.mode,Se,tn),W.return=q,W):(W=c(W,$),W.return=q,W)}function be(q,W,$){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=ls(""+W,q.mode,$),W.return=q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Ni:return $=Pi(W.type,W.key,W.props,null,q.mode,$),jn($,W),$.return=q,$;case qa:return W=ss(W,q.mode,$),W.return=q,W;case Qr:return W=qe(W),be(q,W,$)}if(zi(W)||m(W))return W=ba(W,q.mode,$,null),W.return=q,W;if(typeof W.then=="function")return be(q,Ln(W),$);if(W.$$typeof===qr)return be(q,Re(q,W),$);pt(q,W)}return null}function Be(q,W,$,Se){var tn=W!==null?W.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return tn!==null?null:A(q,W,""+$,Se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ni:return $.key===tn?ae(q,W,$,Se):null;case qa:return $.key===tn?pe(q,W,$,Se):null;case Qr:return $=qe($),Be(q,W,$,Se)}if(zi($)||m($))return tn!==null?null:Ue(q,W,$,Se,null);if(typeof $.then=="function")return Be(q,W,Ln($),Se);if($.$$typeof===qr)return Be(q,W,Re(q,$),Se);pt(q,$)}return null}function pn(q,W,$,Se,tn){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return q=q.get($)||null,A(W,q,""+Se,tn);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case Ni:return q=q.get(Se.key===null?$:Se.key)||null,ae(W,q,Se,tn);case qa:return q=q.get(Se.key===null?$:Se.key)||null,pe(W,q,Se,tn);case Qr:return Se=qe(Se),pn(q,W,$,Se,tn)}if(zi(Se)||m(Se))return q=q.get($)||null,Ue(W,q,Se,tn,null);if(typeof Se.then=="function")return pn(q,W,$,Ln(Se),tn);if(Se.$$typeof===qr)return pn(q,W,$,Re(W,Se),tn);pt(W,Se)}return null}function st(q,W,$,Se){for(var tn=null,$n=null,sn=W,Rn=W=0,gt=null;sn!==null&&Rn<$.length;Rn++){sn.index>Rn?(gt=sn,sn=null):gt=sn.sibling;var On=Be(q,sn,$[Rn],Se);if(On===null){sn===null&&(sn=gt);break}e&&sn&&On.alternate===null&&n(q,sn),W=v(On,W,Rn),$n===null?tn=On:$n.sibling=On,$n=On,sn=gt}if(Rn===$.length)return r(q,sn),Mn&&X(q,Rn),tn;if(sn===null){for(;Rn<$.length;Rn++)sn=be(q,$[Rn],Se),sn!==null&&(W=v(sn,W,Rn),$n===null?tn=sn:$n.sibling=sn,$n=sn);return Mn&&X(q,Rn),tn}for(sn=i(sn);Rn<$.length;Rn++)gt=pn(sn,q,Rn,$[Rn],Se),gt!==null&&(e&&gt.alternate!==null&&sn.delete(gt.key===null?Rn:gt.key),W=v(gt,W,Rn),$n===null?tn=gt:$n.sibling=gt,$n=gt);return e&&sn.forEach(function(oa){return n(q,oa)}),Mn&&X(q,Rn),tn}function li(q,W,$,Se){if($==null)throw Error(o(151));for(var tn=null,$n=null,sn=W,Rn=W=0,gt=null,On=$.next();sn!==null&&!On.done;Rn++,On=$.next()){sn.index>Rn?(gt=sn,sn=null):gt=sn.sibling;var oa=Be(q,sn,On.value,Se);if(oa===null){sn===null&&(sn=gt);break}e&&sn&&oa.alternate===null&&n(q,sn),W=v(oa,W,Rn),$n===null?tn=oa:$n.sibling=oa,$n=oa,sn=gt}if(On.done)return r(q,sn),Mn&&X(q,Rn),tn;if(sn===null){for(;!On.done;Rn++,On=$.next())On=be(q,On.value,Se),On!==null&&(W=v(On,W,Rn),$n===null?tn=On:$n.sibling=On,$n=On);return Mn&&X(q,Rn),tn}for(sn=i(sn);!On.done;Rn++,On=$.next())On=pn(sn,q,Rn,On.value,Se),On!==null&&(e&&On.alternate!==null&&sn.delete(On.key===null?Rn:On.key),W=v(On,W,Rn),$n===null?tn=On:$n.sibling=On,$n=On);return e&&sn.forEach(function(Rv){return n(q,Rv)}),Mn&&X(q,Rn),tn}function Ua(q,W,$,Se){if(typeof $=="object"&&$!==null&&$.type===Qa&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Ni:e:{for(var tn=$.key;W!==null;){if(W.key===tn){if(tn=$.type,tn===Qa){if(W.tag===7){r(q,W.sibling),Se=c(W,$.props.children),Se.return=q,q=Se;break e}}else if(W.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===Qr&&qe(tn)===W.type){r(q,W.sibling),Se=c(W,$.props),jn(Se,$),Se.return=q,q=Se;break e}r(q,W);break}else n(q,W);W=W.sibling}$.type===Qa?(Se=ba($.props.children,q.mode,Se,$.key),Se.return=q,q=Se):(Se=Pi($.type,$.key,$.props,null,q.mode,Se),jn(Se,$),Se.return=q,q=Se)}return w(q);case qa:e:{for(tn=$.key;W!==null;){if(W.key===tn)if(W.tag===4&&W.stateNode.containerInfo===$.containerInfo&&W.stateNode.implementation===$.implementation){r(q,W.sibling),Se=c(W,$.children||[]),Se.return=q,q=Se;break e}else{r(q,W);break}else n(q,W);W=W.sibling}Se=ss($,q.mode,Se),Se.return=q,q=Se}return w(q);case Qr:return $=qe($),Ua(q,W,$,Se)}if(zi($))return st(q,W,$,Se);if(m($)){if(tn=m($),typeof tn!="function")throw Error(o(150));return $=tn.call($),li(q,W,$,Se)}if(typeof $.then=="function")return Ua(q,W,Ln($),Se);if($.$$typeof===qr)return Ua(q,W,Re(q,$),Se);pt(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,W!==null&&W.tag===6?(r(q,W.sibling),Se=c(W,$),Se.return=q,q=Se):(r(q,W),Se=ls($,q.mode,Se),Se.return=q,q=Se),w(q)):r(q,W)}return function(q,W,$,Se){try{ei=0;var tn=Ua(q,W,$,Se);return lo=null,tn}catch(sn){if(sn===io||sn===qi)throw sn;var $n=p(29,sn,null,q.mode);return $n.lanes=Se,$n.return=q,$n}}}function Mt(){for(var e=so,n=Ds=so=0;n<e;){var r=rr[n];rr[n++]=null;var i=rr[n];rr[n++]=null;var c=rr[n];rr[n++]=null;var v=rr[n];if(rr[n++]=null,i!==null&&c!==null){var w=i.pending;w===null?c.next=c:(c.next=w.next,w.next=c),i.pending=c}v!==0&&tt(r,c,v)}}function ut(e,n,r,i){rr[so++]=e,rr[so++]=n,rr[so++]=r,rr[so++]=i,Ds|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function yt(e,n,r,i){return ut(e,n,r,i),zt(e)}function Je(e,n){return ut(e,null,null,n),zt(e)}function tt(e,n,r){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r);for(var c=!1,v=e.return;v!==null;)v.childLanes|=r,i=v.alternate,i!==null&&(i.childLanes|=r),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(c=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,c&&n!==null&&(c=31-Zt(r),e=v.hiddenUpdates,i=e[c],i===null?e[c]=[n]:i.push(n),n.lane=r|536870912),v):null}function zt(e){if(50<ii)throw ii=0,Ws=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}function y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function D(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Z(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Sn&2)!==0){var c=i.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),i.pending=n,n=zt(e),tt(e,null,r),n}return ut(e,i,n,r),zt(e)}function ee(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,N(e,r)}}function te(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var c=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?c=v=w:v=v.next=w,r=r.next}while(r!==null);v===null?c=v=n:v=v.next=n}else c=v=n;r={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:v,shared:i.shared,callbacks:i.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function me(){if(As){var e=oo;if(e!==null)throw e}}function he(e,n,r,i){As=!1;var c=e.updateQueue;ea=!1;var v=c.firstBaseUpdate,w=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var ae=A,pe=ae.next;ae.next=null,w===null?v=pe:w.next=pe,w=ae;var Ue=e.alternate;Ue!==null&&(Ue=Ue.updateQueue,A=Ue.lastBaseUpdate,A!==w&&(A===null?Ue.firstBaseUpdate=pe:A.next=pe,Ue.lastBaseUpdate=ae))}if(v!==null){var be=c.baseState;w=0,Ue=pe=ae=null,A=v;do{var Be=A.lane&-536870913,pn=Be!==A.lane;if(pn?(En&Be)===Be:(i&Be)===Be){Be!==0&&Be===ao&&(As=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var st=e,li=A;Be=n;var Ua=r;switch(li.tag){case 1:if(st=li.payload,typeof st=="function"){be=st.call(Ua,be,Be);break e}be=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=li.payload,Be=typeof st=="function"?st.call(Ua,be,Be):st,Be==null)break e;be=cs({},be,Be);break e;case 2:ea=!0}}Be=A.callback,Be!==null&&(e.flags|=64,pn&&(e.flags|=8192),pn=c.callbacks,pn===null?c.callbacks=[Be]:pn.push(Be))}else pn={lane:Be,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Ue===null?(pe=Ue=pn,ae=be):Ue=Ue.next=pn,w|=Be;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;pn=A,A=pn.next,pn.next=null,c.lastBaseUpdate=pn,c.shared.pending=null}}while(!0);Ue===null&&(ae=be),c.baseState=ae,c.firstBaseUpdate=pe,c.lastBaseUpdate=Ue,v===null&&(c.shared.lanes=0),ta|=w,e.lanes=w,e.memoizedState=be}}function Ee(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function xe(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ee(r[e],n)}function Te(e,n){e=Ar,E(Ki,e),E(uo,n),Ar=e|n.baseLanes}function J(){E(Ki,Ar),E(uo,uo.current)}function Fn(){Ar=Ki.current,S(uo),S(Ki)}function Le(e){var n=e.alternate;E(rt,rt.current&1),E(Kt,e),hr===null&&(n===null||uo.current!==null||n.memoizedState!==null)&&(hr=e)}function He(e){E(rt,rt.current),E(Kt,e),hr===null&&(hr=e)}function rn(e){e.tag===22?(E(rt,rt.current),E(Kt,e),hr===null&&(hr=e)):an()}function an(){E(rt,rt.current),E(Kt,Kt.current)}function hn(e){S(Kt),hr===e&&(hr=null),S(rt)}function _n(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bs(r)||Ss(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function un(){throw Error(o(321))}function et(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Qt(e[r],n[r]))return!1;return!0}function Tn(e,n,r,i,c,v){return Ir=v,mn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,nn.H=e===null||e.memoizedState===null?Ff:Rs,Ma=!1,v=r(i,c),Ma=!1,co&&(v=Dn(n,r,i,c)),Ct(e),v}function Ct(e){nn.H=ti;var n=Bn!==null&&Bn.next!==null;if(Ir=0,at=Bn=mn=null,Ji=!1,ni=0,fo=null,n)throw Error(o(300));e===null||ot||(e=e.dependencies,e!==null&&fe(e)&&(ot=!0))}function Dn(e,n,r,i){mn=e;var c=0;do{if(co&&(fo=null),ni=0,co=!1,25<=c)throw Error(o(301));if(c+=1,at=Bn=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}nn.H=If,v=n(r,i)}while(co);return v}function qn(){var e=nn.H,n=e.useState()[0];return n=typeof n.then=="function"?dn(n):n,e=e.useState()[0],(Bn!==null?Bn.memoizedState:null)!==e&&(mn.flags|=1024),n}function ct(){var e=$i!==0;return $i=0,e}function Ht(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Qn(e){if(Ji){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ji=!1}Ir=0,at=Bn=mn=null,co=!1,ni=$i=0,fo=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?mn.memoizedState=at=e:at=at.next=e,at}function vn(){if(Bn===null){var e=mn.alternate;e=e!==null?e.memoizedState:null}else e=Bn.next;var n=at===null?mn.memoizedState:at.next;if(n!==null)at=n,Bn=e;else{if(e===null)throw mn.alternate===null?Error(o(467)):Error(o(310));Bn=e,e={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},at===null?mn.memoizedState=at=e:at=at.next=e}return at}function In(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dn(e){var n=ni;return ni+=1,fo===null&&(fo=[]),e=gn(fo,e,n),n=mn,(at===null?n.memoizedState:at.next)===null&&(n=n.alternate,nn.H=n===null||n.memoizedState===null?Ff:Rs),e}function ft(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dn(e);if(e.$$typeof===qr)return ye(e)}throw Error(o(438,String(e)))}function Ut(e){var n=null,r=mn.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=mn.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=In(),mn.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),i=0;i<e;i++)r[i]=Wh;return n.index++,r}function Nn(e,n){return typeof n=="function"?n(e):n}function Ft(e){var n=vn();return Pr(n,Bn,e)}function Pr(e,n,r){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=r;var c=e.baseQueue,v=i.pending;if(v!==null){if(c!==null){var w=c.next;c.next=v.next,v.next=w}n.baseQueue=c=v,i.pending=null}if(v=e.baseState,c===null)e.memoizedState=v;else{n=c.next;var A=w=null,ae=null,pe=n,Ue=!1;do{var be=pe.lane&-536870913;if(be!==pe.lane?(En&be)===be:(Ir&be)===be){var Be=pe.revertLane;if(Be===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),be===ao&&(Ue=!0);else if((Ir&Be)===Be){pe=pe.next,Be===ao&&(Ue=!0);continue}else be={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ae===null?(A=ae=be,w=v):ae=ae.next=be,mn.lanes|=Be,ta|=Be;be=pe.action,Ma&&r(v,be),v=pe.hasEagerState?pe.eagerState:r(v,be)}else Be={lane:be,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ae===null?(A=ae=Be,w=v):ae=ae.next=Be,mn.lanes|=be,ta|=be;pe=pe.next}while(pe!==null&&pe!==n);if(ae===null?w=v:ae.next=A,!Qt(v,e.memoizedState)&&(ot=!0,Ue&&(r=oo,r!==null)))throw r;e.memoizedState=v,e.baseState=w,e.baseQueue=ae,i.lastRenderedState=v}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Nr(e){var n=vn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,c=r.pending,v=n.memoizedState;if(c!==null){r.pending=null;var w=c=c.next;do v=e(v,w.action),w=w.next;while(w!==c);Qt(v,n.memoizedState)||(ot=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),r.lastRenderedState=v}return[v,i]}function Pa(e,n,r){var i=mn,c=vn(),v=Mn;if(v){if(r===void 0)throw Error(o(407));r=r()}else r=n();var w=!Qt((Bn||c).memoizedState,r);if(w&&(c.memoizedState=r,ot=!0),c=c.queue,Er(Na.bind(null,i,c,e),[e]),c.getSnapshot!==n||w||at!==null&&at.memoizedState.tag&1){if(i.flags|=2048,_r(9,{destroy:void 0},Do.bind(null,i,c,r,n),null),Gn===null)throw Error(o(349));v||(Ir&127)!==0||Io(i,n,r)}return r}function Io(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=mn.updateQueue,n===null?(n=In(),mn.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Do(e,n,r,i){n.value=r,n.getSnapshot=i,zr(n)&&Ao(e)}function Na(e,n,r){return r(function(){zr(n)&&Ao(e)})}function zr(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Qt(e,r)}catch{return!0}}function Ao(e){var n=Je(e,2);n!==null&&Lt(n,e,2)}function Lr(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Ma){j(!0);try{r()}finally{j(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n}function wr(e,n,r,i){return e.baseState=r,Pr(e,Bn,typeof i=="function"?i:Nn)}function Br(e,n,r,i,c){if(xi(e))throw Error(o(485));if(e=n.action,e!==null){var v={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};nn.T!==null?r(!0):v.isTransition=!1,i(v),r=n.pending,r===null?(v.next=n.pending=v,jr(n,v)):(v.next=r.next,n.pending=r.next=v)}}function jr(e,n){var r=n.action,i=n.payload,c=e.state;if(n.isTransition){var v=nn.T,w={};nn.T=w;try{var A=r(c,i),ae=nn.S;ae!==null&&ae(w,A),Ro(e,n,A)}catch(pe){ca(e,n,pe)}finally{v!==null&&w.types!==null&&(v.types=w.types),nn.T=v}}else try{v=r(c,i),Ro(e,n,v)}catch(pe){ca(e,n,pe)}}function Ro(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){Gr(e,n,i)},function(i){return ca(e,n,i)}):Gr(e,n,r)}function Gr(e,n,r){n.status="fulfilled",n.value=r,za(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,jr(e,r)))}function ca(e,n,r){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,za(n),n=n.next;while(n!==i)}e.action=null}function za(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Oo(e,n){return n}function fa(e,n){if(Mn){var r=Gn.formState;if(r!==null){e:{var i=mn;if(Mn){if(Kn){var c=Np(Kn,tr);if(c){Kn=df(c),i=zp(c);break e}}Me(i)}i=!1}i&&(n=r[0])}}r=cn(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:n},r.queue=i,r=sr.bind(null,mn,i),i.dispatch=r,i=Lr(!1);var v=Rl.bind(null,mn,!1,i.queue);return i=cn(),c={state:n,dispatch:null,action:e,pending:null},i.queue=c,r=Br.bind(null,mn,c,v,r),c.dispatch=r,i.memoizedState=e,[n,r,!1]}function La(e){var n=vn();return Po(n,Bn,e)}function Po(e,n,r){if(n=Pr(e,n,Oo)[0],e=Ft(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=dn(n)}catch(w){throw w===io?qi:w}else i=n;n=vn();var c=n.queue,v=c.dispatch;return r!==n.memoizedState&&(mn.flags|=2048,_r(9,{destroy:void 0},Wt.bind(null,c,r),null)),[i,v,e]}function Wt(e,n){e.action=n}function Ba(e){var n=vn(),r=Bn;if(r!==null)return Po(n,r,e);vn(),n=n.memoizedState,r=vn();var i=r.queue.dispatch;return r.memoizedState=e,[n,i,!1]}function _r(e,n,r,i){return e={tag:e,create:r,deps:i,inst:n,next:null},n=mn.updateQueue,n===null&&(n=In(),mn.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e),e}function No(){return vn().memoizedState}function Hr(e,n,r,i){var c=cn();mn.flags|=e,c.memoizedState=_r(1|n,{destroy:void 0},r,i===void 0?null:i)}function da(e,n,r,i){var c=vn();i=i===void 0?null:i;var v=c.memoizedState.inst;Bn!==null&&i!==null&&et(i,Bn.memoizedState.deps)?c.memoizedState=_r(n,v,r,i):(mn.flags|=e,c.memoizedState=_r(1|n,v,r,i))}function zo(e,n){Hr(8390656,8,e,n)}function Er(e,n){da(2048,8,e,n)}function ha(e){mn.flags|=4;var n=mn.updateQueue;if(n===null)n=In(),mn.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function lr(e){var n=vn().memoizedState;return ha({ref:n,nextImpl:e}),function(){if((Sn&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Lo(e,n){return da(4,2,e,n)}function ja(e,n){return da(4,4,e,n)}function Ga(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Wr(e,n,r){r=r!=null?r.concat([e]):null,da(4,4,Ga.bind(null,n,e),r)}function Ha(){}function Vr(e,n){var r=vn();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&et(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function Wa(e,n){var r=vn();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&et(n,i[1]))return i[0];if(i=e(),Ma){j(!0);try{e()}finally{j(!1)}}return r.memoizedState=[i,n],i}function bt(e,n,r){return r===void 0||(Ir&1073741824)!==0&&(En&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=kc(),mn.lanes|=e,ta|=e,r)}function _i(e,n,r,i){return Qt(r,n)?r:uo.current!==null?(e=bt(e,r,i),Qt(e,n)||(ot=!0),e):(Ir&42)===0||(Ir&1073741824)!==0&&(En&261930)===0?(ot=!0,e.memoizedState=r):(e=kc(),mn.lanes|=e,ta|=e,n)}function pa(e,n,r,i,c){var v=Ur();vt(v!==0&&8>v?v:8);var w=nn.T,A={};nn.T=A,Rl(e,!1,n,r);try{var ae=c(),pe=nn.S;if(pe!==null&&pe(A,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ue=oe(ae,i);Xr(e,n,Ue,Xt(e))}else Xr(e,n,i,Xt(e))}catch(be){Xr(e,n,{then:function(){},status:"rejected",reason:be},Xt())}finally{vt(v),w!==null&&A.types!==null&&(w.types=A.types),nn.T=w}}function va(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ka,baseState:Ka,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:Ka},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Va(){return ye(wa)}function Ei(){return vn().memoizedState}function St(){return vn().memoizedState}function Vt(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Xt();e=D(r);var i=Z(n,e,r);i!==null&&(Lt(i,n,r),ee(i,n,r)),n={cache:yn()},e.payload=n;return}n=n.return}}function It(e,n,r){var i=Xt();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xi(e)?Pu(n,r):(r=yt(e,n,r,i),r!==null&&(Lt(r,e,i),Nu(r,n,i)))}function sr(e,n,r){var i=Xt();Xr(e,n,r,i)}function Xr(e,n,r,i){var c={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xi(e))Pu(n,c);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var w=n.lastRenderedState,A=v(w,r);if(c.hasEagerState=!0,c.eagerState=A,Qt(A,w))return ut(e,n,c,0),Gn===null&&Mt(),!1}catch{}if(r=yt(e,n,c,i),r!==null)return Lt(r,e,i),Nu(r,n,i),!0}return!1}function Rl(e,n,r,i){if(i={lane:2,revertLane:ue(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},xi(e)){if(n)throw Error(o(479))}else n=yt(e,r,i,2),n!==null&&Lt(n,e,2)}function xi(e){var n=e.alternate;return e===mn||n!==null&&n===mn}function Pu(e,n){co=Ji=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Nu(e,n,r){if((r&4194048)!==0){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,N(e,r)}}function Ol(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:cs({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}function zu(e,n,r,i,c,v,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,v,w):n.prototype&&n.prototype.isPureReactComponent?!fn(r,i)||!fn(c,v):!0}function Lu(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&Os.enqueueReplaceState(n,n.state,null)}function ma(e,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(e=e.defaultProps){r===n&&(r=cs({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function ki(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Bu(e,n,r){try{var i=e.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Pl(e,n,r){return r=D(r),r.tag=3,r.payload={element:null},r.callback=function(){ki(e,n)},r}function ju(e){return e=D(e),e.tag=3,e}function Gu(e,n,r,i){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var v=i.value;e.payload=function(){return c(v)},e.callback=function(){Bu(n,r,i)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Bu(n,r,i),typeof c!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})})}function kh(e,n,r,i,c){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&Ae(n,r,c,!0),r=Kt.current,r!==null){switch(r.tag){case 31:case 13:return hr===null?Ri():r.alternate===null&&nt===0&&(nt=3),r.flags&=-257,r.flags|=65536,r.lanes=c,i===Qi?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),os(e,i,c)),!1;case 22:return r.flags|=65536,i===Qi?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),os(e,i,c)),!1}throw Error(o(435,r.tag))}return os(e,i,c),Ri(),!1}if(Mn)return n=Kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,i!==Ms&&(e=Error(o(422),{cause:i}),Ie(ne(e,r)))):(i!==Ms&&(n=Error(o(423),{cause:i}),Ie(ne(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=ne(i,r),c=Pl(e.stateNode,i,c),te(e,c),nt!==4&&(nt=2)),!1;var v=Error(o(520),{cause:i});if(v=ne(v,r),ai===null?ai=[v]:ai.push(v),nt!==4&&(nt=2),n===null)return!0;i=ne(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Pl(r.stateNode,i,e),te(r,e),!1;case 1:if(n=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ra===null||!ra.has(v))))return r.flags|=65536,c&=-c,r.lanes|=c,c=ju(c),Gu(c,e,r,i),te(r,c),!1}r=r.return}while(r!==null);return!1}function wt(e,n,r,i){n.child=e===null?Uf(n,null,r,i):Ta(n,e.child,r,i)}function Hu(e,n,r,i,c){r=r.render;var v=n.ref;if("ref"in i){var w={};for(var A in i)A!=="ref"&&(w[A]=i[A])}else w=i;return Qe(n),i=Tn(e,n,r,w,v,c),A=ct(),e!==null&&!ot?(Ht(e,n,c),xr(e,n,c)):(Mn&&A&&L(n),n.flags|=1,wt(e,n,i,c),n.child)}function Wu(e,n,r,i,c){if(e===null){var v=r.type;return typeof v=="function"&&!is(v)&&v.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=v,Vu(e,n,v,i,c)):(e=Pi(r.type,null,i,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!Hl(e,c)){var w=v.memoizedProps;if(r=r.compare,r=r!==null?r:fn,r(w,i)&&e.ref===n.ref)return xr(e,n,c)}return n.flags|=1,e=Mr(v,i),e.ref=n.ref,e.return=n,n.child=e}function Vu(e,n,r,i,c){if(e!==null){var v=e.memoizedProps;if(fn(v,i)&&e.ref===n.ref)if(ot=!1,n.pendingProps=i=v,Hl(e,c))(e.flags&131072)!==0&&(ot=!0);else return n.lanes=e.lanes,xr(e,n,c)}return Nl(e,n,r,i,c)}function Xu(e,n,r,i){var c=i.children,v=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,e!==null){for(i=n.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~v}else i=0,n.child=null;return Yu(e,n,v,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xn(n,v!==null?v.cachePool:null),v!==null?Te(n,v):J(),rn(n);else return i=n.lanes=536870912,Yu(e,n,v!==null?v.baseLanes|r:r,r,i)}else v!==null?(Xn(n,v.cachePool),Te(n,v),an(),n.memoizedState=null):(e!==null&&Xn(n,null),J(),an());return wt(e,n,c,r),n.child}function Bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yu(e,n,r,i,c){var v=on();return v=v===null?null:{parent:Cr?Jn._currentValue:Jn._currentValue2,pool:v},n.memoizedState={baseLanes:r,cachePool:v},e!==null&&Xn(n,null),J(),rn(n),e!==null&&Ae(e,n,i,!0),n.childLanes=c,null}function Ti(e,n){return n=Ci({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zu(e,n,r){return Ta(n,e.child,null,r),e=Ti(n,n.pendingProps),e.flags|=2,hn(n),n.memoizedState=null,e}function Th(e,n,r){var i=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mn){if(i.mode==="hidden")return e=Ti(n,i),n.lanes=536870912,Bo(null,e);if(He(n),(e=Kn)?(e=Yp(e,tr),e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:yr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},r=Vc(e),r.return=n,n.child=r,Et=n,Kn=null)):e=null,e===null)throw Me(n);return n.lanes=536870912,null}return Ti(n,i)}var v=e.memoizedState;if(v!==null){var w=v.dehydrated;if(He(n),c)if(n.flags&256)n.flags&=-257,n=Zu(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(ot||Ae(e,n,r,!1),c=(r&e.childLanes)!==0,ot||c){if(i=Gn,i!==null&&(w=O(i,r),w!==0&&w!==v.retryLane))throw v.retryLane=w,Je(e,w),Lt(i,e,w),Ps;Ri(),n=Zu(e,n,r)}else e=v.treeContext,Rt&&(Kn=Gp(w),Et=n,Mn=!0,$r=null,tr=!1,e!==null&&Y(n,e)),n=Ti(n,i),n.flags|=4096;return n}return e=Mr(e.child,{mode:i.mode,children:i.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mi(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nl(e,n,r,i,c){return Qe(n),r=Tn(e,n,r,i,void 0,c),i=ct(),e!==null&&!ot?(Ht(e,n,c),xr(e,n,c)):(Mn&&i&&L(n),n.flags|=1,wt(e,n,r,c),n.child)}function qu(e,n,r,i,c,v){return Qe(n),n.updateQueue=null,r=Dn(n,i,r,c),Ct(e),i=ct(),e!==null&&!ot?(Ht(e,n,v),xr(e,n,v)):(Mn&&i&&L(n),n.flags|=1,wt(e,n,r,v),n.child)}function Qu(e,n,r,i,c){if(Qe(n),n.stateNode===null){var v=eo,w=r.contextType;typeof w=="object"&&w!==null&&(v=ye(w)),v=new r(i,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Os,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=i,v.state=n.memoizedState,v.refs={},y(n),w=r.contextType,v.context=typeof w=="object"&&w!==null?ye(w):eo,v.state=n.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Ol(n,r,w,i),v.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Os.enqueueReplaceState(v,v.state,null),he(n,i,v,c),me(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(e===null){v=n.stateNode;var A=n.memoizedProps,ae=ma(r,A);v.props=ae;var pe=v.context,Ue=r.contextType;w=eo,typeof Ue=="object"&&Ue!==null&&(w=ye(Ue));var be=r.getDerivedStateFromProps;Ue=typeof be=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,Ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||pe!==w)&&Lu(n,v,i,w),ea=!1;var Be=n.memoizedState;v.state=Be,he(n,i,v,c),me(),pe=n.memoizedState,A||Be!==pe||ea?(typeof be=="function"&&(Ol(n,r,be,i),pe=n.memoizedState),(ae=ea||zu(n,r,ae,i,Be,pe,w))?(Ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=pe),v.props=i,v.state=pe,v.context=w,i=ae):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{v=n.stateNode,_(e,n),w=n.memoizedProps,Ue=ma(r,w),v.props=Ue,be=n.pendingProps,Be=v.context,pe=r.contextType,ae=eo,typeof pe=="object"&&pe!==null&&(ae=ye(pe)),A=r.getDerivedStateFromProps,(pe=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==be||Be!==ae)&&Lu(n,v,i,ae),ea=!1,Be=n.memoizedState,v.state=Be,he(n,i,v,c),me();var pn=n.memoizedState;w!==be||Be!==pn||ea||e!==null&&e.dependencies!==null&&fe(e.dependencies)?(typeof A=="function"&&(Ol(n,r,A,i),pn=n.memoizedState),(Ue=ea||zu(n,r,Ue,i,Be,pn,ae)||e!==null&&e.dependencies!==null&&fe(e.dependencies))?(pe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(i,pn,ae),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(i,pn,ae)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&Be===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Be===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=pn),v.props=i,v.state=pn,v.context=ae,i=Ue):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&Be===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Be===e.memoizedState||(n.flags|=1024),i=!1)}return v=i,Mi(e,n),i=(n.flags&128)!==0,v||i?(v=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&i?(n.child=Ta(n,e.child,null,c),n.child=Ta(n,null,r,c)):wt(e,n,r,c),n.memoizedState=v.state,e=n.child):e=xr(e,n,c),e}function Ku(e,n,r,i){return Ke(),n.flags|=256,wt(e,n,r,i),n.child}function zl(e){return{baseLanes:e,cachePool:Un()}}function Ll(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=$t),e}function Ju(e,n,r){var i=n.pendingProps,c=!1,v=(n.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),w&&(c=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mn){if(c?Le(n):an(),(e=Kn)?(e=Zp(e,tr),e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:yr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},r=Vc(e),r.return=n,n.child=r,Et=n,Kn=null)):e=null,e===null)throw Me(n);return Ss(e)?n.lanes=32:n.lanes=536870912,null}var A=i.children;return i=i.fallback,c?(an(),c=n.mode,A=Ci({mode:"hidden",children:A},c),i=ba(i,c,r,null),A.return=n,i.return=n,A.sibling=i,n.child=A,i=n.child,i.memoizedState=zl(r),i.childLanes=Ll(e,w,r),n.memoizedState=Ns,Bo(null,i)):(Le(n),Bl(n,A))}var ae=e.memoizedState;if(ae!==null&&(A=ae.dehydrated,A!==null)){if(v)n.flags&256?(Le(n),n.flags&=-257,n=jl(e,n,r)):n.memoizedState!==null?(an(),n.child=e.child,n.flags|=128,n=null):(an(),A=i.fallback,c=n.mode,i=Ci({mode:"visible",children:i.children},c),A=ba(A,c,r,null),A.flags|=2,i.return=n,A.return=n,i.sibling=A,n.child=i,Ta(n,e.child,null,r),i=n.child,i.memoizedState=zl(r),i.childLanes=Ll(e,w,r),n.memoizedState=Ns,n=Bo(null,i));else if(Le(n),Ss(A))w=Op(A).digest,i=Error(o(419)),i.stack="",i.digest=w,Ie({value:i,source:null,stack:null}),n=jl(e,n,r);else if(ot||Ae(e,n,r,!1),w=(r&e.childLanes)!==0,ot||w){if(w=Gn,w!==null&&(i=O(w,r),i!==0&&i!==ae.retryLane))throw ae.retryLane=i,Je(e,i),Lt(w,e,i),Ps;bs(A)||Ri(),n=jl(e,n,r)}else bs(A)?(n.flags|=192,n.child=e.child,n=null):(e=ae.treeContext,Rt&&(Kn=Hp(A),Et=n,Mn=!0,$r=null,tr=!1,e!==null&&Y(n,e)),n=Bl(n,i.children),n.flags|=4096);return n}return c?(an(),A=i.fallback,c=n.mode,ae=e.child,v=ae.sibling,i=Mr(ae,{mode:"hidden",children:i.children}),i.subtreeFlags=ae.subtreeFlags&65011712,v!==null?A=Mr(v,A):(A=ba(A,c,r,null),A.flags|=2),A.return=n,i.return=n,i.sibling=A,n.child=i,Bo(null,i),i=n.child,A=e.child.memoizedState,A===null?A=zl(r):(c=A.cachePool,c!==null?(ae=Cr?Jn._currentValue:Jn._currentValue2,c=c.parent!==ae?{parent:ae,pool:ae}:c):c=Un(),A={baseLanes:A.baseLanes|r,cachePool:c}),i.memoizedState=A,i.childLanes=Ll(e,w,r),n.memoizedState=Ns,Bo(e.child,i)):(Le(n),r=e.child,e=r.sibling,r=Mr(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=r,n.memoizedState=null,r)}function Bl(e,n){return n=Ci({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ci(e,n){return e=p(22,e,null,n),e.lanes=0,e}function jl(e,n,r){return Ta(n,e.child,null,r),e=Bl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $u(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),ge(e.return,n,r)}function Gl(e,n,r,i,c,v){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:c,treeForkCount:v}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=i,w.tail=r,w.tailMode=c,w.treeForkCount=v)}function ec(e,n,r){var i=n.pendingProps,c=i.revealOrder,v=i.tail;i=i.children;var w=rt.current,A=(w&2)!==0;if(A?(w=w&1|2,n.flags|=128):w&=1,E(rt,w),wt(e,n,i,r),i=Mn?Ko:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$u(e,r,n);else if(e.tag===19)$u(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&_n(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Gl(n,!1,c,r,v,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&_n(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Gl(n,!0,r,null,v,i);break;case"together":Gl(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function xr(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ta|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ae(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Mr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Hl(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fe(e)))}function Mh(e,n,r){switch(n.tag){case 3:Q(n,n.stateNode.containerInfo),De(n,Jn,e.memoizedState.cache),Ke();break;case 27:case 5:se(n);break;case 4:Q(n,n.stateNode.containerInfo);break;case 10:De(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,He(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(Le(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ju(e,n,r):(Le(n),e=xr(e,n,r),e!==null?e.sibling:null);Le(n);break;case 19:var c=(e.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(Ae(e,n,r,!1),i=(r&n.childLanes)!==0),c){if(i)return ec(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),E(rt,rt.current),i)break;return null;case 22:return n.lanes=0,Xu(e,n,r,n.pendingProps);case 24:De(n,Jn,e.memoizedState.cache)}return xr(e,n,r)}function nc(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ot=!0;else{if(!Hl(e,r)&&(n.flags&128)===0)return ot=!1,Mh(e,n,r);ot=(e.flags&131072)!==0}else ot=!1,Mn&&(n.flags&1048576)!==0&&C(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(e=qe(n.elementType),n.type=e,typeof e=="function")is(e)?(i=ma(e,i),n.tag=1,n=Qu(null,n,e,i,r)):(n.tag=0,n=Nl(null,n,e,i,r));else{if(e!=null){var c=e.$$typeof;if(c===ds){n.tag=11,n=Hu(null,n,e,i,r);break e}else if(c===vs){n.tag=14,n=Wu(null,n,e,i,r);break e}}throw n=g(e)||e,Error(o(306,n,""))}}return n;case 0:return Nl(e,n,n.type,n.pendingProps,r);case 1:return i=n.type,c=ma(i,n.pendingProps),Qu(e,n,i,c,r);case 3:e:{if(Q(n,n.stateNode.containerInfo),e===null)throw Error(o(387));var v=n.pendingProps;c=n.memoizedState,i=c.element,_(e,n),he(n,v,null,r);var w=n.memoizedState;if(v=w.cache,De(n,Jn,v),v!==c.cache&&je(n,[Jn],r,!0),me(),v=w.element,Rt&&c.isDehydrated)if(c={element:v,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Ku(e,n,v,r);break e}else if(v!==i){i=ne(Error(o(424)),n),Ie(i),n=Ku(e,n,v,r);break e}else for(Rt&&(Kn=jp(n.stateNode.containerInfo),Et=n,Mn=!0,$r=null,tr=!0),r=Uf(n,null,v,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ke(),v===i){n=xr(e,n,r);break e}wt(e,n,v,r)}n=n.child}return n;case 26:if(dr)return Mi(e,n),e===null?(r=vf(n.type,null,n.pendingProps,null))?n.memoizedState=r:Mn||(n.stateNode=pv(n.type,n.pendingProps,Jr.current,n)):n.memoizedState=vf(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:if(dt)return se(n),e===null&&dt&&Mn&&(i=n.stateNode=wf(n.type,n.pendingProps,Jr.current,_t.current,!1),Et=n,tr=!0,Kn=Wp(n.type,i,Kn)),wt(e,n,n.pendingProps.children,r),Mi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mn&&(fv(n.type,n.pendingProps,_t.current),(c=i=Kn)&&(i=Vp(i,n.type,n.pendingProps,tr),i!==null?(n.stateNode=i,Et=n,Kn=Bp(i),tr=!1,c=!0):c=!1),c||Me(n)),se(n),c=n.type,v=n.pendingProps,w=e!==null?e.memoizedProps:null,i=v.children,Li(c,v)?i=null:w!==null&&Li(c,w)&&(n.flags|=32),n.memoizedState!==null&&(c=Tn(e,n,qn,null,null,r),Cr?wa._currentValue=c:wa._currentValue2=c),Mi(e,n),wt(e,n,i,r),n.child;case 6:return e===null&&Mn&&(dv(n.pendingProps,_t.current),(e=r=Kn)&&(r=Xp(r,n.pendingProps,tr),r!==null?(n.stateNode=r,Et=n,Kn=null,e=!0):e=!1),e||Me(n)),null;case 13:return Ju(e,n,r);case 4:return Q(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Ta(n,null,i,r):wt(e,n,i,r),n.child;case 11:return Hu(e,n,n.type,n.pendingProps,r);case 7:return wt(e,n,n.pendingProps,r),n.child;case 8:return wt(e,n,n.pendingProps.children,r),n.child;case 12:return wt(e,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,De(n,n.type,i.value),wt(e,n,i.children,r),n.child;case 9:return c=n.type._context,i=n.pendingProps.children,Qe(n),c=ye(c),i=i(c),n.flags|=1,wt(e,n,i,r),n.child;case 14:return Wu(e,n,n.type,n.pendingProps,r);case 15:return Vu(e,n,n.type,n.pendingProps,r);case 19:return ec(e,n,r);case 31:return Th(e,n,r);case 22:return Xu(e,n,r,n.pendingProps);case 24:return Qe(n),i=ye(Jn),e===null?(c=on(),c===null&&(c=Gn,v=yn(),c.pooledCache=v,v.refCount++,v!==null&&(c.pooledCacheLanes|=r),c=v),n.memoizedState={parent:i,cache:c},y(n),De(n,Jn,c)):((e.lanes&r)!==0&&(_(e,n),he(n,null,null,r),me()),c=e.memoizedState,v=n.memoizedState,c.parent!==i?(c={parent:i,cache:i},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),De(n,Jn,i)):(i=v.cache,De(n,Jn,i),i!==c.cache&&je(n,[Jn],r,!0))),wt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function ur(e){e.flags|=4}function Ui(e){gr&&(e.flags|=8)}function tc(e,n){if(e!==null&&e.child===n.child)return!1;if((n.flags&16)!==0)return!0;for(e=n.child;e!==null;){if((e.flags&8218)!==0||(e.subtreeFlags&8218)!==0)return!0;e=e.sibling}return!1}function Wl(e,n,r,i){if(At)for(r=n.child;r!==null;){if(r.tag===5||r.tag===6)gs(e,r.stateNode);else if(!(r.tag===4||dt&&r.tag===27)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else if(gr)for(var c=n.child;c!==null;){if(c.tag===5){var v=c.stateNode;r&&i&&(v=cf(v,c.type,c.memoizedProps)),gs(e,v)}else if(c.tag===6)v=c.stateNode,r&&i&&(v=ff(v,c.memoizedProps)),gs(e,v);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)v=c.child,v!==null&&(v.return=c),Wl(e,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===n)break;for(;c.sibling===null;){if(c.return===null||c.return===n)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function rc(e,n,r,i){var c=!1;if(gr)for(var v=n.child;v!==null;){if(v.tag===5){var w=v.stateNode;r&&i&&(w=cf(w,v.type,v.memoizedProps)),sf(e,w)}else if(v.tag===6)w=v.stateNode,r&&i&&(w=ff(w,v.memoizedProps)),sf(e,w);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)c=v.child,c!==null&&(c.return=v),rc(e,v,!0,!0),c=!0;else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===n)break;for(;v.sibling===null;){if(v.return===null||v.return===n)return c;v=v.return}v.sibling.return=v.return,v=v.sibling}return c}function ac(e,n){if(gr&&tc(e,n)){e=n.stateNode;var r=e.containerInfo,i=lf();rc(i,n,!1,!1),e.pendingChildren=i,ur(n),Rp(r,i)}}function Vl(e,n,r,i){if(At)e.memoizedProps!==i&&ur(n);else if(gr){var c=e.stateNode,v=e.memoizedProps;if((e=tc(e,n))||v!==i){var w=_t.current;v=Ap(c,r,v,i,!e,null),v===c?n.stateNode=c:(Ui(n),nf(v,r,i,w)&&ur(n),n.stateNode=v,e&&Wl(v,n,!1,!1))}else n.stateNode=c}}function Xl(e,n,r,i,c){if((e.mode&32)!==0&&(r===null?ip(n,i):lp(n,r,i))){if(e.flags|=16777216,(c&335544128)===c||ys(n,i))if(rf(e.stateNode,n,i))e.flags|=8192;else if(Fc())e.flags|=8192;else throw ka=Qi,Is}else e.flags&=-16777217}function oc(e,n){if(mv(n)){if(e.flags|=16777216,!Sf(n))if(Fc())e.flags|=8192;else throw ka=Qi,Is}else e.flags&=-16777217}function Fi(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?R():536870912,e.lanes|=n,vo|=n)}function jo(e,n){if(!Mn)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Wn(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function Ch(e,n,r){var i=n.pendingProps;switch(V(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(n),null;case 1:return Wn(n),null;case 3:return r=n.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Pe(Jn),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(de(n)?ur(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ye())),ac(e,n),Wn(n),null;case 26:if(dr){var c=n.type,v=n.memoizedState;return e===null?(ur(n),v!==null?(Wn(n),oc(n,v)):(Wn(n),Xl(n,c,null,i,r))):v?v!==e.memoizedState?(ur(n),Wn(n),oc(n,v)):(Wn(n),n.flags&=-16777217):(v=e.memoizedProps,At?v!==i&&ur(n):Vl(e,n,c,i),Wn(n),Xl(n,c,v,i,r)),null}case 27:if(dt){if(ce(n),r=Jr.current,c=n.type,e!==null&&n.stateNode!=null)At?e.memoizedProps!==i&&ur(n):Vl(e,n,c,i);else{if(!i){if(n.stateNode===null)throw Error(o(166));return Wn(n),null}e=_t.current,de(n)?Ge(n,e):(e=wf(c,i,r,e,!0),n.stateNode=e,ur(n))}return Wn(n),null}case 5:if(ce(n),c=n.type,e!==null&&n.stateNode!=null)Vl(e,n,c,i);else{if(!i){if(n.stateNode===null)throw Error(o(166));return Wn(n),null}if(v=_t.current,de(n))Ge(n,v),ov(n.stateNode,c,i,v)&&(n.flags|=64);else{var w=Jh(c,i,Jr.current,v,n);Ui(n),Wl(w,n,!1,!1),n.stateNode=w,nf(w,c,i,v)&&ur(n)}}return Wn(n),Xl(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)r=e.memoizedProps,At?r!==i&&ur(n):gr&&(r!==i?(e=Jr.current,r=_t.current,Ui(n),n.stateNode=tf(i,e,r,n)):n.stateNode=e.stateNode);else{if(typeof i!="string"&&n.stateNode===null)throw Error(o(166));if(e=Jr.current,r=_t.current,de(n)){if(!Rt)throw Error(o(176));if(e=n.stateNode,r=n.memoizedProps,i=null,c=Et,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}Qp(e,r,n,i)||Me(n,!0)}else Ui(n),n.stateNode=tf(i,e,r,n)}return Wn(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(i=de(n),r!==null){if(e===null){if(!i)throw Error(o(318));if(!Rt)throw Error(o(556));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));Kp(e,n)}else Ke(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wn(n),e=!1}else r=Ye(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(hn(n),n):(hn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Wn(n),null;case 13:if(i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=de(n),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(!Rt)throw Error(o(344));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Jp(c,n)}else Ke(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wn(n),c=!1}else c=Ye(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(hn(n),n):(hn(n),null)}return hn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,e=e!==null&&e.memoizedState!==null,r&&(i=n.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),v=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(v=i.memoizedState.cachePool.pool),v!==c&&(i.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Fi(n,n.updateQueue),Wn(n),null);case 4:return re(),ac(e,n),e===null&&tp(n.stateNode.containerInfo),Wn(n),null;case 10:return Pe(n.type),Wn(n),null;case 19:if(S(rt),i=n.memoizedState,i===null)return Wn(n),null;if(c=(n.flags&128)!==0,v=i.rendering,v===null)if(c)jo(i,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=_n(e),v!==null){for(n.flags|=128,jo(i,!1),e=v.updateQueue,n.updateQueue=e,Fi(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Wc(r,e),r=r.sibling;return E(rt,rt.current&1|2),Mn&&X(n,i.treeForkCount),n.child}e=e.sibling}i.tail!==null&&Bt()>oi&&(n.flags|=128,c=!0,jo(i,!1),n.lanes=4194304)}else{if(!c)if(e=_n(v),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fi(n,e),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!v.alternate&&!Mn)return Wn(n),null}else 2*Bt()-i.renderingStartTime>oi&&r!==536870912&&(n.flags|=128,c=!0,jo(i,!1),n.lanes=4194304);i.isBackwards?(v.sibling=n.child,n.child=v):(e=i.last,e!==null?e.sibling=v:n.child=v,i.last=v)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Bt(),e.sibling=null,r=rt.current,E(rt,c?r&1|2:r&1),Mn&&X(n,i.treeForkCount),e):(Wn(n),null);case 22:case 23:return hn(n),Fn(),i=n.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(Wn(n),n.subtreeFlags&6&&(n.flags|=8192)):Wn(n),r=n.updateQueue,r!==null&&Fi(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),e!==null&&S(xa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pe(Jn),Wn(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Uh(e,n){switch(V(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pe(Jn),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(hn(n),n.alternate===null)throw Error(o(340));Ke()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(hn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ke()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return S(rt),null;case 4:return re(),null;case 10:return Pe(n.type),null;case 22:case 23:return hn(n),Fn(),e!==null&&S(xa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pe(Jn),null;case 25:return null;default:return null}}function ic(e,n){switch(V(n),n.tag){case 3:Pe(Jn),re();break;case 26:case 27:case 5:ce(n);break;case 4:re();break;case 31:n.memoizedState!==null&&hn(n);break;case 13:hn(n);break;case 19:S(rt);break;case 10:Pe(n.type);break;case 22:case 23:hn(n),Fn(),e!==null&&S(xa);break;case 24:Pe(Jn)}}function Go(e,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var c=i.next;r=c;do{if((r.tag&e)===e){i=void 0;var v=r.create,w=r.inst;i=v(),w.destroy=i}r=r.next}while(r!==c)}}catch(A){An(n,n.return,A)}}function Yr(e,n,r){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var v=c.next;i=v;do{if((i.tag&e)===e){var w=i.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,c=n;var ae=r,pe=A;try{pe()}catch(Ue){An(c,ae,Ue)}}}i=i.next}while(i!==v)}}catch(Ue){An(n,n.return,Ue)}}function lc(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{xe(n,r)}catch(i){An(e,e.return,i)}}}function sc(e,n,r){r.props=ma(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){An(e,n,i)}}function Ho(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var i=Yo(e.stateNode);break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(c){An(e,n,c)}}function mr(e,n){var r=e.ref,i=e.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(c){An(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){An(e,n,c)}else r.current=null}function uc(e){var n=e.type,r=e.memoizedProps,i=e.stateNode;try{_p(i,n,r,e)}catch(c){An(e,e.return,c)}}function Yl(e,n,r){try{Ep(e.stateNode,e.type,r,n,e)}catch(i){An(e,e.return,i)}}function cc(e){return e.tag===5||e.tag===3||(dr?e.tag===26:!1)||(dt?e.tag===27&&Ja(e.type):!1)||e.tag===4}function Zl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(dt&&e.tag===27&&Ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?kp(r,e,n):Sp(r,e);else if(i!==4&&(dt&&i===27&&Ja(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(ql(e,n,r),e=e.sibling;e!==null;)ql(e,n,r),e=e.sibling}function Ii(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?xp(r,e,n):bp(r,e);else if(i!==4&&(dt&&i===27&&Ja(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ii(e,n,r),e=e.sibling;e!==null;)Ii(e,n,r),e=e.sibling}function fc(e,n,r){e=e.containerInfo;try{uf(e,r)}catch(i){An(n,n.return,i)}}function dc(e){var n=e.stateNode,r=e.memoizedProps;try{yv(e.type,r,n,e)}catch(i){An(e,e.return,i)}}function Fh(e,n){for(Qh(e.containerInfo),mt=n;mt!==null;)if(e=mt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,mt=n;else for(;mt!==null;){e=mt;var r=e.alternate;switch(n=e.flags,e.tag){case 0:if((n&4)!==0&&(n=e.updateQueue,n=n!==null?n.events:null,n!==null))for(var i=0;i<n.length;i++){var c=n[i];c.ref.impl=c.nextImpl}break;case 11:case 15:break;case 1:if((n&1024)!==0&&r!==null){n=void 0,i=e,c=r.memoizedProps,r=r.memoizedState;var v=i.stateNode;try{var w=ma(i.type,c);n=v.getSnapshotBeforeUpdate(w,r),v.__reactInternalSnapshotBeforeUpdate=n}catch(A){An(i,i.return,A)}}break;case 3:(n&1024)!==0&&At&&Dp(e.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function hc(e,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:kr(e,r),i&4&&Go(5,r);break;case 1:if(kr(e,r),i&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(w){An(r,r.return,w)}else{var c=ma(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){An(r,r.return,w)}}i&64&&lc(r),i&512&&Ho(r,r.return);break;case 3:if(kr(e,r),i&64&&(i=r.updateQueue,i!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=Yo(r.child.stateNode);break;case 1:e=r.child.stateNode}try{xe(i,e)}catch(w){An(r,r.return,w)}}break;case 27:dt&&n===null&&i&4&&dc(r);case 26:case 5:if(kr(e,r),n===null){if(i&4)uc(r);else if(i&64){e=r.type,n=r.memoizedProps,c=r.stateNode;try{nv(c,e,n,r)}catch(w){An(r,r.return,w)}}}i&512&&Ho(r,r.return);break;case 12:kr(e,r);break;case 31:kr(e,r),i&4&&vc(e,r);break;case 13:kr(e,r),i&4&&mc(e,r),i&64&&(i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(r=Nh.bind(null,r),Pp(i,r))));break;case 22:if(i=r.memoizedState!==null||Dr,!i){n=n!==null&&n.memoizedState!==null||it,c=Dr;var v=it;Dr=i,(it=n)&&!v?Tr(e,r,(r.subtreeFlags&8772)!==0):kr(e,r),Dr=c,it=v}break;case 30:break;default:kr(e,r)}}function pc(e){var n=e.alternate;n!==null&&(e.alternate=null,pc(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&op(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cr(e,n,r){for(r=r.child;r!==null;)Ql(e,n,r),r=r.sibling}function Ql(e,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qo,r)}catch{}switch(r.tag){case 26:if(dr){it||mr(r,n),cr(e,n,r),r.memoizedState?gf(r.memoizedState):r.stateNode&&bf(r.stateNode);break}case 27:if(dt){it||mr(r,n);var i=lt,c=jt;Ja(r.type)&&(lt=r.stateNode,jt=!1),cr(e,n,r),_f(r.stateNode),lt=i,jt=c;break}case 5:it||mr(r,n);case 6:if(At){if(i=lt,c=jt,lt=null,cr(e,n,r),lt=i,jt=c,lt!==null)if(jt)try{Mp(lt,r.stateNode)}catch(v){An(r,n,v)}else try{Tp(lt,r.stateNode)}catch(v){An(r,n,v)}}else cr(e,n,r);break;case 18:At&&lt!==null&&(jt?sv(lt,r.stateNode):lv(lt,r.stateNode));break;case 4:At?(i=lt,c=jt,lt=r.stateNode.containerInfo,jt=!0,cr(e,n,r),lt=i,jt=c):(gr&&fc(r.stateNode,r,lf()),cr(e,n,r));break;case 0:case 11:case 14:case 15:Yr(2,r,n),it||Yr(4,r,n),cr(e,n,r);break;case 1:it||(mr(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&sc(r,n,i)),cr(e,n,r);break;case 21:cr(e,n,r);break;case 22:it=(i=it)||r.memoizedState!==null,cr(e,n,r),it=i;break;default:cr(e,n,r)}}function vc(e,n){if(Rt&&n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rv(e)}catch(r){An(n,n.return,r)}}}function mc(e,n){if(Rt&&n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{av(e)}catch(r){An(n,n.return,r)}}function Ih(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Df),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Df),n;default:throw Error(o(435,e.tag))}}function Di(e,n){var r=Ih(e);n.forEach(function(i){if(!r.has(i)){r.add(i);var c=zh.bind(null,e,i);i.then(c,c)}})}function Dt(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var c=r[i],v=e,w=n;if(At){var A=w;e:for(;A!==null;){switch(A.tag){case 27:if(dt){if(Ja(A.type)){lt=A.stateNode,jt=!1;break e}break}case 5:lt=A.stateNode,jt=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,jt=!0;break e}A=A.return}if(lt===null)throw Error(o(160));Ql(v,w,c),lt=null,jt=!1}else Ql(v,w,c);v=c.alternate,v!==null&&(v.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gc(n,e),n=n.sibling}function gc(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(n,e),Pt(e),i&4&&(Yr(3,e,e.return),Go(3,e),Yr(5,e,e.return));break;case 1:Dt(n,e),Pt(e),i&512&&(it||r===null||mr(r,r.return)),i&64&&Dr&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:if(dr){var c=pr;if(Dt(n,e),Pt(e),i&512&&(it||r===null||mr(r,r.return)),i&4){i=r!==null?r.memoizedState:null;var v=e.memoizedState;r===null?v===null?e.stateNode===null?e.stateNode=hv(c,e.type,e.memoizedProps,e):yf(c,e.type,e.stateNode):e.stateNode=mf(c,v,e.memoizedProps):i!==v?(i===null?r.stateNode!==null&&bf(r.stateNode):gf(i),v===null?yf(c,e.type,e.stateNode):mf(c,v,e.memoizedProps)):v===null&&e.stateNode!==null&&Yl(e,e.memoizedProps,r.memoizedProps)}break}case 27:if(dt){Dt(n,e),Pt(e),i&512&&(it||r===null||mr(r,r.return)),r!==null&&i&4&&Yl(e,e.memoizedProps,r.memoizedProps);break}case 5:if(Dt(n,e),Pt(e),i&512&&(it||r===null||mr(r,r.return)),At){if(e.flags&32){c=e.stateNode;try{of(c)}catch(be){An(e,e.return,be)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,Yl(e,c,r!==null?r.memoizedProps:c)),i&1024&&(zs=!0)}else gr&&e.alternate!==null&&(e.alternate.stateNode=e.stateNode);break;case 6:if(Dt(n,e),Pt(e),i&4&&At){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,r=r!==null?r.memoizedProps:i,c=e.stateNode;try{wp(c,r,i)}catch(be){An(e,e.return,be)}}break;case 3:if(dr?(vv(),c=pr,pr=ws(n.containerInfo),Dt(n,e),pr=c):Dt(n,e),Pt(e),i&4){if(At&&Rt&&r!==null&&r.memoizedState.isDehydrated)try{tv(n.containerInfo)}catch(be){An(e,e.return,be)}if(gr){i=n.containerInfo,r=n.pendingChildren;try{uf(i,r)}catch(be){An(e,e.return,be)}}}zs&&(zs=!1,yc(e));break;case 4:dr?(r=pr,pr=ws(e.stateNode.containerInfo),Dt(n,e),Pt(e),pr=r):(Dt(n,e),Pt(e)),i&4&&gr&&fc(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:Dt(n,e),Pt(e);break;case 31:Dt(n,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Di(e,i)));break;case 13:Dt(n,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ol=Bt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Di(e,i)));break;case 22:c=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,A=Dr,ae=it;if(Dr=A||c,it=ae||w,Dt(n,e),it=ae,Dr=A,Pt(e),i&8192&&(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Dr||it||ga(e)),At)){e:if(r=null,At)for(n=e;;){if(n.tag===5||dr&&n.tag===26){if(r===null){w=r=n;try{v=w.stateNode,c?Cp(v):Fp(w.stateNode,w.memoizedProps)}catch(be){An(w,w.return,be)}}}else if(n.tag===6){if(r===null){w=n;try{var pe=w.stateNode;c?Up(pe):Ip(pe,w.memoizedProps)}catch(be){An(w,w.return,be)}}}else if(n.tag===18){if(r===null){w=n;try{var Ue=w.stateNode;c?uv(Ue):cv(w.stateNode)}catch(be){An(w,w.return,be)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}}i&4&&(i=e.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Di(e,r))));break;case 19:Dt(n,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Di(e,i)));break;case 30:break;case 21:break;default:Dt(n,e),Pt(e)}}function Pt(e){var n=e.flags;if(n&2){try{for(var r,i=e.return;i!==null;){if(cc(i)){r=i;break}i=i.return}if(At){if(r==null)throw Error(o(160));switch(r.tag){case 27:if(dt){var c=r.stateNode,v=Zl(e);Ii(e,v,c);break}case 5:var w=r.stateNode;r.flags&32&&(of(w),r.flags&=-33);var A=Zl(e);Ii(e,A,w);break;case 3:case 4:var ae=r.stateNode.containerInfo,pe=Zl(e);ql(e,pe,ae);break;default:throw Error(o(161))}}}catch(Ue){An(e,e.return,Ue)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yc(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yc(n),n.tag===5&&n.flags&1024&&cp(n.stateNode),e=e.sibling}}function kr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hc(e,n.alternate,n),n=n.sibling}function ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Yr(4,n,n.return),ga(n);break;case 1:mr(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sc(n,n.return,r),ga(n);break;case 27:dt&&_f(n.stateNode);case 26:case 5:mr(n,n.return),ga(n);break;case 22:n.memoizedState===null&&ga(n);break;case 30:ga(n);break;default:ga(n)}e=e.sibling}}function Tr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,c=e,v=n,w=v.flags;switch(v.tag){case 0:case 11:case 15:Tr(c,v,r),Go(4,v);break;case 1:if(Tr(c,v,r),i=v,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(pe){An(i,i.return,pe)}if(i=v,c=i.updateQueue,c!==null){var A=i.stateNode;try{var ae=c.shared.hiddenCallbacks;if(ae!==null)for(c.shared.hiddenCallbacks=null,c=0;c<ae.length;c++)Ee(ae[c],A)}catch(pe){An(i,i.return,pe)}}r&&w&64&&lc(v),Ho(v,v.return);break;case 27:dt&&dc(v);case 26:case 5:Tr(c,v,r),r&&i===null&&w&4&&uc(v),Ho(v,v.return);break;case 12:Tr(c,v,r);break;case 31:Tr(c,v,r),r&&w&4&&vc(c,v);break;case 13:Tr(c,v,r),r&&w&4&&mc(c,v);break;case 22:v.memoizedState===null&&Tr(c,v,r),Ho(v,v.return);break;case 30:break;default:Tr(c,v,r)}n=n.sibling}}function Kl(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ne(r))}function Jl(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ne(e))}function fr(e,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bc(e,n,r,i),n=n.sibling}function bc(e,n,r,i){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fr(e,n,r,i),c&2048&&Go(9,n);break;case 1:fr(e,n,r,i);break;case 3:fr(e,n,r,i),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ne(e)));break;case 12:if(c&2048){fr(e,n,r,i),e=n.stateNode;try{var v=n.memoizedProps,w=v.id,A=v.onPostCommit;typeof A=="function"&&A(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(ae){An(n,n.return,ae)}}else fr(e,n,r,i);break;case 31:fr(e,n,r,i);break;case 13:fr(e,n,r,i);break;case 23:break;case 22:v=n.stateNode,w=n.alternate,n.memoizedState!==null?v._visibility&2?fr(e,n,r,i):Wo(e,n):v._visibility&2?fr(e,n,r,i):(v._visibility|=2,Xa(e,n,r,i,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kl(w,n);break;case 24:fr(e,n,r,i),c&2048&&Jl(n.alternate,n);break;default:fr(e,n,r,i)}}function Xa(e,n,r,i,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=e,w=n,A=r,ae=i,pe=w.flags;switch(w.tag){case 0:case 11:case 15:Xa(v,w,A,ae,c),Go(8,w);break;case 23:break;case 22:var Ue=w.stateNode;w.memoizedState!==null?Ue._visibility&2?Xa(v,w,A,ae,c):Wo(v,w):(Ue._visibility|=2,Xa(v,w,A,ae,c)),c&&pe&2048&&Kl(w.alternate,w);break;case 24:Xa(v,w,A,ae,c),c&&pe&2048&&Jl(w.alternate,w);break;default:Xa(v,w,A,ae,c)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,i=n,c=i.flags;switch(i.tag){case 22:Wo(r,i),c&2048&&Kl(i.alternate,i);break;case 24:Wo(r,i),c&2048&&Jl(i.alternate,i);break;default:Wo(r,i)}n=n.sibling}}function ya(e,n,r){if(e.subtreeFlags&ho)for(e=e.child;e!==null;)Sc(e,n,r),e=e.sibling}function Sc(e,n,r){switch(e.tag){case 26:if(ya(e,n,r),e.flags&ho)if(e.memoizedState!==null)gv(r,pr,e.memoizedState,e.memoizedProps);else{var i=e.stateNode,c=e.type;e=e.memoizedProps,((n&335544128)===n||ys(c,e))&&af(r,i,c,e)}break;case 5:ya(e,n,r),e.flags&ho&&(i=e.stateNode,c=e.type,e=e.memoizedProps,((n&335544128)===n||ys(c,e))&&af(r,i,c,e));break;case 3:case 4:dr?(i=pr,pr=ws(e.stateNode.containerInfo),ya(e,n,r),pr=i):ya(e,n,r);break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ho,ho=16777216,ya(e,n,r),ho=i):ya(e,n,r));break;default:ya(e,n,r)}}function wc(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];mt=i,Ec(i,e)}wc(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_c(e),e=e.sibling}function _c(e){switch(e.tag){case 0:case 11:case 15:Vo(e),e.flags&2048&&Yr(9,e,e.return);break;case 3:Vo(e);break;case 12:Vo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ai(e)):Vo(e);break;default:Vo(e)}}function Ai(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];mt=i,Ec(i,e)}wc(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Yr(8,n,n.return),Ai(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ai(n));break;default:Ai(n)}e=e.sibling}}function Ec(e,n){for(;mt!==null;){var r=mt;switch(r.tag){case 0:case 11:case 15:Yr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ne(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,mt=i;else e:for(r=e;mt!==null;){i=mt;var c=i.sibling,v=i.return;if(pc(i),i===r){mt=null;break e}if(c!==null){c.return=v,mt=c;break e}mt=v}}}function $l(e){var n=np(e);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(o(364));return n}if(e=hp(e),e===null)throw Error(o(362));return e.stateNode.current}function es(e,n){var r=e.tag;switch(n.$$typeof){case el:if(e.type===n.value)return!0;break;case nl:e:{for(n=n.value,e=[e,0],r=0;r<e.length;){var i=e[r++],c=i.tag,v=e[r++],w=n[v];if(c!==5&&c!==26&&c!==27||!qo(i)){for(;w!=null&&es(i,w);)v++,w=n[v];if(v===n.length){n=!0;break e}else for(i=i.child;i!==null;)e.push(i,v),i=i.sibling}}n=!1}return n;case tl:if((r===5||r===26||r===27)&&mp(e.stateNode,n.value))return!0;break;case al:if((r===5||r===6||r===26||r===27)&&(e=vp(e),e!==null&&0<=e.indexOf(n.value)))return!0;break;case rl:if((r===5||r===26||r===27)&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ns(e){switch(e.$$typeof){case el:return"<"+(g(e.value)||"Unknown")+">";case nl:return":has("+(ns(e)||"")+")";case tl:return'[role="'+e.value+'"]';case al:return'"'+e.value+'"';case rl:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function xc(e,n){var r=[];e=[e,0];for(var i=0;i<e.length;){var c=e[i++],v=c.tag,w=e[i++],A=n[w];if(v!==5&&v!==26&&v!==27||!qo(c)){for(;A!=null&&es(c,A);)w++,A=n[w];if(w===n.length)r.push(c);else for(c=c.child;c!==null;)e.push(c,w),c=c.sibling}}return r}function ts(e,n){if(!Zo)throw Error(o(363));e=$l(e),e=xc(e,n),n=[],e=Array.from(e);for(var r=0;r<e.length;){var i=e[r++],c=i.tag;if(c===5||c===26||c===27)qo(i)||n.push(i.stateNode);else for(i=i.child;i!==null;)e.push(i),i=i.sibling}return n}function Xt(){return(Sn&2)!==0&&En!==0?En&-En:nn.T!==null?ue():rp()}function kc(){if($t===0)if((En&536870912)===0||Mn){var e=ji;ji<<=1,(ji&3932160)===0&&(ji=262144),$t=e}else $t=536870912;return e=Kt.current,e!==null&&(e.flags|=32),$t}function Lt(e,n,r){(e===Gn&&(zn===2||zn===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Zr(e,En,$t,!1)),F(e,r),((Sn&2)===0||e!==Gn)&&(e===Gn&&((Sn&2)===0&&(Ca|=r),nt===4&&Zr(e,En,$t,!1)),Oe(e))}function Tc(e,n,r){if((Sn&6)!==0)throw Error(o(327));var i=!r&&(n&127)===0&&(n&e.expiredLanes)===0||x(e,n),c=i?Rh(e,n):as(e,n,!0),v=i;do{if(c===0){po&&!i&&Zr(e,n,0,!1);break}else{if(r=e.current.alternate,v&&!Dh(r)){c=as(e,n,!1),v=!1;continue}if(c===2){if(v=n,e.errorRecoveryDisabledLanes&v)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var A=e;c=ai;var ae=Rt&&A.current.memoizedState.isDehydrated;if(ae&&(Ya(A,w).flags|=256),w=as(A,w,!1),w!==2){if(Ls&&!ae){A.errorRecoveryDisabledLanes|=v,Ca|=v,c=4;break e}v=Gt,Gt=c,v!==null&&(Gt===null?Gt=v:Gt.push.apply(Gt,v))}c=w}if(v=!1,c!==2)continue}}if(c===1){Ya(e,0),Zr(e,n,0,!0);break}e:{switch(i=e,v=c,v){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Zr(i,n,$t,!na);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(c=ol+300-Bt(),10<c)){if(Zr(i,n,$t,!na),U(i,0,!0)!==0)break e;Rr=n,i.timeoutHandle=$h(Mc.bind(null,i,r,Gt,il,js,n,$t,Ca,vo,na,v,"Throttled",-0,0),c);break e}Mc(i,r,Gt,il,js,n,$t,Ca,vo,na,v,null,-0,0)}}break}while(!0);Oe(e)}function Mc(e,n,r,i,c,v,w,A,ae,pe,Ue,be,Be,pn){if(e.timeoutHandle=Sa,be=n.subtreeFlags,be&8192||(be&16785408)===16785408){be=sp(),Sc(n,v,be);var st=(v&62914560)===v?ol-Bt():(v&4194048)===v?Af-Bt():0;if(st=up(be,st),st!==null){Rr=v,e.cancelPendingCommit=st(Pc.bind(null,e,n,v,r,i,c,w,A,ae,Ue,be,null,Be,pn)),Zr(e,v,w,!pe);return}}Pc(e,n,v,r,i,c,w,A,ae)}function Dh(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var c=r[i],v=c.getSnapshot;c=c.value;try{if(!Qt(v(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zr(e,n,r,i){n&=~Bs,n&=~Ca,e.suspendedLanes|=n,e.pingedLanes&=~n,i&&(e.warmLanes|=n),i=e.expirationTimes;for(var c=n;0<c;){var v=31-Zt(c),w=1<<v;i[v]=-1,c&=~w}r!==0&&T(e,r,n)}function Cc(){return(Sn&6)===0?($e(0),!1):!0}function rs(){if(wn!==null){if(zn===0)var e=wn.return;else e=wn,Fr=_a=null,Qn(e),lo=null,ei=0,e=wn;for(;e!==null;)ic(e.alternate,e),e=e.return;wn=null}}function Ya(e,n){var r=e.timeoutHandle;r!==Sa&&(e.timeoutHandle=Sa,ep(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Rr=0,rs(),Gn=e,wn=r=Mr(e.current,null),En=n,zn=0,Jt=null,na=!1,po=x(e,n),Ls=!1,vo=$t=Bs=Ca=ta=nt=0,Gt=ai=null,js=!1,(n&8)!==0&&(n|=n&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=n;0<i;){var c=31-Zt(i),v=1<<c;n|=e[c],i&=~v}return Ar=n,Mt(),r}function Uc(e,n){mn=null,nn.H=ti,n===io||n===qi?(n=kn(),zn=3):n===Is?(n=kn(),zn=4):zn=n===Ps?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jt=n,wn===null&&(nt=1,ki(e,ne(n,e.current)))}function Fc(){var e=Kt.current;return e===null?!0:(En&4194048)===En?hr===null:(En&62914560)===En||(En&536870912)!==0?e===hr:!1}function Ic(){var e=nn.H;return nn.H=ti,e===null?ti:e}function Dc(){var e=nn.A;return nn.A=Dv,e}function Ri(){nt=4,na||(En&4194048)!==En&&Kt.current!==null||(po=!0),(ta&134217727)===0&&(Ca&134217727)===0||Gn===null||Zr(Gn,En,$t,!1)}function as(e,n,r){var i=Sn;Sn|=2;var c=Ic(),v=Dc();(Gn!==e||En!==n)&&(il=null,Ya(e,n)),n=!1;var w=nt;e:do try{if(zn!==0&&wn!==null){var A=wn,ae=Jt;switch(zn){case 8:rs(),w=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(n=!0);var pe=zn;if(zn=0,Jt=null,Za(e,A,ae,pe),r&&po){w=0;break e}break;default:pe=zn,zn=0,Jt=null,Za(e,A,ae,pe)}}Ah(),w=nt;break}catch(Ue){Uc(e,Ue)}while(!0);return n&&e.shellSuspendCounter++,Fr=_a=null,Sn=i,nn.H=c,nn.A=v,wn===null&&(Gn=null,En=0,Mt()),w}function Ah(){for(;wn!==null;)Ac(wn)}function Rh(e,n){var r=Sn;Sn|=2;var i=Ic(),c=Dc();Gn!==e||En!==n?(il=null,oi=Bt()+500,Ya(e,n)):po=x(e,n);e:do try{if(zn!==0&&wn!==null){n=wn;var v=Jt;n:switch(zn){case 1:zn=0,Jt=null,Za(e,n,v,1);break;case 2:case 9:if(xn(v)){zn=0,Jt=null,Rc(n);break}n=function(){zn!==2&&zn!==9||Gn!==e||(zn=7),Oe(e)},v.then(n,n);break e;case 3:zn=7;break e;case 4:zn=5;break e;case 7:xn(v)?(zn=0,Jt=null,Rc(n)):(zn=0,Jt=null,Za(e,n,v,7));break;case 5:var w=null;switch(wn.tag){case 26:w=wn.memoizedState;case 5:case 27:var A=wn,ae=A.type,pe=A.pendingProps;if(w?Sf(w):rf(A.stateNode,ae,pe)){zn=0,Jt=null;var Ue=A.sibling;if(Ue!==null)wn=Ue;else{var be=A.return;be!==null?(wn=be,Oi(be)):wn=null}break n}}zn=0,Jt=null,Za(e,n,v,5);break;case 6:zn=0,Jt=null,Za(e,n,v,6);break;case 8:rs(),nt=6;break e;default:throw Error(o(462))}}Oh();break}catch(Be){Uc(e,Be)}while(!0);return Fr=_a=null,nn.H=i,nn.A=c,Sn=r,wn!==null?0:(Gn=null,En=0,Mt(),nt)}function Oh(){for(;wn!==null&&!wv();)Ac(wn)}function Ac(e){var n=nc(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,n===null?Oi(e):wn=n}function Rc(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qu(r,n,n.pendingProps,n.type,void 0,En);break;case 11:n=qu(r,n,n.pendingProps,n.type.render,n.ref,En);break;case 5:Qn(n);default:ic(r,n),n=wn=Wc(n,Ar),n=nc(r,n,Ar)}e.memoizedProps=e.pendingProps,n===null?Oi(e):wn=n}function Za(e,n,r,i){Fr=_a=null,Qn(n),lo=null,ei=0;var c=n.return;try{if(kh(e,c,n,r,En)){nt=1,ki(e,ne(r,e.current)),wn=null;return}}catch(v){if(c!==null)throw wn=c,v;nt=1,ki(e,ne(r,e.current)),wn=null;return}n.flags&32768?(Mn||i===1?e=!0:po||(En&536870912)!==0?e=!1:(na=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Oc(n,e)):Oi(n)}function Oi(e){var n=e;do{if((n.flags&32768)!==0){Oc(n,na);return}e=n.return;var r=Ch(n.alternate,n,Ar);if(r!==null){wn=r;return}if(n=n.sibling,n!==null){wn=n;return}wn=n=e}while(n!==null);nt===0&&(nt=5)}function Oc(e,n){do{var r=Uh(e.alternate,e);if(r!==null){r.flags&=32767,wn=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wn=e;return}wn=e=r}while(e!==null);nt=6,wn=null}function Pc(e,n,r,i,c,v,w,A,ae){e.cancelPendingCommit=null;do Xo();while(ht!==0);if((Sn&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(v=n.lanes|n.childLanes,v|=Ds,H(e,r,v,w,A,ae),e===Gn&&(wn=Gn=null,En=0),mo=n,aa=e,Rr=r,Gs=v,Hs=c,Rf=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lh(xs,function(){return jc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=nn.T,nn.T=null,c=Ur(),vt(2),w=Sn,Sn|=4;try{Fh(e,n,r)}finally{Sn=w,vt(c),nn.T=i}}ht=1,Nc(),zc(),Lc()}}function Nc(){if(ht===1){ht=0;var e=aa,n=mo,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=nn.T,nn.T=null;var i=Ur();vt(2);var c=Sn;Sn|=4;try{gc(n,e),Kh(e.containerInfo)}finally{Sn=c,vt(i),nn.T=r}}e.current=n,ht=2}}function zc(){if(ht===2){ht=0;var e=aa,n=mo,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=nn.T,nn.T=null;var i=Ur();vt(2);var c=Sn;Sn|=4;try{hc(e,n.alternate,n)}finally{Sn=c,vt(i),nn.T=r}}ht=3}}function Lc(){if(ht===4||ht===3){ht=0,_v();var e=aa,n=mo,r=Rr,i=Rf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ht=5:(ht=0,mo=aa=null,Bc(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ra=null),z(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qo,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=nn.T,c=Ur(),vt(2),nn.T=null;try{for(var v=e.onRecoverableError,w=0;w<i.length;w++){var A=i[w];v(A.value,{componentStack:A.stack})}}finally{nn.T=n,vt(c)}}(Rr&3)!==0&&Xo(),Oe(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Ws?ii++:(ii=0,Ws=e):ii=0,Rt&&iv(),$e(0)}}function Bc(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ne(n)))}function Xo(){return Nc(),zc(),Lc(),jc()}function jc(){if(ht!==5)return!1;var e=aa,n=Gs;Gs=0;var r=z(Rr),i=32>r?32:r;r=nn.T;var c=Ur();try{vt(i),nn.T=null,i=Hs,Hs=null;var v=aa,w=Rr;if(ht=0,mo=aa=null,Rr=0,(Sn&6)!==0)throw Error(o(331));var A=Sn;if(Sn|=4,_c(v.current),bc(v,v.current,w,i),Sn=A,$e(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qo,v)}catch{}return!0}finally{vt(c),nn.T=r,Bc(e,n)}}function Gc(e,n,r){n=ne(r,n),n=Pl(e.stateNode,n,2),e=Z(e,n,2),e!==null&&(F(e,2),Oe(e))}function An(e,n,r){if(e.tag===3)Gc(e,e,r);else for(;n!==null;){if(n.tag===3){Gc(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ra===null||!ra.has(i))){e=ne(r,e),r=ju(2),i=Z(n,r,2),i!==null&&(Gu(r,i,n,e),F(i,2),Oe(i));break}}n=n.return}}function os(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Av;var c=new Set;i.set(n,c)}else c=i.get(n),c===void 0&&(c=new Set,i.set(n,c));c.has(r)||(Ls=!0,c.add(r),e=Ph.bind(null,e,n,r),n.then(e,e))}function Ph(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Gn===e&&(En&r)===r&&(nt===4||nt===3&&(En&62914560)===En&&300>Bt()-ol?(Sn&2)===0&&Ya(e,0):Bs|=r,vo===En&&(vo=0)),Oe(e)}function Hc(e,n){n===0&&(n=R()),e=Je(e,n),e!==null&&(F(e,n),Oe(e))}function Nh(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Hc(e,r)}function zh(e,n){var r=0;switch(e.tag){case 31:case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(n),Hc(e,r)}function Lh(e,n){return Hi(e,n)}function Bh(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mr(e,n){var r=e.alternate;return r===null?(r=p(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Wc(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pi(e,n,r,i,c,v){var w=0;if(i=e,typeof e=="function")is(e)&&(w=1);else if(typeof e=="string")w=dr&&dt?pf(e,r,_t.current)?26:Ef(e)?27:5:dr?pf(e,r,_t.current)?26:5:dt&&Ef(e)?27:5;else e:switch(e){case ms:return e=p(31,r,n,c),e.elementType=ms,e.lanes=v,e;case Qa:return ba(r.children,c,v,n);case Kc:w=8,c|=24;break;case fs:return e=p(12,r,n,c|2),e.elementType=fs,e.lanes=v,e;case hs:return e=p(13,r,n,c),e.elementType=hs,e.lanes=v,e;case ps:return e=p(19,r,n,c),e.elementType=ps,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qr:w=10;break e;case Jc:w=9;break e;case ds:w=11;break e;case vs:w=14;break e;case Qr:w=16,i=null;break e}w=29,r=Error(o(130,e===null?"null":typeof e,"")),i=null}return n=p(w,r,n,c),n.elementType=e,n.type=i,n.lanes=v,n}function ba(e,n,r,i){return e=p(7,e,i,n),e.lanes=r,e}function ls(e,n,r){return e=p(6,e,null,n),e.lanes=r,e}function Vc(e){var n=p(18,null,null,0);return n.stateNode=e,n}function ss(e,n,r){return n=p(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function jh(e,n,r,i,c,v,w,A,ae){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Sa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function Xc(e,n,r,i,c,v,w,A,ae,pe,Ue,be){return e=new jh(e,n,r,w,ae,pe,Ue,be,A),n=1,v===!0&&(n|=24),v=p(3,null,null,n),e.current=v,v.stateNode=e,n=yn(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:i,isDehydrated:r,cache:n},y(v),e}function Yc(e){return e?(e=eo,e):eo}function Zc(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=d(n),e=e!==null?s(e):null,e===null?null:Yo(e.stateNode)}function qc(e,n,r,i,c,v){c=Yc(c),i.context===null?i.context=c:i.pendingContext=c,i=D(n),i.payload={element:r},v=v===void 0?null:v,v!==null&&(i.callback=v),r=Z(e,i,n),r!==null&&(Lt(r,e,n),ee(r,e,n))}function Qc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function us(e,n){Qc(e,n),(e=e.alternate)&&Qc(e,n)}var bn={},Gh=xd,Yt=Um,cs=Object.assign,Hh=Symbol.for("react.element"),Ni=Symbol.for("react.transitional.element"),qa=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),Kc=Symbol.for("react.strict_mode"),fs=Symbol.for("react.profiler"),Jc=Symbol.for("react.consumer"),qr=Symbol.for("react.context"),ds=Symbol.for("react.forward_ref"),hs=Symbol.for("react.suspense"),ps=Symbol.for("react.suspense_list"),vs=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),ms=Symbol.for("react.activity"),Wh=Symbol.for("react.memo_cache_sentinel"),$c=Symbol.iterator,Vh=Symbol.for("react.client.reference"),zi=Array.isArray,nn=Gh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xh=t.rendererVersion,Yh=t.rendererPackageName,ef=t.extraDevToolsConfig,Yo=t.getPublicInstance,Zh=t.getRootHostContext,qh=t.getChildHostContext,Qh=t.prepareForCommit,Kh=t.resetAfterCommit,Jh=t.createInstance;t.cloneMutableInstance;var gs=t.appendInitialChild,nf=t.finalizeInitialChildren,Li=t.shouldSetTextContent,tf=t.createTextInstance;t.cloneMutableTextInstance;var $h=t.scheduleTimeout,ep=t.cancelTimeout,Sa=t.noTimeout,Cr=t.isPrimaryRenderer;t.warnsIfNotActing;var At=t.supportsMutation,gr=t.supportsPersistence,Rt=t.supportsHydration,np=t.getInstanceFromNode;t.beforeActiveInstanceBlur;var tp=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var vt=t.setCurrentUpdatePriority,Ur=t.getCurrentUpdatePriority,rp=t.resolveUpdatePriority;t.trackSchedulerEvent,t.resolveEventType,t.resolveEventTimeStamp;var ap=t.shouldAttemptEagerTransition,op=t.detachDeletedInstance;t.requestPostPaintCallback;var ip=t.maySuspendCommit,lp=t.maySuspendCommitOnUpdate,ys=t.maySuspendCommitInSyncRender,rf=t.preloadInstance,sp=t.startSuspendingCommit,af=t.suspendInstance;t.suspendOnActiveViewTransition;var up=t.waitForCommitToBeReady;t.getSuspendedCommitReason;var Ka=t.NotPendingTransition,wa=t.HostTransitionContext,cp=t.resetFormInstance;t.bindToConsole;var fp=t.supportsMicrotasks,dp=t.scheduleMicrotask,Zo=t.supportsTestSelectors,hp=t.findFiberRoot,pp=t.getBoundingRect,vp=t.getTextContent,qo=t.isHiddenSubtree,mp=t.matchAccessibilityRole,gp=t.setFocusIfFocusable,yp=t.setupIntersectionObserver,bp=t.appendChild,Sp=t.appendChildToContainer,wp=t.commitTextUpdate,_p=t.commitMount,Ep=t.commitUpdate,xp=t.insertBefore,kp=t.insertInContainerBefore,Tp=t.removeChild,Mp=t.removeChildFromContainer,of=t.resetTextContent,Cp=t.hideInstance,Up=t.hideTextInstance,Fp=t.unhideInstance,Ip=t.unhideTextInstance;t.cancelViewTransitionName,t.cancelRootViewTransitionName,t.restoreRootViewTransitionName,t.cloneRootViewTransitionContainer,t.removeRootViewTransitionClone,t.measureClonedInstance,t.hasInstanceChanged,t.hasInstanceAffectedParent,t.startViewTransition,t.startGestureTransition,t.stopViewTransition,t.getCurrentGestureOffset,t.createViewTransitionInstance;var Dp=t.clearContainer;t.createFragmentInstance,t.updateFragmentInstanceFiber,t.commitNewChildToFragmentInstance,t.deleteChildFromFragmentInstance;var Ap=t.cloneInstance,lf=t.createContainerChildSet,sf=t.appendChildToContainerChildSet,Rp=t.finalizeContainerChildren,uf=t.replaceContainerChildren,cf=t.cloneHiddenInstance,ff=t.cloneHiddenTextInstance,bs=t.isSuspenseInstancePending,Ss=t.isSuspenseInstanceFallback,Op=t.getSuspenseInstanceFallbackErrorDetails,Pp=t.registerSuspenseInstanceRetry,Np=t.canHydrateFormStateMarker,zp=t.isFormStateMarkerMatching,df=t.getNextHydratableSibling,Lp=t.getNextHydratableSiblingAfterSingleton,Bp=t.getFirstHydratableChild,jp=t.getFirstHydratableChildWithinContainer,Gp=t.getFirstHydratableChildWithinActivityInstance,Hp=t.getFirstHydratableChildWithinSuspenseInstance,Wp=t.getFirstHydratableChildWithinSingleton,Vp=t.canHydrateInstance,Xp=t.canHydrateTextInstance,Yp=t.canHydrateActivityInstance,Zp=t.canHydrateSuspenseInstance,qp=t.hydrateInstance,Qp=t.hydrateTextInstance,Kp=t.hydrateActivityInstance,Jp=t.hydrateSuspenseInstance,$p=t.getNextHydratableInstanceAfterActivityInstance,ev=t.getNextHydratableInstanceAfterSuspenseInstance,nv=t.commitHydratedInstance,tv=t.commitHydratedContainer,rv=t.commitHydratedActivityInstance,av=t.commitHydratedSuspenseInstance,ov=t.finalizeHydratedChildren,iv=t.flushHydrationEvents;t.clearActivityBoundary;var lv=t.clearSuspenseBoundary;t.clearActivityBoundaryFromContainer;var sv=t.clearSuspenseBoundaryFromContainer,uv=t.hideDehydratedBoundary,cv=t.unhideDehydratedBoundary,hf=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var fv=t.validateHydratableInstance,dv=t.validateHydratableTextInstance,dr=t.supportsResources,pf=t.isHostHoistableType,ws=t.getHoistableRoot,vf=t.getResource,mf=t.acquireResource,gf=t.releaseResource,hv=t.hydrateHoistable,yf=t.mountHoistable,bf=t.unmountHoistable,pv=t.createHoistableInstance,vv=t.prepareToCommitHoistables,mv=t.mayResourceSuspendCommit,Sf=t.preloadResource,gv=t.suspendResource,dt=t.supportsSingletons,wf=t.resolveSingletonInstance,yv=t.acquireSingletonInstance,_f=t.releaseSingletonInstance,Ef=t.isHostSingletonType,Ja=t.isSingletonScope,_s=[],$a=-1,eo={},Zt=Math.clz32?Math.clz32:M,bv=Math.log,Sv=Math.LN2,Bi=256,ji=262144,Gi=4194304,Hi=Yt.unstable_scheduleCallback,Es=Yt.unstable_cancelCallback,wv=Yt.unstable_shouldYield,_v=Yt.unstable_requestPaint,Bt=Yt.unstable_now,xf=Yt.unstable_ImmediatePriority,Ev=Yt.unstable_UserBlockingPriority,xs=Yt.unstable_NormalPriority,xv=Yt.unstable_IdlePriority,kv=Yt.log,Tv=Yt.unstable_setDisableYieldValue,Qo=null,qt=null,Qt=typeof Object.is=="function"?Object.is:P,kf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mv=Object.prototype.hasOwnProperty,ks,Tf,Ts=!1,Mf=new WeakMap,no=[],to=0,Wi=null,Ko=0,er=[],nr=0,Kr=null,yr=1,br="",_t=b(null),Jo=b(null),Jr=b(null),Vi=b(null),Et=null,Kn=null,Mn=!1,$r=null,tr=!1,Ms=Error(o(519)),Xi=b(null),_a=null,Fr=null,Cv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,i){e.push(i)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Uv=Yt.unstable_scheduleCallback,Fv=Yt.unstable_NormalPriority,Jn={$$typeof:qr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Yi=null,ro=null,Cs=!1,Zi=!1,Us=!1,Ea=0,$o=null,Fs=0,ao=0,oo=null,Cf=nn.S;nn.S=function(e,n){Af=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ce(e,n),Cf!==null&&Cf(e,n)};var xa=b(null),io=Error(o(460)),Is=Error(o(474)),qi=Error(o(542)),Qi={then:function(){}},ka=null,lo=null,ei=0,Ta=Tt(!0),Uf=Tt(!1),rr=[],so=0,Ds=0,ea=!1,As=!1,uo=b(null),Ki=b(0),Kt=b(null),hr=null,rt=b(0),Ir=0,mn=null,Bn=null,at=null,Ji=!1,co=!1,Ma=!1,$i=0,ni=0,fo=null,Iv=0,ti={readContext:ye,use:ft,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};ti.useEffectEvent=un;var Ff={readContext:ye,use:ft,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:ye,useEffect:zo,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hr(4194308,4,Ga.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hr(4194308,4,e,n)},useInsertionEffect:function(e,n){Hr(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var i=e();if(Ma){j(!0);try{e()}finally{j(!1)}}return r.memoizedState=[i,n],i},useReducer:function(e,n,r){var i=cn();if(r!==void 0){var c=r(n);if(Ma){j(!0);try{r(n)}finally{j(!1)}}}else c=n;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=It.bind(null,mn,e),[i.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Lr(e);var n=e.queue,r=sr.bind(null,mn,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ha,useDeferredValue:function(e,n){var r=cn();return bt(r,e,n)},useTransition:function(){var e=Lr(!1);return e=pa.bind(null,mn,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var i=mn,c=cn();if(Mn){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Gn===null)throw Error(o(349));(En&127)!==0||Io(i,n,r)}c.memoizedState=r;var v={value:r,getSnapshot:n};return c.queue=v,zo(Na.bind(null,i,v,e),[e]),i.flags|=2048,_r(9,{destroy:void 0},Do.bind(null,i,v,r,n),null),r},useId:function(){var e=cn(),n=Gn.identifierPrefix;if(Mn){var r=br,i=yr;r=(i&~(1<<32-Zt(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$i++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Iv++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Va,useFormState:fa,useActionState:fa,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rl.bind(null,mn,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ut,useCacheRefresh:function(){return cn().memoizedState=Vt.bind(null,mn)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Sn&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Rs={readContext:ye,use:ft,useCallback:Vr,useContext:ye,useEffect:Er,useImperativeHandle:Wr,useInsertionEffect:Lo,useLayoutEffect:ja,useMemo:Wa,useReducer:Ft,useRef:No,useState:function(){return Ft(Nn)},useDebugValue:Ha,useDeferredValue:function(e,n){var r=vn();return _i(r,Bn.memoizedState,e,n)},useTransition:function(){var e=Ft(Nn)[0],n=vn().memoizedState;return[typeof e=="boolean"?e:dn(e),n]},useSyncExternalStore:Pa,useId:Ei,useHostTransitionStatus:Va,useFormState:La,useActionState:La,useOptimistic:function(e,n){var r=vn();return wr(r,Bn,e,n)},useMemoCache:Ut,useCacheRefresh:St};Rs.useEffectEvent=lr;var If={readContext:ye,use:ft,useCallback:Vr,useContext:ye,useEffect:Er,useImperativeHandle:Wr,useInsertionEffect:Lo,useLayoutEffect:ja,useMemo:Wa,useReducer:Nr,useRef:No,useState:function(){return Nr(Nn)},useDebugValue:Ha,useDeferredValue:function(e,n){var r=vn();return Bn===null?bt(r,e,n):_i(r,Bn.memoizedState,e,n)},useTransition:function(){var e=Nr(Nn)[0],n=vn().memoizedState;return[typeof e=="boolean"?e:dn(e),n]},useSyncExternalStore:Pa,useId:Ei,useHostTransitionStatus:Va,useFormState:Ba,useActionState:Ba,useOptimistic:function(e,n){var r=vn();return Bn!==null?wr(r,Bn,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ut,useCacheRefresh:St};If.useEffectEvent=lr;var Os={enqueueSetState:function(e,n,r){e=e._reactInternals;var i=Xt(),c=D(i);c.payload=n,r!=null&&(c.callback=r),n=Z(e,c,i),n!==null&&(Lt(n,e,i),ee(n,e,i))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=Xt(),c=D(i);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Z(e,c,i),n!==null&&(Lt(n,e,i),ee(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Xt(),i=D(r);i.tag=2,n!=null&&(i.callback=n),n=Z(e,i,r),n!==null&&(Lt(n,e,r),ee(n,e,r))}},Ps=Error(o(461)),ot=!1,Ns={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Dr=!1,it=!1,zs=!1,Df=typeof WeakSet=="function"?WeakSet:Set,mt=null,lt=null,jt=!1,pr=null,ho=8192,Dv={getCacheForType:function(e){var n=ye(Jn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return ye(Jn).controller.signal}},el=0,nl=1,tl=2,rl=3,al=4;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;el=ri("selector.component"),nl=ri("selector.has_pseudo_class"),tl=ri("selector.role"),rl=ri("selector.test_id"),al=ri("selector.text")}var Av=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Gn=null,wn=null,En=0,zn=0,Jt=null,na=!1,po=!1,Ls=!1,Ar=0,nt=0,ta=0,Ca=0,Bs=0,$t=0,vo=0,ai=null,Gt=null,js=!1,ol=0,Af=0,oi=1/0,il=null,ra=null,ht=0,aa=null,mo=null,Rr=0,Gs=0,Hs=null,Rf=null,ii=0,Ws=null;return bn.attemptContinuousHydration=function(e){if(e.tag===13||e.tag===31){var n=Je(e,67108864);n!==null&&Lt(n,e,67108864),us(e,67108864)}},bn.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13||e.tag===31){var n=Xt();n=le(n);var r=Je(e,n);r!==null&&Lt(r,e,n),us(e,n)}},bn.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if(e=e.stateNode,e.current.memoizedState.isDehydrated){var n=k(e.pendingLanes);if(n!==0){for(e.pendingLanes|=2,e.entangledLanes|=2;n;){var r=1<<31-Zt(n);e.entanglements[1]|=r,n&=~r}Oe(e),(Sn&6)===0&&(oi=Bt()+500,$e(0))}}break;case 31:case 13:n=Je(e,2),n!==null&&Lt(n,e,2),Cc(),us(e,2)}},bn.batchedUpdates=function(e,n){return e(n)},bn.createComponentSelector=function(e){return{$$typeof:el,value:e}},bn.createContainer=function(e,n,r,i,c,v,w,A,ae,pe){return Xc(e,n,!1,null,r,i,v,null,w,A,ae,pe)},bn.createHasPseudoClassSelector=function(e){return{$$typeof:nl,value:e}},bn.createHydrationContainer=function(e,n,r,i,c,v,w,A,ae,pe,Ue,be,Be,pn){var st;return e=Xc(r,i,!0,e,c,v,A,pn,ae,pe,Ue,be),e.context=Yc(null),r=e.current,i=Xt(),i=le(i),c=D(i),c.callback=(st=n)!=null?st:null,Z(r,c,i),n=i,e.current.lanes=n,F(e,n),Oe(e),e},bn.createPortal=function(e,n,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qa,key:i==null?null:""+i,children:e,containerInfo:n,implementation:r}},bn.createRoleSelector=function(e){return{$$typeof:tl,value:e}},bn.createTestNameSelector=function(e){return{$$typeof:rl,value:e}},bn.createTextSelector=function(e){return{$$typeof:al,value:e}},bn.defaultOnCaughtError=function(e){console.error(e)},bn.defaultOnRecoverableError=function(e){kf(e)},bn.defaultOnUncaughtError=function(e){kf(e)},bn.deferredUpdates=function(e){var n=nn.T,r=Ur();try{return vt(32),nn.T=null,e()}finally{vt(r),nn.T=n}},bn.discreteUpdates=function(e,n,r,i,c){var v=nn.T,w=Ur();try{return vt(2),nn.T=null,e(n,r,i,c)}finally{vt(w),nn.T=v,Sn===0&&(oi=Bt()+500)}},bn.findAllNodes=ts,bn.findBoundingRects=function(e,n){if(!Zo)throw Error(o(363));n=ts(e,n),e=[];for(var r=0;r<n.length;r++)e.push(pp(n[r]));for(n=e.length-1;0<n;n--){r=e[n];for(var i=r.x,c=i+r.width,v=r.y,w=v+r.height,A=n-1;0<=A;A--)if(n!==A){var ae=e[A],pe=ae.x,Ue=pe+ae.width,be=ae.y,Be=be+ae.height;if(i>=pe&&v>=be&&c<=Ue&&w<=Be){e.splice(n,1);break}else if(i!==pe||r.width!==ae.width||Be<v||be>w){if(!(v!==be||r.height!==ae.height||Ue<i||pe>c)){pe>i&&(ae.width+=pe-i,ae.x=i),Ue<c&&(ae.width=c-pe),e.splice(n,1);break}}else{be>v&&(ae.height+=be-v,ae.y=v),Be<w&&(ae.height=w-be),e.splice(n,1);break}}}return e},bn.findHostInstance=Zc,bn.findHostInstanceWithNoPortals=function(e){return e=d(e),e=e!==null?h(e):null,e===null?null:Yo(e.stateNode)},bn.findHostInstanceWithWarning=function(e){return Zc(e)},bn.flushPassiveEffects=Xo,bn.flushSyncFromReconciler=function(e){var n=Sn;Sn|=1;var r=nn.T,i=Ur();try{if(vt(2),nn.T=null,e)return e()}finally{vt(i),nn.T=r,Sn=n,(Sn&6)===0&&$e(0)}},bn.flushSyncWork=Cc,bn.focusWithin=function(e,n){if(!Zo)throw Error(o(363));for(e=$l(e),n=xc(e,n),n=Array.from(n),e=0;e<n.length;){var r=n[e++],i=r.tag;if(!qo(r)){if((i===5||i===26||i===27)&&gp(r.stateNode))return!0;for(r=r.child;r!==null;)n.push(r),r=r.sibling}}return!1},bn.getFindAllNodesFailureDescription=function(e,n){if(!Zo)throw Error(o(363));var r=0,i=[];e=[$l(e),0];for(var c=0;c<e.length;){var v=e[c++],w=v.tag,A=e[c++],ae=n[A];if((w!==5&&w!==26&&w!==27||!qo(v))&&(es(v,ae)&&(i.push(ns(ae)),A++,A>r&&(r=A)),A<n.length))for(v=v.child;v!==null;)e.push(v,A),v=v.sibling}if(r<n.length){for(e=[];r<n.length;r++)e.push(ns(n[r]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},bn.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 27:case 5:return Yo(e.child.stateNode);default:return e.child.stateNode}},bn.injectIntoDevTools=function(){var e={bundleType:0,version:Xh,rendererPackageName:Yh,currentDispatcherRef:nn,reconcilerVersion:"19.2.0"};if(ef!==null&&(e.rendererConfig=ef),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)e=!0;else{try{Qo=n.inject(e),qt=n}catch{}e=!!n.checkDCE}}return e},bn.isAlreadyRendering=function(){return(Sn&6)!==0},bn.observeVisibleRects=function(e,n,r,i){if(!Zo)throw Error(o(363));e=ts(e,n);var c=yp(e,r,i).disconnect;return{disconnect:function(){c()}}},bn.shouldError=function(){return null},bn.shouldSuspend=function(){return!1},bn.startHostTransition=function(e,n,r,i){if(e.tag!==5)throw Error(o(476));var c=va(e).queue;pa(e,c,n,Ka,r===null?u:function(){var v=va(e);return v.next===null&&(v=e.alternate.memoizedState),Xr(e,v.next.queue,{},Xt()),r(i)})},bn.updateContainer=function(e,n,r,i){var c=n.current,v=Xt();return qc(c,v,e,n,r,i),v},bn.updateContainerSync=function(e,n,r,i){return qc(n.current,2,e,n,r,i),2},bn},l.exports.default=l.exports,Object.defineProperty(l.exports,"__esModule",{value:!0})})(Kf)),Kf.exports}var $f;function rg(){return $f||($f=1,Qf.exports=tg()),Qf.exports}var ag=rg();const og=ng(ag);function ig(l){const t=og(l);return t.injectIntoDevTools(),t}const Xd=0,Mo={},lg=/^three(?=[A-Z])/,Il=l=>`${l[0].toUpperCase()}${l.slice(1)}`;let sg=0;const ug=l=>typeof l=="function";function Yd(l){if(ug(l)){const t=`${sg++}`;return Mo[t]=l,t}else Object.assign(Mo,l)}function Zd(l,t){const p=Il(l),u=Mo[p];if(l!=="primitive"&&!u)throw new Error(`R3F: ${p} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(l==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function cg(l,t,p){var u;return l=Il(l)in Mo?l:l.replace(lg,""),Zd(l,t),l==="primitive"&&(u=t.object)!=null&&u.__r3f&&delete t.object.__r3f,xl(t.object,p,l,t)}function fg(l){if(!l.isHidden){var t;l.props.attach&&(t=l.parent)!=null&&t.object?Tl(l.parent,l):Nt(l.object)&&(l.object.visible=!1),l.isHidden=!0,Uo(l)}}function qd(l){if(l.isHidden){var t;l.props.attach&&(t=l.parent)!=null&&t.object?kl(l.parent,l):Nt(l.object)&&l.props.visible!==!1&&(l.object.visible=!0),l.isHidden=!1,Uo(l)}}function Mu(l,t,p){const u=t.root.getState();if(!(!l.parent&&l.object!==u.scene)){if(!t.object){var o,a;const f=Mo[Il(t.type)];t.object=(o=t.props.object)!=null?o:new f(...(a=t.props.args)!=null?a:[]),t.object.__r3f=t}if(Sr(t.object,t.props),t.props.attach)kl(l,t);else if(Nt(t.object)&&Nt(l.object)){const f=l.object.children.indexOf(p?.object);if(p&&f!==-1){const d=l.object.children.indexOf(t.object);if(d!==-1){l.object.children.splice(d,1);const s=d<f?f-1:f;l.object.children.splice(s,0,t.object)}else t.object.parent=l.object,l.object.children.splice(f,0,t.object),t.object.dispatchEvent({type:"added"}),l.object.dispatchEvent({type:"childadded",child:t.object})}else l.object.add(t.object)}for(const f of t.children)Mu(t,f);Uo(t)}}function Qs(l,t){t&&(t.parent=l,l.children.push(t),Mu(l,t))}function ed(l,t,p){if(!t||!p)return;t.parent=l;const u=l.children.indexOf(p);u!==-1?l.children.splice(u,0,t):l.children.push(t),Mu(l,t,p)}function Qd(l){if(typeof l.dispose=="function"){const t=()=>{try{l.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():su.unstable_scheduleCallback(su.unstable_IdlePriority,t)}}function cu(l,t,p){if(!t)return;t.parent=null;const u=l.children.indexOf(t);u!==-1&&l.children.splice(u,1),t.props.attach?Tl(l,t):Nt(t.object)&&Nt(l.object)&&(l.object.remove(t.object),Xm(Ld(t),t.object));const o=t.props.dispose!==null&&p!==!1;for(let a=t.children.length-1;a>=0;a--){const f=t.children[a];cu(t,f,o)}t.children.length=0,delete t.object.__r3f,o&&t.type!=="primitive"&&t.object.type!=="Scene"&&Qd(t.object),p===void 0&&Uo(t)}function dg(l,t){for(const p of[l,l.alternate])if(p!==null)if(typeof p.ref=="function"){p.refCleanup==null||p.refCleanup();const u=p.ref(t);typeof u=="function"&&(p.refCleanup=u)}else p.ref&&(p.ref.current=t)}const gl=[];function hg(){for(const[p]of gl){const u=p.parent;if(u){p.props.attach?Tl(u,p):Nt(p.object)&&Nt(u.object)&&u.object.remove(p.object);for(const o of p.children)o.props.attach?Tl(p,o):Nt(o.object)&&Nt(p.object)&&p.object.remove(o.object)}p.isHidden&&qd(p),p.object.__r3f&&delete p.object.__r3f,p.type!=="primitive"&&Qd(p.object)}for(const[p,u,o]of gl){p.props=u;const a=p.parent;if(a){var l,t;const f=Mo[Il(p.type)];p.object=(l=p.props.object)!=null?l:new f(...(t=p.props.args)!=null?t:[]),p.object.__r3f=p,dg(o,p.object),Sr(p.object,p.props),p.props.attach?kl(a,p):Nt(p.object)&&Nt(a.object)&&a.object.add(p.object);for(const d of p.children)d.props.attach?kl(p,d):Nt(d.object)&&Nt(p.object)&&p.object.add(d.object);Uo(p)}}gl.length=0}const Ks=()=>{},nd={};let sl=Xd;const pg=0,vg=4,Ml=ig({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:cg,removeChild:cu,appendChild:Qs,appendInitialChild:Qs,insertBefore:ed,appendChildToContainer(l,t){const p=l.getState().scene.__r3f;!t||!p||Qs(p,t)},removeChildFromContainer(l,t){const p=l.getState().scene.__r3f;!t||!p||cu(p,t)},insertInContainerBefore(l,t,p){const u=l.getState().scene.__r3f;!t||!p||!u||ed(u,t,p)},getRootHostContext:()=>nd,getChildHostContext:()=>nd,commitUpdate(l,t,p,u,o){var a,f,d;Zd(t,u);let s=!1;if((l.type==="primitive"&&p.object!==u.object||((a=u.args)==null?void 0:a.length)!==((f=p.args)==null?void 0:f.length)||(d=u.args)!=null&&d.some((m,g)=>{var b;return m!==((b=p.args)==null?void 0:b[g])}))&&(s=!0),s)gl.push([l,{...u},o]);else{const m=Hm(l,u);Object.keys(m).length&&(Object.assign(l.props,m),Sr(l.object,m))}(o.sibling===null||(o.flags&vg)===pg)&&hg()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:l=>l?.object,prepareForCommit:()=>null,preparePortalMount:l=>xl(l.getState().scene,l,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:fg,unhideInstance:qd,createTextInstance:Ks,hideTextInstance:Ks,unhideTextInstance:Ks,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ve.createContext(null),setCurrentUpdatePriority(l){sl=l},getCurrentUpdatePriority(){return sl},resolveUpdatePriority(){var l;if(sl!==Xd)return sl;switch(typeof window<"u"&&((l=window.event)==null?void 0:l.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $m;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Km;default:return Jm}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:eg.version,applyViewTransitionName(l,t,p){},restoreViewTransitionName(l,t){},cancelViewTransitionName(l,t,p){},cancelRootViewTransitionName(l){},restoreRootViewTransitionName(l){},InstanceMeasurement:null,measureInstance:l=>null,wasInstanceInViewport:l=>!0,hasInstanceChanged:(l,t)=>!1,hasInstanceAffectedParent:(l,t)=>!1,suspendOnActiveViewTransition(l,t){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(l){},createViewTransitionInstance:l=>null,getCurrentGestureOffset(l){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(l,t){return l},cloneMutableTextInstance(l){return l},cloneRootViewTransitionContainer(l){throw new Error("Not implemented.")},removeRootViewTransitionClone(l,t){throw new Error("Not implemented.")},createFragmentInstance:l=>null,updateFragmentInstanceFiber(l,t){},commitNewChildToFragmentInstance(l,t){},deleteChildFromFragmentInstance(l,t){},measureClonedInstance:l=>null,maySuspendCommitOnUpdate:(l,t,p)=>!1,maySuspendCommitInSyncRender:(l,t)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(l,t)=>null}),Ra=new Map,So={objects:"shallow",strict:!1};function mg(l,t){if(!t&&typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&l.parentElement){const{width:p,height:u,top:o,left:a}=l.parentElement.getBoundingClientRect();return{width:p,height:u,top:o,left:a}}else if(!t&&typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas)return{width:l.width,height:l.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function gg(l){const t=Ra.get(l),p=t?.fiber,u=t?.store;t&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,a=u||Zm(hu,rd),f=p||Ml.createContainer(a,Qm,null,!1,null,"",o,o,o,null);t||Ra.set(l,{fiber:f,store:a});let d,s,h=!1,m=null;return{async configure(g={}){let b;m=new Promise(C=>b=C);let{gl:S,size:E,scene:M,events:k,onCreated:U,shadows:x=!1,linear:G=!1,flat:R=!1,legacy:I=!1,orthographic:F=!1,frameloop:H="always",dpr:T=[1,2],performance:N,raycaster:O,camera:le,onPointerMissed:z}=g,j=a.getState(),P=j.gl;if(!j.gl){const C={canvas:l,powerPreference:"high-performance",antialias:!0,alpha:!0},L=typeof S=="function"?await S(C):S;Zf(L)?P=L:P=new kd({...C,...S}),j.set({gl:P})}let ie=j.raycaster;ie||j.set({raycaster:ie=new Td});const{params:K,...we}=O||{};if(Zn.equ(we,ie,So)||Sr(ie,{...we}),Zn.equ(K,ie.params,So)||Sr(ie,{params:{...ie.params,...K}}),!j.camera||j.camera===s&&!Zn.equ(s,le,So)){s=le;const C=le?.isCamera,L=C?le:F?new di(0,0,0,0,.1,1e3):new vl(75,0,.1,1e3);C||(L.position.z=5,le&&(Sr(L,le),L.manual||("aspect"in le||"left"in le||"right"in le||"bottom"in le||"top"in le)&&(L.manual=!0,L.updateProjectionMatrix())),!j.camera&&!(le!=null&&le.rotation)&&L.lookAt(0,0,0)),j.set({camera:L}),ie.camera=L}if(!j.scene){let C;M!=null&&M.isScene?(C=M,xl(C,a,"",{})):(C=new Su,xl(C,a,"",{}),M&&Sr(C,M)),j.set({scene:C})}k&&!j.events.handlers&&j.set({events:k(a)});const ke=mg(l,E);if(Zn.equ(ke,j.size,So)||j.setSize(ke.width,ke.height,ke.top,ke.left),T&&j.viewport.dpr!==jd(T)&&j.setDpr(T),j.frameloop!==H&&j.setFrameloop(H),j.onPointerMissed||j.set({onPointerMissed:z}),N&&!Zn.equ(N,j.performance,So)&&j.set(C=>({performance:{...C.performance,...N}})),!j.xr){var ne;const C=(Y,Q)=>{const re=a.getState();re.frameloop!=="never"&&rd(Y,!0,re,Q)},L=()=>{const Y=a.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?C:null),Y.gl.xr.isPresenting||hu(Y)},V={connect(){const Y=a.getState().gl;Y.xr.addEventListener("sessionstart",L),Y.xr.addEventListener("sessionend",L)},disconnect(){const Y=a.getState().gl;Y.xr.removeEventListener("sessionstart",L),Y.xr.removeEventListener("sessionend",L)}};typeof((ne=P.xr)==null?void 0:ne.addEventListener)=="function"&&V.connect(),j.set({xr:V})}if(P.shadowMap){const C=P.shadowMap.enabled,L=P.shadowMap.type;if(P.shadowMap.enabled=!!x,Zn.boo(x))P.shadowMap.type=Vs;else if(Zn.str(x)){var X;const V={basic:zv,percentage:Nv,soft:Vs,variance:Pv};P.shadowMap.type=(X=V[x])!=null?X:Vs}else Zn.obj(x)&&Object.assign(P.shadowMap,x);(C!==P.shadowMap.enabled||L!==P.shadowMap.type)&&(P.shadowMap.needsUpdate=!0)}return Lv.enabled=!I,h||(P.outputColorSpace=G?Sl:wu,P.toneMapping=R?Bv:jv),j.legacy!==I&&j.set(()=>({legacy:I})),j.linear!==G&&j.set(()=>({linear:G})),j.flat!==R&&j.set(()=>({flat:R})),S&&!Zn.fun(S)&&!Zf(S)&&!Zn.equ(S,P,So)&&Sr(P,S),d=U,h=!0,b(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{Ml.updateContainer(Xe.jsx(yg,{store:a,children:g,onCreated:d,rootElement:l}),f,null,()=>{})}),a},unmount(){Kd(l)}}}function yg({store:l,children:t,onCreated:p,rootElement:u}){return Si(()=>{const o=l.getState();o.set(a=>({internal:{...a.internal,active:!0}})),p&&p(o),l.getState().events.connected||o.events.connect==null||o.events.connect(u)},[]),Xe.jsx(ku.Provider,{value:l,children:t})}function Kd(l,t){const p=Ra.get(l),u=p?.fiber;if(u){const o=p?.store.getState();o&&(o.internal.active=!1),Ml.updateContainer(null,u,null,()=>{o&&setTimeout(()=>{try{var a,f,d,s;o.events.disconnect==null||o.events.disconnect(),(a=o.gl)==null||(f=a.renderLists)==null||f.dispose==null||f.dispose(),(d=o.gl)==null||d.forceContextLoss==null||d.forceContextLoss(),(s=o.gl)!=null&&s.xr&&o.xr.disconnect(),Bm(o.scene),Ra.delete(l)}catch{}},500)})}}function bg(l,t,p){return Xe.jsx(Sg,{children:l,container:t,state:p})}function Sg({state:l={},children:t,container:p}){const{events:u,size:o,...a}=l,f=Tu(),[d]=ve.useState(()=>new Td),[s]=ve.useState(()=>new kt),h=xu((g,b)=>{let S;if(b.camera&&o){const E=b.camera;S=g.viewport.getCurrentViewport(E,new Yn,o),E!==g.camera&&Hd(E,o)}return{...g,...b,scene:p,raycaster:d,pointer:s,mouse:s,previousRoot:f,events:{...g.events,...b.events,...u},size:{...g.size,...o},viewport:{...g.viewport,...S},setEvents:E=>b.set(M=>({...M,events:{...M.events,...E}}))}}),m=ve.useMemo(()=>{const g=Dd((S,E)=>({...a,set:S,get:E})),b=S=>g.setState(E=>h.current(S,E));return b(f.getState()),f.subscribe(b),g},[f,p]);return Xe.jsx(Xe.Fragment,{children:Ml.createPortal(Xe.jsx(ku.Provider,{value:m,children:t}),m,null)})}const wg=new Set,_g=new Set,Eg=new Set;function Js(l,t){if(l.size)for(const{callback:p}of l.values())p(t)}function hi(l,t){switch(l){case"before":return Js(wg,t);case"after":return Js(_g,t);case"tail":return Js(Eg,t)}}let $s,eu;function fu(l,t,p){let u=t.clock.getDelta();t.frameloop==="never"&&typeof l=="number"&&(u=l-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=l),$s=t.internal.subscribers;for(let o=0;o<$s.length;o++)eu=$s[o],eu.ref.current(eu.store.getState(),u,p);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let Cl=!1,du=!1,nu,td,wo;function Jd(l){td=requestAnimationFrame(Jd),Cl=!0,nu=0,hi("before",l),du=!0;for(const p of Ra.values()){var t;wo=p.store.getState(),wo.internal.active&&(wo.frameloop==="always"||wo.internal.frames>0)&&!((t=wo.gl.xr)!=null&&t.isPresenting)&&(nu+=fu(l,wo))}if(du=!1,hi("after",l),nu===0)return hi("tail",l),Cl=!1,cancelAnimationFrame(td)}function hu(l,t=1){var p;if(!l)return Ra.forEach(u=>hu(u.store.getState(),t));(p=l.gl.xr)!=null&&p.isPresenting||!l.internal.active||l.frameloop==="never"||(t>1?l.internal.frames=Math.min(60,l.internal.frames+t):du?l.internal.frames=2:l.internal.frames=1,Cl||(Cl=!0,requestAnimationFrame(Jd)))}function rd(l,t=!0,p,u){if(t&&hi("before",l),p)fu(l,p,u);else for(const o of Ra.values())fu(l,o.store.getState());t&&hi("after",l)}const tu={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xg(l){const{handlePointer:t}=Ym(l);return{priority:1,enabled:!0,compute(p,u,o){u.pointer.set(p.offsetX/u.size.width*2-1,-(p.offsetY/u.size.height)*2+1),u.raycaster.setFromCamera(u.pointer,u.camera)},connected:void 0,handlers:Object.keys(tu).reduce((p,u)=>({...p,[u]:t(u)}),{}),update:()=>{var p;const{events:u,internal:o}=l.getState();(p=o.lastEvent)!=null&&p.current&&u.handlers&&u.handlers.onPointerMove(o.lastEvent.current)},connect:p=>{const{set:u,events:o}=l.getState();if(o.disconnect==null||o.disconnect(),u(a=>({events:{...a.events,connected:p}})),o.handlers)for(const a in o.handlers){const f=o.handlers[a],[d,s]=tu[a];p.addEventListener(d,f,{passive:s})}},disconnect:()=>{const{set:p,events:u}=l.getState();if(u.connected){if(u.handlers)for(const o in u.handlers){const a=u.handlers[o],[f]=tu[o];u.connected.removeEventListener(f,a)}p(o=>({events:{...o.events,connected:void 0}}))}}}}function ad(l,t){let p;return(...u)=>{window.clearTimeout(p),p=window.setTimeout(()=>l(...u),t)}}function kg({debounce:l,scroll:t,polyfill:p,offsetSize:u}={debounce:0,scroll:!1,offsetSize:!1}){const o=p||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,f]=ve.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=ve.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),s=l?typeof l=="number"?l:l.scroll:null,h=l?typeof l=="number"?l:l.resize:null,m=ve.useRef(!1);ve.useEffect(()=>(m.current=!0,()=>{m.current=!1}));const[g,b,S]=ve.useMemo(()=>{const U=()=>{if(!d.current.element)return;const{left:x,top:G,width:R,height:I,bottom:F,right:H,x:T,y:N}=d.current.element.getBoundingClientRect(),O={left:x,top:G,width:R,height:I,bottom:F,right:H,x:T,y:N};d.current.element instanceof HTMLElement&&u&&(O.height=d.current.element.offsetHeight,O.width=d.current.element.offsetWidth),Object.freeze(O),m.current&&!Ug(d.current.lastBounds,O)&&f(d.current.lastBounds=O)};return[U,h?ad(U,h):U,s?ad(U,s):U]},[f,u,s,h]);function E(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(U=>U.removeEventListener("scroll",S,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null),d.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",d.current.orientationHandler))}function M(){d.current.element&&(d.current.resizeObserver=new o(S),d.current.resizeObserver.observe(d.current.element),t&&d.current.scrollContainers&&d.current.scrollContainers.forEach(U=>U.addEventListener("scroll",S,{capture:!0,passive:!0})),d.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",d.current.orientationHandler))}const k=U=>{!U||U===d.current.element||(E(),d.current.element=U,d.current.scrollContainers=$d(U),M())};return Mg(S,!!t),Tg(b),ve.useEffect(()=>{E(),M()},[t,S,b]),ve.useEffect(()=>E,[]),[k,a,g]}function Tg(l){ve.useEffect(()=>{const t=l;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[l])}function Mg(l,t){ve.useEffect(()=>{if(t){const p=l;return window.addEventListener("scroll",p,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",p,!0)}}},[l,t])}function $d(l){const t=[];if(!l||l===document.body)return t;const{overflow:p,overflowX:u,overflowY:o}=window.getComputedStyle(l);return[p,u,o].some(a=>a==="auto"||a==="scroll")&&t.push(l),[...t,...$d(l.parentElement)]}const Cg=["x","y","top","bottom","left","right","width","height"],Ug=(l,t)=>Cg.every(p=>l[p]===t[p]);function Fg({ref:l,children:t,fallback:p,resize:u,style:o,gl:a,events:f=xg,eventSource:d,eventPrefix:s,shadows:h,linear:m,flat:g,legacy:b,orthographic:S,frameloop:E,dpr:M,performance:k,raycaster:U,camera:x,scene:G,onPointerMissed:R,onCreated:I,...F}){ve.useMemo(()=>Yd(Hv),[]);const H=Pm(),[T,N]=kg({scroll:!0,debounce:{scroll:50,resize:0},...u}),O=ve.useRef(null),le=ve.useRef(null);ve.useImperativeHandle(l,()=>O.current);const z=xu(R),[j,P]=ve.useState(!1),[ie,K]=ve.useState(!1);if(j)throw j;if(ie)throw ie;const we=ve.useRef(null);Si(()=>{const ne=O.current;if(N.width>0&&N.height>0&&ne){we.current||(we.current=gg(ne));async function X(){await we.current.configure({gl:a,scene:G,events:f,shadows:h,linear:m,flat:g,legacy:b,orthographic:S,frameloop:E,dpr:M,performance:k,raycaster:U,camera:x,size:N,onPointerMissed:(...C)=>z.current==null?void 0:z.current(...C),onCreated:C=>{C.events.connect==null||C.events.connect(d?Rm(d)?d.current:d:le.current),s&&C.setEvents({compute:(L,V)=>{const Y=L[s+"X"],Q=L[s+"Y"];V.pointer.set(Y/V.size.width*2-1,-(Q/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),I?.(C)}}),we.current.render(Xe.jsx(H,{children:Xe.jsx(zm,{set:K,children:Xe.jsx(ve.Suspense,{fallback:Xe.jsx(Nm,{set:P}),children:t??null})})}))}X()}}),ve.useEffect(()=>{const ne=O.current;if(ne)return()=>Kd(ne)},[]);const ke=d?"none":"auto";return Xe.jsx("div",{ref:le,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ke,...o},...F,children:Xe.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:Xe.jsx("canvas",{ref:O,style:{display:"block"},children:p})})})}function Ig(l){return Xe.jsx(Nd,{children:Xe.jsx(Fg,{...l})})}const eh=parseInt(Wv.replace(/\D+/g,""));var ar=Uint8Array,sa=Uint16Array,pu=Uint32Array,nh=new ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),th=new ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dg=new ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rh=function(l,t){for(var p=new sa(31),u=0;u<31;++u)p[u]=t+=1<<l[u-1];for(var o=new pu(p[30]),u=1;u<30;++u)for(var a=p[u];a<p[u+1];++a)o[a]=a-p[u]<<5|u;return[p,o]},ah=rh(nh,2),oh=ah[0],Ag=ah[1];oh[28]=258,Ag[258]=28;var Rg=rh(th,0),Og=Rg[0],vu=new sa(32768);for(var Vn=0;Vn<32768;++Vn){var ia=(Vn&43690)>>>1|(Vn&21845)<<1;ia=(ia&52428)>>>2|(ia&13107)<<2,ia=(ia&61680)>>>4|(ia&3855)<<4,vu[Vn]=((ia&65280)>>>8|(ia&255)<<8)>>>1}var pi=(function(l,t,p){for(var u=l.length,o=0,a=new sa(t);o<u;++o)++a[l[o]-1];var f=new sa(t);for(o=0;o<t;++o)f[o]=f[o-1]+a[o-1]<<1;var d;if(p){d=new sa(1<<t);var s=15-t;for(o=0;o<u;++o)if(l[o])for(var h=o<<4|l[o],m=t-l[o],g=f[l[o]-1]++<<m,b=g|(1<<m)-1;g<=b;++g)d[vu[g]>>>s]=h}else for(d=new sa(u),o=0;o<u;++o)l[o]&&(d[o]=vu[f[l[o]-1]++]>>>15-l[o]);return d}),wi=new ar(288);for(var Vn=0;Vn<144;++Vn)wi[Vn]=8;for(var Vn=144;Vn<256;++Vn)wi[Vn]=9;for(var Vn=256;Vn<280;++Vn)wi[Vn]=7;for(var Vn=280;Vn<288;++Vn)wi[Vn]=8;var ih=new ar(32);for(var Vn=0;Vn<32;++Vn)ih[Vn]=5;var Pg=pi(wi,9,1),Ng=pi(ih,5,1),ru=function(l){for(var t=l[0],p=1;p<l.length;++p)l[p]>t&&(t=l[p]);return t},vr=function(l,t,p){var u=t/8|0;return(l[u]|l[u+1]<<8)>>(t&7)&p},au=function(l,t){var p=t/8|0;return(l[p]|l[p+1]<<8|l[p+2]<<16)>>(t&7)},zg=function(l){return(l/8|0)+(l&7&&1)},Lg=function(l,t,p){(p==null||p>l.length)&&(p=l.length);var u=new(l instanceof sa?sa:l instanceof pu?pu:ar)(p-t);return u.set(l.subarray(t,p)),u},Bg=function(l,t,p){var u=l.length;if(!u||p&&!p.l&&u<5)return t||new ar(0);var o=!t||p,a=!p||p.i;p||(p={}),t||(t=new ar(u*3));var f=function(re){var se=t.length;if(re>se){var ce=new ar(Math.max(se*2,re));ce.set(t),t=ce}},d=p.f||0,s=p.p||0,h=p.b||0,m=p.l,g=p.d,b=p.m,S=p.n,E=u*8;do{if(!m){p.f=d=vr(l,s,1);var M=vr(l,s+1,3);if(s+=3,M)if(M==1)m=Pg,g=Ng,b=9,S=5;else if(M==2){var G=vr(l,s,31)+257,R=vr(l,s+10,15)+4,I=G+vr(l,s+5,31)+1;s+=14;for(var F=new ar(I),H=new ar(19),T=0;T<R;++T)H[Dg[T]]=vr(l,s+T*3,7);s+=R*3;for(var N=ru(H),O=(1<<N)-1,le=pi(H,N,1),T=0;T<I;){var z=le[vr(l,s,O)];s+=z&15;var k=z>>>4;if(k<16)F[T++]=k;else{var j=0,P=0;for(k==16?(P=3+vr(l,s,3),s+=2,j=F[T-1]):k==17?(P=3+vr(l,s,7),s+=3):k==18&&(P=11+vr(l,s,127),s+=7);P--;)F[T++]=j}}var ie=F.subarray(0,G),K=F.subarray(G);b=ru(ie),S=ru(K),m=pi(ie,b,1),g=pi(K,S,1)}else throw"invalid block type";else{var k=zg(s)+4,U=l[k-4]|l[k-3]<<8,x=k+U;if(x>u){if(a)throw"unexpected EOF";break}o&&f(h+U),t.set(l.subarray(k,x),h),p.b=h+=U,p.p=s=x*8;continue}if(s>E){if(a)throw"unexpected EOF";break}}o&&f(h+131072);for(var we=(1<<b)-1,ke=(1<<S)-1,ne=s;;ne=s){var j=m[au(l,s)&we],X=j>>>4;if(s+=j&15,s>E){if(a)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(X<256)t[h++]=X;else if(X==256){ne=s,m=null;break}else{var C=X-254;if(X>264){var T=X-257,L=nh[T];C=vr(l,s,(1<<L)-1)+oh[T],s+=L}var V=g[au(l,s)&ke],Y=V>>>4;if(!V)throw"invalid distance";s+=V&15;var K=Og[Y];if(Y>3){var L=th[Y];K+=au(l,s)&(1<<L)-1,s+=L}if(s>E){if(a)throw"unexpected EOF";break}o&&f(h+131072);for(var Q=h+C;h<Q;h+=4)t[h]=t[h-K],t[h+1]=t[h+1-K],t[h+2]=t[h+2-K],t[h+3]=t[h+3-K];h=Q}}p.l=m,p.p=ne,p.b=h,m&&(d=1,p.m=b,p.d=g,p.n=S)}while(!d);return h==t.length?t:Lg(t,0,h)},jg=new ar(0),Gg=function(l){if((l[0]&15)!=8||l[0]>>>4>7||(l[0]<<8|l[1])%31)throw"invalid zlib data";if(l[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function ul(l,t){return Bg((Gg(l),l.subarray(2,-4)),t)}var Hg=typeof TextDecoder<"u"&&new TextDecoder,Wg=0;try{Hg.decode(jg,{stream:!0}),Wg=1}catch{}const Vg=l=>l&&l.isCubeTexture;class Xg extends Oa{constructor(t,p){var u,o;const a=Vg(t),d=((o=a?(u=t.image[0])==null?void 0:u.width:t.image.width)!=null?o:1024)/4,s=Math.floor(Math.log2(d)),h=Math.pow(2,s),m=3*Math.max(h,112),g=4*h,b=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${s}.0`],S=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,E=b.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${eh>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,M={map:{value:t},height:{value:p?.height||15},radius:{value:p?.radius||100}},k=new Vv(1,16),U=new gi({uniforms:M,fragmentShader:E,vertexShader:S,side:Md});super(k,U)}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}var Yg=Object.defineProperty,Zg=(l,t,p)=>t in l?Yg(l,t,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[t]=p,qg=(l,t,p)=>(Zg(l,t+"",p),p);class Qg{constructor(){qg(this,"_listeners")}addEventListener(t,p){this._listeners===void 0&&(this._listeners={});const u=this._listeners;u[t]===void 0&&(u[t]=[]),u[t].indexOf(p)===-1&&u[t].push(p)}hasEventListener(t,p){if(this._listeners===void 0)return!1;const u=this._listeners;return u[t]!==void 0&&u[t].indexOf(p)!==-1}removeEventListener(t,p){if(this._listeners===void 0)return;const o=this._listeners[t];if(o!==void 0){const a=o.indexOf(p);a!==-1&&o.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const u=this._listeners[t.type];if(u!==void 0){t.target=this;const o=u.slice(0);for(let a=0,f=o.length;a<f;a++)o[a].call(this,t);t.target=null}}}var Kg=Object.defineProperty,Jg=(l,t,p)=>t in l?Kg(l,t,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[t]=p,en=(l,t,p)=>(Jg(l,typeof t!="symbol"?t+"":t,p),p);const cl=new Xv,od=new Yv,$g=Math.cos(70*(Math.PI/180)),id=(l,t)=>(l%t+t)%t;let e0=class extends Qg{constructor(t,p){super(),en(this,"object"),en(this,"domElement"),en(this,"enabled",!0),en(this,"target",new Yn),en(this,"minDistance",0),en(this,"maxDistance",1/0),en(this,"minZoom",0),en(this,"maxZoom",1/0),en(this,"minPolarAngle",0),en(this,"maxPolarAngle",Math.PI),en(this,"minAzimuthAngle",-1/0),en(this,"maxAzimuthAngle",1/0),en(this,"enableDamping",!1),en(this,"dampingFactor",.05),en(this,"enableZoom",!0),en(this,"zoomSpeed",1),en(this,"enableRotate",!0),en(this,"rotateSpeed",1),en(this,"enablePan",!0),en(this,"panSpeed",1),en(this,"screenSpacePanning",!0),en(this,"keyPanSpeed",7),en(this,"zoomToCursor",!1),en(this,"autoRotate",!1),en(this,"autoRotateSpeed",2),en(this,"reverseOrbit",!1),en(this,"reverseHorizontalOrbit",!1),en(this,"reverseVerticalOrbit",!1),en(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),en(this,"mouseButtons",{LEFT:go.ROTATE,MIDDLE:go.DOLLY,RIGHT:go.PAN}),en(this,"touches",{ONE:yo.ROTATE,TWO:yo.DOLLY_PAN}),en(this,"target0"),en(this,"position0"),en(this,"zoom0"),en(this,"_domElementKeyEvents",null),en(this,"getPolarAngle"),en(this,"getAzimuthalAngle"),en(this,"setPolarAngle"),en(this,"setAzimuthalAngle"),en(this,"getDistance"),en(this,"getZoomScale"),en(this,"listenToKeyEvents"),en(this,"stopListenToKeyEvents"),en(this,"saveState"),en(this,"reset"),en(this,"update"),en(this,"connect"),en(this,"dispose"),en(this,"dollyIn"),en(this,"dollyOut"),en(this,"getScale"),en(this,"setScale"),this.object=t,this.domElement=p,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=B=>{let ue=id(B,2*Math.PI),Ce=m.phi;Ce<0&&(Ce+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let We=Math.abs(ue-Ce);2*Math.PI-We<We&&(ue<Ce?ue+=2*Math.PI:Ce+=2*Math.PI),g.phi=ue-Ce,u.update()},this.setAzimuthalAngle=B=>{let ue=id(B,2*Math.PI),Ce=m.theta;Ce<0&&(Ce+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let We=Math.abs(ue-Ce);2*Math.PI-We<We&&(ue<Ce?ue+=2*Math.PI:Ce+=2*Math.PI),g.theta=ue-Ce,u.update()},this.getDistance=()=>u.object.position.distanceTo(u.target),this.listenToKeyEvents=B=>{B.addEventListener("keydown",ze),this._domElementKeyEvents=B},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ze),this._domElementKeyEvents=null},this.saveState=()=>{u.target0.copy(u.target),u.position0.copy(u.object.position),u.zoom0=u.object.zoom},this.reset=()=>{u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(o),u.update(),s=d.NONE},this.update=(()=>{const B=new Yn,ue=new Yn(0,1,0),Ce=new Nf().setFromUnitVectors(t.up,ue),We=Ce.clone().invert(),oe=new Yn,on=new Nf,Xn=2*Math.PI;return function(){const fn=u.object.position;Ce.setFromUnitVectors(t.up,ue),We.copy(Ce).invert(),B.copy(fn).sub(u.target),B.applyQuaternion(Ce),m.setFromVector3(B),u.autoRotate&&s===d.NONE&&P(z()),u.enableDamping?(m.theta+=g.theta*u.dampingFactor,m.phi+=g.phi*u.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let xn=u.minAzimuthAngle,gn=u.maxAzimuthAngle;isFinite(xn)&&isFinite(gn)&&(xn<-Math.PI?xn+=Xn:xn>Math.PI&&(xn-=Xn),gn<-Math.PI?gn+=Xn:gn>Math.PI&&(gn-=Xn),xn<=gn?m.theta=Math.max(xn,Math.min(gn,m.theta)):m.theta=m.theta>(xn+gn)/2?Math.max(xn,m.theta):Math.min(gn,m.theta)),m.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,m.phi)),m.makeSafe(),u.enableDamping===!0?u.target.addScaledVector(S,u.dampingFactor):u.target.add(S),u.zoomToCursor&&N||u.object.isOrthographicCamera?m.radius=V(m.radius):m.radius=V(m.radius*b),B.setFromSpherical(m),B.applyQuaternion(We),fn.copy(u.target).add(B),u.object.matrixAutoUpdate||u.object.updateMatrix(),u.object.lookAt(u.target),u.enableDamping===!0?(g.theta*=1-u.dampingFactor,g.phi*=1-u.dampingFactor,S.multiplyScalar(1-u.dampingFactor)):(g.set(0,0,0),S.set(0,0,0));let qe=!1;if(u.zoomToCursor&&N){let kn=null;if(u.object instanceof vl&&u.object.isPerspectiveCamera){const Hn=B.length();kn=V(Hn*b);const Ln=Hn-kn;u.object.position.addScaledVector(H,Ln),u.object.updateMatrixWorld()}else if(u.object.isOrthographicCamera){const Hn=new Yn(T.x,T.y,0);Hn.unproject(u.object),u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/b)),u.object.updateProjectionMatrix(),qe=!0;const Ln=new Yn(T.x,T.y,0);Ln.unproject(u.object),u.object.position.sub(Ln).add(Hn),u.object.updateMatrixWorld(),kn=B.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),u.zoomToCursor=!1;kn!==null&&(u.screenSpacePanning?u.target.set(0,0,-1).transformDirection(u.object.matrix).multiplyScalar(kn).add(u.object.position):(cl.origin.copy(u.object.position),cl.direction.set(0,0,-1).transformDirection(u.object.matrix),Math.abs(u.object.up.dot(cl.direction))<$g?t.lookAt(u.target):(od.setFromNormalAndCoplanarPoint(u.object.up,u.target),cl.intersectPlane(od,u.target))))}else u.object instanceof di&&u.object.isOrthographicCamera&&(qe=b!==1,qe&&(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/b)),u.object.updateProjectionMatrix()));return b=1,N=!1,qe||oe.distanceToSquared(u.object.position)>h||8*(1-on.dot(u.object.quaternion))>h?(u.dispatchEvent(o),oe.copy(u.object.position),on.copy(u.object.quaternion),qe=!1,!0):!1}})(),this.connect=B=>{u.domElement=B,u.domElement.style.touchAction="none",u.domElement.addEventListener("contextmenu",Cn),u.domElement.addEventListener("pointerdown",Qe),u.domElement.addEventListener("pointercancel",Re),u.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var B,ue,Ce,We,oe,on;u.domElement&&(u.domElement.style.touchAction="auto"),(B=u.domElement)==null||B.removeEventListener("contextmenu",Cn),(ue=u.domElement)==null||ue.removeEventListener("pointerdown",Qe),(Ce=u.domElement)==null||Ce.removeEventListener("pointercancel",Re),(We=u.domElement)==null||We.removeEventListener("wheel",Ne),(oe=u.domElement)==null||oe.ownerDocument.removeEventListener("pointermove",ye),(on=u.domElement)==null||on.ownerDocument.removeEventListener("pointerup",Re),u._domElementKeyEvents!==null&&u._domElementKeyEvents.removeEventListener("keydown",ze)};const u=this,o={type:"change"},a={type:"start"},f={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=d.NONE;const h=1e-6,m=new Pf,g=new Pf;let b=1;const S=new Yn,E=new kt,M=new kt,k=new kt,U=new kt,x=new kt,G=new kt,R=new kt,I=new kt,F=new kt,H=new Yn,T=new kt;let N=!1;const O=[],le={};function z(){return 2*Math.PI/60/60*u.autoRotateSpeed}function j(){return Math.pow(.95,u.zoomSpeed)}function P(B){u.reverseOrbit||u.reverseHorizontalOrbit?g.theta+=B:g.theta-=B}function ie(B){u.reverseOrbit||u.reverseVerticalOrbit?g.phi+=B:g.phi-=B}const K=(()=>{const B=new Yn;return function(Ce,We){B.setFromMatrixColumn(We,0),B.multiplyScalar(-Ce),S.add(B)}})(),we=(()=>{const B=new Yn;return function(Ce,We){u.screenSpacePanning===!0?B.setFromMatrixColumn(We,1):(B.setFromMatrixColumn(We,0),B.crossVectors(u.object.up,B)),B.multiplyScalar(Ce),S.add(B)}})(),ke=(()=>{const B=new Yn;return function(Ce,We){const oe=u.domElement;if(oe&&u.object instanceof vl&&u.object.isPerspectiveCamera){const on=u.object.position;B.copy(on).sub(u.target);let Xn=B.length();Xn*=Math.tan(u.object.fov/2*Math.PI/180),K(2*Ce*Xn/oe.clientHeight,u.object.matrix),we(2*We*Xn/oe.clientHeight,u.object.matrix)}else oe&&u.object instanceof di&&u.object.isOrthographicCamera?(K(Ce*(u.object.right-u.object.left)/u.object.zoom/oe.clientWidth,u.object.matrix),we(We*(u.object.top-u.object.bottom)/u.object.zoom/oe.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)}})();function ne(B){u.object instanceof vl&&u.object.isPerspectiveCamera||u.object instanceof di&&u.object.isOrthographicCamera?b=B:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function X(B){ne(b/B)}function C(B){ne(b*B)}function L(B){if(!u.zoomToCursor||!u.domElement)return;N=!0;const ue=u.domElement.getBoundingClientRect(),Ce=B.clientX-ue.left,We=B.clientY-ue.top,oe=ue.width,on=ue.height;T.x=Ce/oe*2-1,T.y=-(We/on)*2+1,H.set(T.x,T.y,1).unproject(u.object).sub(u.object.position).normalize()}function V(B){return Math.max(u.minDistance,Math.min(u.maxDistance,B))}function Y(B){E.set(B.clientX,B.clientY)}function Q(B){L(B),R.set(B.clientX,B.clientY)}function re(B){U.set(B.clientX,B.clientY)}function se(B){M.set(B.clientX,B.clientY),k.subVectors(M,E).multiplyScalar(u.rotateSpeed);const ue=u.domElement;ue&&(P(2*Math.PI*k.x/ue.clientHeight),ie(2*Math.PI*k.y/ue.clientHeight)),E.copy(M),u.update()}function ce(B){I.set(B.clientX,B.clientY),F.subVectors(I,R),F.y>0?X(j()):F.y<0&&C(j()),R.copy(I),u.update()}function Me(B){x.set(B.clientX,B.clientY),G.subVectors(x,U).multiplyScalar(u.panSpeed),ke(G.x,G.y),U.copy(x),u.update()}function Ge(B){L(B),B.deltaY<0?C(j()):B.deltaY>0&&X(j()),u.update()}function _e(B){let ue=!1;switch(B.code){case u.keys.UP:ke(0,u.keyPanSpeed),ue=!0;break;case u.keys.BOTTOM:ke(0,-u.keyPanSpeed),ue=!0;break;case u.keys.LEFT:ke(u.keyPanSpeed,0),ue=!0;break;case u.keys.RIGHT:ke(-u.keyPanSpeed,0),ue=!0;break}ue&&(B.preventDefault(),u.update())}function de(){if(O.length==1)E.set(O[0].pageX,O[0].pageY);else{const B=.5*(O[0].pageX+O[1].pageX),ue=.5*(O[0].pageY+O[1].pageY);E.set(B,ue)}}function Ke(){if(O.length==1)U.set(O[0].pageX,O[0].pageY);else{const B=.5*(O[0].pageX+O[1].pageX),ue=.5*(O[0].pageY+O[1].pageY);U.set(B,ue)}}function Ye(){const B=O[0].pageX-O[1].pageX,ue=O[0].pageY-O[1].pageY,Ce=Math.sqrt(B*B+ue*ue);R.set(0,Ce)}function Ie(){u.enableZoom&&Ye(),u.enablePan&&Ke()}function De(){u.enableZoom&&Ye(),u.enableRotate&&de()}function Pe(B){if(O.length==1)M.set(B.pageX,B.pageY);else{const Ce=Ve(B),We=.5*(B.pageX+Ce.x),oe=.5*(B.pageY+Ce.y);M.set(We,oe)}k.subVectors(M,E).multiplyScalar(u.rotateSpeed);const ue=u.domElement;ue&&(P(2*Math.PI*k.x/ue.clientHeight),ie(2*Math.PI*k.y/ue.clientHeight)),E.copy(M)}function ge(B){if(O.length==1)x.set(B.pageX,B.pageY);else{const ue=Ve(B),Ce=.5*(B.pageX+ue.x),We=.5*(B.pageY+ue.y);x.set(Ce,We)}G.subVectors(x,U).multiplyScalar(u.panSpeed),ke(G.x,G.y),U.copy(x)}function je(B){const ue=Ve(B),Ce=B.pageX-ue.x,We=B.pageY-ue.y,oe=Math.sqrt(Ce*Ce+We*We);I.set(0,oe),F.set(0,Math.pow(I.y/R.y,u.zoomSpeed)),X(F.y),R.copy(I)}function Ae(B){u.enableZoom&&je(B),u.enablePan&&ge(B)}function fe(B){u.enableZoom&&je(B),u.enableRotate&&Pe(B)}function Qe(B){var ue,Ce;u.enabled!==!1&&(O.length===0&&((ue=u.domElement)==null||ue.ownerDocument.addEventListener("pointermove",ye),(Ce=u.domElement)==null||Ce.ownerDocument.addEventListener("pointerup",Re)),Pn(B),B.pointerType==="touch"?Oe(B):Fe(B))}function ye(B){u.enabled!==!1&&(B.pointerType==="touch"?$e(B):yn(B))}function Re(B){var ue,Ce,We;ln(B),O.length===0&&((ue=u.domElement)==null||ue.releasePointerCapture(B.pointerId),(Ce=u.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",ye),(We=u.domElement)==null||We.ownerDocument.removeEventListener("pointerup",Re)),u.dispatchEvent(f),s=d.NONE}function Fe(B){let ue;switch(B.button){case 0:ue=u.mouseButtons.LEFT;break;case 1:ue=u.mouseButtons.MIDDLE;break;case 2:ue=u.mouseButtons.RIGHT;break;default:ue=-1}switch(ue){case go.DOLLY:if(u.enableZoom===!1)return;Q(B),s=d.DOLLY;break;case go.ROTATE:if(B.ctrlKey||B.metaKey||B.shiftKey){if(u.enablePan===!1)return;re(B),s=d.PAN}else{if(u.enableRotate===!1)return;Y(B),s=d.ROTATE}break;case go.PAN:if(B.ctrlKey||B.metaKey||B.shiftKey){if(u.enableRotate===!1)return;Y(B),s=d.ROTATE}else{if(u.enablePan===!1)return;re(B),s=d.PAN}break;default:s=d.NONE}s!==d.NONE&&u.dispatchEvent(a)}function yn(B){if(u.enabled!==!1)switch(s){case d.ROTATE:if(u.enableRotate===!1)return;se(B);break;case d.DOLLY:if(u.enableZoom===!1)return;ce(B);break;case d.PAN:if(u.enablePan===!1)return;Me(B);break}}function Ne(B){u.enabled===!1||u.enableZoom===!1||s!==d.NONE&&s!==d.ROTATE||(B.preventDefault(),u.dispatchEvent(a),Ge(B),u.dispatchEvent(f))}function ze(B){u.enabled===!1||u.enablePan===!1||_e(B)}function Oe(B){switch(Ze(B),O.length){case 1:switch(u.touches.ONE){case yo.ROTATE:if(u.enableRotate===!1)return;de(),s=d.TOUCH_ROTATE;break;case yo.PAN:if(u.enablePan===!1)return;Ke(),s=d.TOUCH_PAN;break;default:s=d.NONE}break;case 2:switch(u.touches.TWO){case yo.DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;Ie(),s=d.TOUCH_DOLLY_PAN;break;case yo.DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;De(),s=d.TOUCH_DOLLY_ROTATE;break;default:s=d.NONE}break;default:s=d.NONE}s!==d.NONE&&u.dispatchEvent(a)}function $e(B){switch(Ze(B),s){case d.TOUCH_ROTATE:if(u.enableRotate===!1)return;Pe(B),u.update();break;case d.TOUCH_PAN:if(u.enablePan===!1)return;ge(B),u.update();break;case d.TOUCH_DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;Ae(B),u.update();break;case d.TOUCH_DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;fe(B),u.update();break;default:s=d.NONE}}function Cn(B){u.enabled!==!1&&B.preventDefault()}function Pn(B){O.push(B)}function ln(B){delete le[B.pointerId];for(let ue=0;ue<O.length;ue++)if(O[ue].pointerId==B.pointerId){O.splice(ue,1);return}}function Ze(B){let ue=le[B.pointerId];ue===void 0&&(ue=new kt,le[B.pointerId]=ue),ue.set(B.pageX,B.pageY)}function Ve(B){const ue=B.pointerId===O[0].pointerId?O[1]:O[0];return le[ue.pointerId]}this.dollyIn=(B=j())=>{C(B),u.update()},this.dollyOut=(B=j())=>{X(B),u.update()},this.getScale=()=>b,this.setScale=B=>{ne(B),u.update()},this.getZoomScale=()=>j(),p!==void 0&&this.connect(p),this.update()}};const n0={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},t0={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class r0 extends Cd{constructor(t){super(t),this.type=or}parse(t){const f=function(T,N){switch(T){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},g=function(T,N,O){N=N||1024;let z=T.pos,j=-1,P=0,ie="",K=String.fromCharCode.apply(null,new Uint16Array(T.subarray(z,z+128)));for(;0>(j=K.indexOf(`
`))&&P<N&&z<T.byteLength;)ie+=K,P+=K.length,z+=128,K+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(z,z+128)));return-1<j?(T.pos+=P+j+1,ie+K.slice(0,j)):!1},b=function(T){const N=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,le=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,P={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ie,K;for((T.pos>=T.byteLength||!(ie=g(T)))&&f(1,"no header found"),(K=ie.match(N))||f(3,"bad initial token"),P.valid|=1,P.programtype=K[1],P.string+=ie+`
`;ie=g(T),ie!==!1;){if(P.string+=ie+`
`,ie.charAt(0)==="#"){P.comments+=ie+`
`;continue}if((K=ie.match(O))&&(P.gamma=parseFloat(K[1])),(K=ie.match(le))&&(P.exposure=parseFloat(K[1])),(K=ie.match(z))&&(P.valid|=2,P.format=K[1]),(K=ie.match(j))&&(P.valid|=4,P.height=parseInt(K[1],10),P.width=parseInt(K[2],10)),P.valid&2&&P.valid&4)break}return P.valid&2||f(3,"missing format specifier"),P.valid&4||f(3,"missing image size specifier"),P},S=function(T,N,O){const le=N;if(le<8||le>32767||T[0]!==2||T[1]!==2||T[2]&128)return new Uint8Array(T);le!==(T[2]<<8|T[3])&&f(3,"wrong scanline width");const z=new Uint8Array(4*N*O);z.length||f(4,"unable to allocate buffer space");let j=0,P=0;const ie=4*le,K=new Uint8Array(4),we=new Uint8Array(ie);let ke=O;for(;ke>0&&P<T.byteLength;){P+4>T.byteLength&&f(1),K[0]=T[P++],K[1]=T[P++],K[2]=T[P++],K[3]=T[P++],(K[0]!=2||K[1]!=2||(K[2]<<8|K[3])!=le)&&f(3,"bad rgbe scanline format");let ne=0,X;for(;ne<ie&&P<T.byteLength;){X=T[P++];const L=X>128;if(L&&(X-=128),(X===0||ne+X>ie)&&f(3,"bad scanline data"),L){const V=T[P++];for(let Y=0;Y<X;Y++)we[ne++]=V}else we.set(T.subarray(P,P+X),ne),ne+=X,P+=X}const C=le;for(let L=0;L<C;L++){let V=0;z[j]=we[L+V],V+=le,z[j+1]=we[L+V],V+=le,z[j+2]=we[L+V],V+=le,z[j+3]=we[L+V],j+=4}ke--}return z},E=function(T,N,O,le){const z=T[N+3],j=Math.pow(2,z-128)/255;O[le+0]=T[N+0]*j,O[le+1]=T[N+1]*j,O[le+2]=T[N+2]*j,O[le+3]=1},M=function(T,N,O,le){const z=T[N+3],j=Math.pow(2,z-128)/255;O[le+0]=Eo.toHalfFloat(Math.min(T[N+0]*j,65504)),O[le+1]=Eo.toHalfFloat(Math.min(T[N+1]*j,65504)),O[le+2]=Eo.toHalfFloat(Math.min(T[N+2]*j,65504)),O[le+3]=Eo.toHalfFloat(1)},k=new Uint8Array(t);k.pos=0;const U=b(k),x=U.width,G=U.height,R=S(k.subarray(k.pos),x,G);let I,F,H;switch(this.type){case Or:H=R.length/4;const T=new Float32Array(H*4);for(let O=0;O<H;O++)E(R,O*4,T,O*4);I=T,F=Or;break;case or:H=R.length/4;const N=new Uint16Array(H*4);for(let O=0;O<H;O++)M(R,O*4,N,O*4);I=N,F=or;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:G,data:I,header:U.string,gamma:U.gamma,exposure:U.exposure,type:F}}setDataType(t){return this.type=t,this}load(t,p,u,o){function a(f,d){switch(f.type){case Or:case or:"colorSpace"in f?f.colorSpace="srgb-linear":f.encoding=3e3,f.minFilter=ir,f.magFilter=ir,f.generateMipmaps=!1,f.flipY=!0;break}p&&p(f,d)}return super.load(t,a,u,o)}}const si=eh>=152;class a0 extends Cd{constructor(t){super(t),this.type=or}parse(t){const N=Math.pow(2.7182818,2.2);function O(y,_){for(var D=0,Z=0;Z<65536;++Z)(Z==0||y[Z>>3]&1<<(Z&7))&&(_[D++]=Z);for(var ee=D-1;D<65536;)_[D++]=0;return ee}function le(y){for(var _=0;_<16384;_++)y[_]={},y[_].len=0,y[_].lit=0,y[_].p=null}const z={l:0,c:0,lc:0};function j(y,_,D,Z,ee){for(;D<y;)_=_<<8|Ve(Z,ee),D+=8;D-=y,z.l=_>>D&(1<<y)-1,z.c=_,z.lc=D}const P=new Array(59);function ie(y){for(var _=0;_<=58;++_)P[_]=0;for(var _=0;_<65537;++_)P[y[_]]+=1;for(var D=0,_=58;_>0;--_){var Z=D+P[_]>>1;P[_]=D,D=Z}for(var _=0;_<65537;++_){var ee=y[_];ee>0&&(y[_]=ee|P[ee]++<<6)}}function K(y,_,D,Z,ee,te,me){for(var he=D,Ee=0,xe=0;ee<=te;ee++){if(he.value-D.value>Z)return!1;j(6,Ee,xe,y,he);var Te=z.l;if(Ee=z.c,xe=z.lc,me[ee]=Te,Te==63){if(he.value-D.value>Z)throw"Something wrong with hufUnpackEncTable";j(8,Ee,xe,y,he);var J=z.l+6;if(Ee=z.c,xe=z.lc,ee+J>te+1)throw"Something wrong with hufUnpackEncTable";for(;J--;)me[ee++]=0;ee--}else if(Te>=59){var J=Te-59+2;if(ee+J>te+1)throw"Something wrong with hufUnpackEncTable";for(;J--;)me[ee++]=0;ee--}}ie(me)}function we(y){return y&63}function ke(y){return y>>6}function ne(y,_,D,Z){for(;_<=D;_++){var ee=ke(y[_]),te=we(y[_]);if(ee>>te)throw"Invalid table entry";if(te>14){var me=Z[ee>>te-14];if(me.len)throw"Invalid table entry";if(me.lit++,me.p){var he=me.p;me.p=new Array(me.lit);for(var Ee=0;Ee<me.lit-1;++Ee)me.p[Ee]=he[Ee]}else me.p=new Array(1);me.p[me.lit-1]=_}else if(te)for(var xe=0,Ee=1<<14-te;Ee>0;Ee--){var me=Z[(ee<<14-te)+xe];if(me.len||me.p)throw"Invalid table entry";me.len=te,me.lit=_,xe++}}return!0}const X={c:0,lc:0};function C(y,_,D,Z){y=y<<8|Ve(D,Z),_+=8,X.c=y,X.lc=_}const L={c:0,lc:0};function V(y,_,D,Z,ee,te,me,he,Ee,xe){if(y==_){Z<8&&(C(D,Z,ee,me),D=X.c,Z=X.lc),Z-=8;var Te=D>>Z,Te=new Uint8Array([Te])[0];if(Ee.value+Te>xe)return!1;for(var J=he[Ee.value-1];Te-- >0;)he[Ee.value++]=J}else if(Ee.value<xe)he[Ee.value++]=y;else return!1;L.c=D,L.lc=Z}function Y(y){return y&65535}function Q(y){var _=Y(y);return _>32767?_-65536:_}const re={a:0,b:0};function se(y,_){var D=Q(y),Z=Q(_),ee=Z,te=D+(ee&1)+(ee>>1),me=te,he=te-ee;re.a=me,re.b=he}function ce(y,_){var D=Y(y),Z=Y(_),ee=D-(Z>>1)&65535,te=Z+ee-32768&65535;re.a=te,re.b=ee}function Me(y,_,D,Z,ee,te,me){for(var he=me<16384,Ee=D>ee?ee:D,xe=1,Te;xe<=Ee;)xe<<=1;for(xe>>=1,Te=xe,xe>>=1;xe>=1;){for(var J=0,Fn=J+te*(ee-Te),Le=te*xe,He=te*Te,rn=Z*xe,an=Z*Te,hn,_n,un,et;J<=Fn;J+=He){for(var Tn=J,Ct=J+Z*(D-Te);Tn<=Ct;Tn+=an){var Dn=Tn+rn,qn=Tn+Le,ct=qn+rn;he?(se(y[Tn+_],y[qn+_]),hn=re.a,un=re.b,se(y[Dn+_],y[ct+_]),_n=re.a,et=re.b,se(hn,_n),y[Tn+_]=re.a,y[Dn+_]=re.b,se(un,et),y[qn+_]=re.a,y[ct+_]=re.b):(ce(y[Tn+_],y[qn+_]),hn=re.a,un=re.b,ce(y[Dn+_],y[ct+_]),_n=re.a,et=re.b,ce(hn,_n),y[Tn+_]=re.a,y[Dn+_]=re.b,ce(un,et),y[qn+_]=re.a,y[ct+_]=re.b)}if(D&xe){var qn=Tn+Le;he?se(y[Tn+_],y[qn+_]):ce(y[Tn+_],y[qn+_]),hn=re.a,y[qn+_]=re.b,y[Tn+_]=hn}}if(ee&xe)for(var Tn=J,Ct=J+Z*(D-Te);Tn<=Ct;Tn+=an){var Dn=Tn+rn;he?se(y[Tn+_],y[Dn+_]):ce(y[Tn+_],y[Dn+_]),hn=re.a,y[Dn+_]=re.b,y[Tn+_]=hn}Te=xe,xe>>=1}return J}function Ge(y,_,D,Z,ee,te,me,he,Ee,xe){for(var Te=0,J=0,Fn=he,Le=Math.trunc(ee.value+(te+7)/8);ee.value<Le;)for(C(Te,J,D,ee),Te=X.c,J=X.lc;J>=14;){var He=Te>>J-14&16383,rn=_[He];if(rn.len)J-=rn.len,V(rn.lit,me,Te,J,D,Z,ee,Ee,xe,Fn),Te=L.c,J=L.lc;else{if(!rn.p)throw"hufDecode issues";var an;for(an=0;an<rn.lit;an++){for(var hn=we(y[rn.p[an]]);J<hn&&ee.value<Le;)C(Te,J,D,ee),Te=X.c,J=X.lc;if(J>=hn&&ke(y[rn.p[an]])==(Te>>J-hn&(1<<hn)-1)){J-=hn,V(rn.p[an],me,Te,J,D,Z,ee,Ee,xe,Fn),Te=L.c,J=L.lc;break}}if(an==rn.lit)throw"hufDecode issues"}}var _n=8-te&7;for(Te>>=_n,J-=_n;J>0;){var rn=_[Te<<14-J&16383];if(rn.len)J-=rn.len,V(rn.lit,me,Te,J,D,Z,ee,Ee,xe,Fn),Te=L.c,J=L.lc;else throw"hufDecode issues"}return!0}function _e(y,_,D,Z,ee,te){var me={value:0},he=D.value,Ee=Ze(_,D),xe=Ze(_,D);D.value+=4;var Te=Ze(_,D);if(D.value+=4,Ee<0||Ee>=65537||xe<0||xe>=65537)throw"Something wrong with HUF_ENCSIZE";var J=new Array(65537),Fn=new Array(16384);le(Fn);var Le=Z-(D.value-he);if(K(y,_,D,Le,Ee,xe,J),Te>8*(Z-(D.value-he)))throw"Something wrong with hufUncompress";ne(J,Ee,xe,Fn),Ge(J,Fn,y,_,D,Te,xe,te,ee,me)}function de(y,_,D){for(var Z=0;Z<D;++Z)_[Z]=y[_[Z]]}function Ke(y){for(var _=1;_<y.length;_++){var D=y[_-1]+y[_]-128;y[_]=D}}function Ye(y,_){for(var D=0,Z=Math.floor((y.length+1)/2),ee=0,te=y.length-1;!(ee>te||(_[ee++]=y[D++],ee>te));)_[ee++]=y[Z++]}function Ie(y){for(var _=y.byteLength,D=new Array,Z=0,ee=new DataView(y);_>0;){var te=ee.getInt8(Z++);if(te<0){var me=-te;_-=me+1;for(var he=0;he<me;he++)D.push(ee.getUint8(Z++))}else{var me=te;_-=2;for(var Ee=ee.getUint8(Z++),he=0;he<me+1;he++)D.push(Ee)}}return D}function De(y,_,D,Z,ee,te){var Dn=new DataView(te.buffer),me=D[y.idx[0]].width,he=D[y.idx[0]].height,Ee=3,xe=Math.floor(me/8),Te=Math.ceil(me/8),J=Math.ceil(he/8),Fn=me-(Te-1)*8,Le=he-(J-1)*8,He={value:0},rn=new Array(Ee),an=new Array(Ee),hn=new Array(Ee),_n=new Array(Ee),un=new Array(Ee);for(let cn=0;cn<Ee;++cn)un[cn]=_[y.idx[cn]],rn[cn]=cn<1?0:rn[cn-1]+Te*J,an[cn]=new Float32Array(64),hn[cn]=new Uint16Array(64),_n[cn]=new Uint16Array(Te*64);for(let cn=0;cn<J;++cn){var et=8;cn==J-1&&(et=Le);var Tn=8;for(let In=0;In<Te;++In){In==Te-1&&(Tn=Fn);for(let dn=0;dn<Ee;++dn)hn[dn].fill(0),hn[dn][0]=ee[rn[dn]++],Pe(He,Z,hn[dn]),ge(hn[dn],an[dn]),je(an[dn]);Ae(an);for(let dn=0;dn<Ee;++dn)fe(an[dn],_n[dn],In*64)}let vn=0;for(let In=0;In<Ee;++In){const dn=D[y.idx[In]].type;for(let ft=8*cn;ft<8*cn+et;++ft){vn=un[In][ft];for(let Ut=0;Ut<xe;++Ut){const Nn=Ut*64+(ft&7)*8;Dn.setUint16(vn+0*dn,_n[In][Nn+0],!0),Dn.setUint16(vn+2*dn,_n[In][Nn+1],!0),Dn.setUint16(vn+4*dn,_n[In][Nn+2],!0),Dn.setUint16(vn+6*dn,_n[In][Nn+3],!0),Dn.setUint16(vn+8*dn,_n[In][Nn+4],!0),Dn.setUint16(vn+10*dn,_n[In][Nn+5],!0),Dn.setUint16(vn+12*dn,_n[In][Nn+6],!0),Dn.setUint16(vn+14*dn,_n[In][Nn+7],!0),vn+=16*dn}}if(xe!=Te)for(let ft=8*cn;ft<8*cn+et;++ft){const Ut=un[In][ft]+8*xe*2*dn,Nn=xe*64+(ft&7)*8;for(let Ft=0;Ft<Tn;++Ft)Dn.setUint16(Ut+Ft*2*dn,_n[In][Nn+Ft],!0)}}}for(var Ct=new Uint16Array(me),Dn=new DataView(te.buffer),qn=0;qn<Ee;++qn){D[y.idx[qn]].decoded=!0;var ct=D[y.idx[qn]].type;if(D[qn].type==2)for(var Ht=0;Ht<he;++Ht){const cn=un[qn][Ht];for(var Qn=0;Qn<me;++Qn)Ct[Qn]=Dn.getUint16(cn+Qn*2*ct,!0);for(var Qn=0;Qn<me;++Qn)Dn.setFloat32(cn+Qn*2*ct,oe(Ct[Qn]),!0)}}}function Pe(y,_,D){for(var Z,ee=1;ee<64;)Z=_[y.value],Z==65280?ee=64:Z>>8==255?ee+=Z&255:(D[ee]=Z,ee++),y.value++}function ge(y,_){_[0]=oe(y[0]),_[1]=oe(y[1]),_[2]=oe(y[5]),_[3]=oe(y[6]),_[4]=oe(y[14]),_[5]=oe(y[15]),_[6]=oe(y[27]),_[7]=oe(y[28]),_[8]=oe(y[2]),_[9]=oe(y[4]),_[10]=oe(y[7]),_[11]=oe(y[13]),_[12]=oe(y[16]),_[13]=oe(y[26]),_[14]=oe(y[29]),_[15]=oe(y[42]),_[16]=oe(y[3]),_[17]=oe(y[8]),_[18]=oe(y[12]),_[19]=oe(y[17]),_[20]=oe(y[25]),_[21]=oe(y[30]),_[22]=oe(y[41]),_[23]=oe(y[43]),_[24]=oe(y[9]),_[25]=oe(y[11]),_[26]=oe(y[18]),_[27]=oe(y[24]),_[28]=oe(y[31]),_[29]=oe(y[40]),_[30]=oe(y[44]),_[31]=oe(y[53]),_[32]=oe(y[10]),_[33]=oe(y[19]),_[34]=oe(y[23]),_[35]=oe(y[32]),_[36]=oe(y[39]),_[37]=oe(y[45]),_[38]=oe(y[52]),_[39]=oe(y[54]),_[40]=oe(y[20]),_[41]=oe(y[22]),_[42]=oe(y[33]),_[43]=oe(y[38]),_[44]=oe(y[46]),_[45]=oe(y[51]),_[46]=oe(y[55]),_[47]=oe(y[60]),_[48]=oe(y[21]),_[49]=oe(y[34]),_[50]=oe(y[37]),_[51]=oe(y[47]),_[52]=oe(y[50]),_[53]=oe(y[56]),_[54]=oe(y[59]),_[55]=oe(y[61]),_[56]=oe(y[35]),_[57]=oe(y[36]),_[58]=oe(y[48]),_[59]=oe(y[49]),_[60]=oe(y[57]),_[61]=oe(y[58]),_[62]=oe(y[62]),_[63]=oe(y[63])}function je(y){const _=.5*Math.cos(.7853975),D=.5*Math.cos(3.14159/16),Z=.5*Math.cos(3.14159/8),ee=.5*Math.cos(3*3.14159/16),te=.5*Math.cos(5*3.14159/16),me=.5*Math.cos(3*3.14159/8),he=.5*Math.cos(7*3.14159/16);for(var Ee=new Array(4),xe=new Array(4),Te=new Array(4),J=new Array(4),Fn=0;Fn<8;++Fn){var Le=Fn*8;Ee[0]=Z*y[Le+2],Ee[1]=me*y[Le+2],Ee[2]=Z*y[Le+6],Ee[3]=me*y[Le+6],xe[0]=D*y[Le+1]+ee*y[Le+3]+te*y[Le+5]+he*y[Le+7],xe[1]=ee*y[Le+1]-he*y[Le+3]-D*y[Le+5]-te*y[Le+7],xe[2]=te*y[Le+1]-D*y[Le+3]+he*y[Le+5]+ee*y[Le+7],xe[3]=he*y[Le+1]-te*y[Le+3]+ee*y[Le+5]-D*y[Le+7],Te[0]=_*(y[Le+0]+y[Le+4]),Te[3]=_*(y[Le+0]-y[Le+4]),Te[1]=Ee[0]+Ee[3],Te[2]=Ee[1]-Ee[2],J[0]=Te[0]+Te[1],J[1]=Te[3]+Te[2],J[2]=Te[3]-Te[2],J[3]=Te[0]-Te[1],y[Le+0]=J[0]+xe[0],y[Le+1]=J[1]+xe[1],y[Le+2]=J[2]+xe[2],y[Le+3]=J[3]+xe[3],y[Le+4]=J[3]-xe[3],y[Le+5]=J[2]-xe[2],y[Le+6]=J[1]-xe[1],y[Le+7]=J[0]-xe[0]}for(var He=0;He<8;++He)Ee[0]=Z*y[16+He],Ee[1]=me*y[16+He],Ee[2]=Z*y[48+He],Ee[3]=me*y[48+He],xe[0]=D*y[8+He]+ee*y[24+He]+te*y[40+He]+he*y[56+He],xe[1]=ee*y[8+He]-he*y[24+He]-D*y[40+He]-te*y[56+He],xe[2]=te*y[8+He]-D*y[24+He]+he*y[40+He]+ee*y[56+He],xe[3]=he*y[8+He]-te*y[24+He]+ee*y[40+He]-D*y[56+He],Te[0]=_*(y[He]+y[32+He]),Te[3]=_*(y[He]-y[32+He]),Te[1]=Ee[0]+Ee[3],Te[2]=Ee[1]-Ee[2],J[0]=Te[0]+Te[1],J[1]=Te[3]+Te[2],J[2]=Te[3]-Te[2],J[3]=Te[0]-Te[1],y[0+He]=J[0]+xe[0],y[8+He]=J[1]+xe[1],y[16+He]=J[2]+xe[2],y[24+He]=J[3]+xe[3],y[32+He]=J[3]-xe[3],y[40+He]=J[2]-xe[2],y[48+He]=J[1]-xe[1],y[56+He]=J[0]-xe[0]}function Ae(y){for(var _=0;_<64;++_){var D=y[0][_],Z=y[1][_],ee=y[2][_];y[0][_]=D+1.5747*ee,y[1][_]=D-.1873*Z-.4682*ee,y[2][_]=D+1.8556*Z}}function fe(y,_,D){for(var Z=0;Z<64;++Z)_[D+Z]=Eo.toHalfFloat(Qe(y[Z]))}function Qe(y){return y<=1?Math.sign(y)*Math.pow(Math.abs(y),2.2):Math.sign(y)*Math.pow(N,Math.abs(y)-1)}function ye(y){return new DataView(y.array.buffer,y.offset.value,y.size)}function Re(y){var _=y.viewer.buffer.slice(y.offset.value,y.offset.value+y.size),D=new Uint8Array(Ie(_)),Z=new Uint8Array(D.length);return Ke(D),Ye(D,Z),new DataView(Z.buffer)}function Fe(y){var _=y.array.slice(y.offset.value,y.offset.value+y.size),D=ul(_),Z=new Uint8Array(D.length);return Ke(D),Ye(D,Z),new DataView(Z.buffer)}function yn(y){for(var _=y.viewer,D={value:y.offset.value},Z=new Uint16Array(y.width*y.scanlineBlockSize*(y.channels*y.type)),ee=new Uint8Array(8192),te=0,me=new Array(y.channels),he=0;he<y.channels;he++)me[he]={},me[he].start=te,me[he].end=me[he].start,me[he].nx=y.width,me[he].ny=y.lines,me[he].size=y.type,te+=me[he].nx*me[he].ny*me[he].size;var Ee=on(_,D),xe=on(_,D);if(xe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ee<=xe)for(var he=0;he<xe-Ee+1;he++)ee[he+Ee]=B(_,D);var Te=new Uint16Array(65536),J=O(ee,Te),Fn=Ze(_,D);_e(y.array,_,D,Fn,Z,te);for(var he=0;he<y.channels;++he)for(var Le=me[he],He=0;He<me[he].size;++He)Me(Z,Le.start+He,Le.nx,Le.size,Le.ny,Le.nx*Le.size,J);de(Te,Z,te);for(var rn=0,an=new Uint8Array(Z.buffer.byteLength),hn=0;hn<y.lines;hn++)for(var _n=0;_n<y.channels;_n++){var Le=me[_n],un=Le.nx*Le.size,et=new Uint8Array(Z.buffer,Le.end*2,un*2);an.set(et,rn),rn+=un*2,Le.end+=un}return new DataView(an.buffer)}function Ne(y){var _=y.array.slice(y.offset.value,y.offset.value+y.size),D=ul(_);const Z=y.lines*y.channels*y.width,ee=y.type==1?new Uint16Array(Z):new Uint32Array(Z);let te=0,me=0;const he=new Array(4);for(let Ee=0;Ee<y.lines;Ee++)for(let xe=0;xe<y.channels;xe++){let Te=0;switch(y.type){case 1:he[0]=te,he[1]=he[0]+y.width,te=he[1]+y.width;for(let J=0;J<y.width;++J){const Fn=D[he[0]++]<<8|D[he[1]++];Te+=Fn,ee[me]=Te,me++}break;case 2:he[0]=te,he[1]=he[0]+y.width,he[2]=he[1]+y.width,te=he[2]+y.width;for(let J=0;J<y.width;++J){const Fn=D[he[0]++]<<24|D[he[1]++]<<16|D[he[2]++]<<8;Te+=Fn,ee[me]=Te,me++}break}}return new DataView(ee.buffer)}function ze(y){var _=y.viewer,D={value:y.offset.value},Z=new Uint8Array(y.width*y.lines*(y.channels*y.type*2)),ee={version:ue(_,D),unknownUncompressedSize:ue(_,D),unknownCompressedSize:ue(_,D),acCompressedSize:ue(_,D),dcCompressedSize:ue(_,D),rleCompressedSize:ue(_,D),rleUncompressedSize:ue(_,D),rleRawSize:ue(_,D),totalAcUncompressedCount:ue(_,D),totalDcUncompressedCount:ue(_,D),acCompression:ue(_,D)};if(ee.version<2)throw"EXRLoader.parse: "+yt.compression+" version "+ee.version+" is unsupported";for(var te=new Array,me=on(_,D)-2;me>0;){var he=Oe(_.buffer,D),Ee=B(_,D),xe=Ee>>2&3,Te=(Ee>>4)-1,J=new Int8Array([Te])[0],Fn=B(_,D);te.push({name:he,index:J,type:Fn,compression:xe}),me-=he.length+3}for(var Le=yt.channels,He=new Array(y.channels),rn=0;rn<y.channels;++rn){var an=He[rn]={},hn=Le[rn];an.name=hn.name,an.compression=0,an.decoded=!1,an.type=hn.pixelType,an.pLinear=hn.pLinear,an.width=y.width,an.height=y.lines}for(var _n={idx:new Array(3)},un=0;un<y.channels;++un)for(var an=He[un],rn=0;rn<te.length;++rn){var et=te[rn];an.name==et.name&&(an.compression=et.compression,et.index>=0&&(_n.idx[et.index]=un),an.offset=un)}if(ee.acCompressedSize>0)switch(ee.acCompression){case 0:var Dn=new Uint16Array(ee.totalAcUncompressedCount);_e(y.array,_,D,ee.acCompressedSize,Dn,ee.totalAcUncompressedCount);break;case 1:var Tn=y.array.slice(D.value,D.value+ee.totalAcUncompressedCount),Ct=ul(Tn),Dn=new Uint16Array(Ct.buffer);D.value+=ee.totalAcUncompressedCount;break}if(ee.dcCompressedSize>0){var qn={array:y.array,offset:D,size:ee.dcCompressedSize},ct=new Uint16Array(Fe(qn).buffer);D.value+=ee.dcCompressedSize}if(ee.rleRawSize>0){var Tn=y.array.slice(D.value,D.value+ee.rleCompressedSize),Ct=ul(Tn),Ht=Ie(Ct.buffer);D.value+=ee.rleCompressedSize}for(var Qn=0,cn=new Array(He.length),rn=0;rn<cn.length;++rn)cn[rn]=new Array;for(var vn=0;vn<y.lines;++vn)for(var In=0;In<He.length;++In)cn[In].push(Qn),Qn+=He[In].width*y.type*2;De(_n,cn,He,Dn,ct,Z);for(var rn=0;rn<He.length;++rn){var an=He[rn];if(!an.decoded)switch(an.compression){case 2:for(var dn=0,ft=0,vn=0;vn<y.lines;++vn){for(var Ut=cn[rn][dn],Nn=0;Nn<an.width;++Nn){for(var Ft=0;Ft<2*an.type;++Ft)Z[Ut++]=Ht[ft+Ft*an.width*an.height];ft++}dn++}break;default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Z.buffer)}function Oe(y,_){for(var D=new Uint8Array(y),Z=0;D[_.value+Z]!=0;)Z+=1;var ee=new TextDecoder().decode(D.slice(_.value,_.value+Z));return _.value=_.value+Z+1,ee}function $e(y,_,D){var Z=new TextDecoder().decode(new Uint8Array(y).slice(_.value,_.value+D));return _.value=_.value+D,Z}function Cn(y,_){var D=ln(y,_),Z=Ze(y,_);return[D,Z]}function Pn(y,_){var D=Ze(y,_),Z=Ze(y,_);return[D,Z]}function ln(y,_){var D=y.getInt32(_.value,!0);return _.value=_.value+4,D}function Ze(y,_){var D=y.getUint32(_.value,!0);return _.value=_.value+4,D}function Ve(y,_){var D=y[_.value];return _.value=_.value+1,D}function B(y,_){var D=y.getUint8(_.value);return _.value=_.value+1,D}const ue=function(y,_){let D;return"getBigInt64"in DataView.prototype?D=Number(y.getBigInt64(_.value,!0)):D=y.getUint32(_.value+4,!0)+Number(y.getUint32(_.value,!0)<<32),_.value+=8,D};function Ce(y,_){var D=y.getFloat32(_.value,!0);return _.value+=4,D}function We(y,_){return Eo.toHalfFloat(Ce(y,_))}function oe(y){var _=(y&31744)>>10,D=y&1023;return(y>>15?-1:1)*(_?_===31?D?NaN:1/0:Math.pow(2,_-15)*(1+D/1024):6103515625e-14*(D/1024))}function on(y,_){var D=y.getUint16(_.value,!0);return _.value+=2,D}function Xn(y,_){return oe(on(y,_))}function Un(y,_,D,Z){for(var ee=D.value,te=[];D.value<ee+Z-1;){var me=Oe(_,D),he=ln(y,D),Ee=B(y,D);D.value+=3;var xe=ln(y,D),Te=ln(y,D);te.push({name:me,pixelType:he,pLinear:Ee,xSampling:xe,ySampling:Te})}return D.value+=1,te}function fn(y,_){var D=Ce(y,_),Z=Ce(y,_),ee=Ce(y,_),te=Ce(y,_),me=Ce(y,_),he=Ce(y,_),Ee=Ce(y,_),xe=Ce(y,_);return{redX:D,redY:Z,greenX:ee,greenY:te,blueX:me,blueY:he,whiteX:Ee,whiteY:xe}}function xn(y,_){var D=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Z=B(y,_);return D[Z]}function gn(y,_){var D=Ze(y,_),Z=Ze(y,_),ee=Ze(y,_),te=Ze(y,_);return{xMin:D,yMin:Z,xMax:ee,yMax:te}}function qe(y,_){var D=["INCREASING_Y"],Z=B(y,_);return D[Z]}function kn(y,_){var D=Ce(y,_),Z=Ce(y,_);return[D,Z]}function Hn(y,_){var D=Ce(y,_),Z=Ce(y,_),ee=Ce(y,_);return[D,Z,ee]}function Ln(y,_,D,Z,ee){if(Z==="string"||Z==="stringvector"||Z==="iccProfile")return $e(_,D,ee);if(Z==="chlist")return Un(y,_,D,ee);if(Z==="chromaticities")return fn(y,D);if(Z==="compression")return xn(y,D);if(Z==="box2i")return gn(y,D);if(Z==="lineOrder")return qe(y,D);if(Z==="float")return Ce(y,D);if(Z==="v2f")return kn(y,D);if(Z==="v3f")return Hn(y,D);if(Z==="int")return ln(y,D);if(Z==="rational")return Cn(y,D);if(Z==="timecode")return Pn(y,D);if(Z==="preview")return D.value+=ee,"skipped";D.value+=ee}function jn(y,_,D){const Z={};if(y.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Z.version=y.getUint8(4);const ee=y.getUint8(5);Z.spec={singleTile:!!(ee&2),longName:!!(ee&4),deepFormat:!!(ee&8),multiPart:!!(ee&16)},D.value=8;for(var te=!0;te;){var me=Oe(_,D);if(me==0)te=!1;else{var he=Oe(_,D),Ee=Ze(y,D),xe=Ln(y,_,D,he,Ee);xe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${he}'.`):Z[me]=xe}}if((ee&-5)!=0)throw console.error("EXRHeader:",Z),"THREE.EXRLoader: provided file is currently unsupported.";return Z}function pt(y,_,D,Z,ee){const te={size:0,viewer:_,array:D,offset:Z,width:y.dataWindow.xMax-y.dataWindow.xMin+1,height:y.dataWindow.yMax-y.dataWindow.yMin+1,channels:y.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:y.channels[0].pixelType,uncompress:null,getter:null,format:null,[si?"colorSpace":"encoding"]:null};switch(y.compression){case"NO_COMPRESSION":te.lines=1,te.uncompress=ye;break;case"RLE_COMPRESSION":te.lines=1,te.uncompress=Re;break;case"ZIPS_COMPRESSION":te.lines=1,te.uncompress=Fe;break;case"ZIP_COMPRESSION":te.lines=16,te.uncompress=Fe;break;case"PIZ_COMPRESSION":te.lines=32,te.uncompress=yn;break;case"PXR24_COMPRESSION":te.lines=16,te.uncompress=Ne;break;case"DWAA_COMPRESSION":te.lines=32,te.uncompress=ze;break;case"DWAB_COMPRESSION":te.lines=256,te.uncompress=ze;break;default:throw"EXRLoader.parse: "+y.compression+" is unsupported"}if(te.scanlineBlockSize=te.lines,te.type==1)switch(ee){case Or:te.getter=Xn,te.inputSize=2;break;case or:te.getter=on,te.inputSize=2;break}else if(te.type==2)switch(ee){case Or:te.getter=Ce,te.inputSize=4;break;case or:te.getter=We,te.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+te.type+" for "+y.compression+".";te.blockCount=(y.dataWindow.yMax+1)/te.scanlineBlockSize;for(var me=0;me<te.blockCount;me++)ue(_,Z);te.outputChannels=te.channels==3?4:te.channels;const he=te.width*te.height*te.outputChannels;switch(ee){case Or:te.byteArray=new Float32Array(he),te.channels<te.outputChannels&&te.byteArray.fill(1,0,he);break;case or:te.byteArray=new Uint16Array(he),te.channels<te.outputChannels&&te.byteArray.fill(15360,0,he);break;default:console.error("THREE.EXRLoader: unsupported type: ",ee);break}return te.bytesPerLine=te.width*te.inputSize*te.channels,te.outputChannels==4?te.format=ko:te.format=Zv,si?te.colorSpace="srgb-linear":te.encoding=3e3,te}const Tt=new DataView(t),Mt=new Uint8Array(t),ut={value:0},yt=jn(Tt,t,ut),Je=pt(yt,Tt,Mt,ut,this.type),tt={value:0},zt={R:0,G:1,B:2,A:3,Y:0};for(let y=0;y<Je.height/Je.scanlineBlockSize;y++){const _=Ze(Tt,ut);Je.size=Ze(Tt,ut),Je.lines=_+Je.scanlineBlockSize>Je.height?Je.height-_:Je.scanlineBlockSize;const Z=Je.size<Je.lines*Je.bytesPerLine?Je.uncompress(Je):ye(Je);ut.value+=Je.size;for(let ee=0;ee<Je.scanlineBlockSize;ee++){const te=ee+y*Je.scanlineBlockSize;if(te>=Je.height)break;for(let me=0;me<Je.channels;me++){const he=zt[yt.channels[me].name];for(let Ee=0;Ee<Je.width;Ee++){tt.value=(ee*(Je.channels*Je.width)+me*Je.width+Ee)*Je.inputSize;const xe=(Je.height-1-te)*(Je.width*Je.outputChannels)+Ee*Je.outputChannels+he;Je.byteArray[xe]=Je.getter(Z,tt)}}}}return{header:yt,width:Je.width,height:Je.height,data:Je.byteArray,format:Je.format,[si?"colorSpace":"encoding"]:Je[si?"colorSpace":"encoding"],type:this.type}}setDataType(t){return this.type=t,this}load(t,p,u,o){function a(f,d){si?f.colorSpace=d.colorSpace:f.encoding=d.encoding,f.minFilter=ir,f.magFilter=ir,f.generateMipmaps=!1,f.flipY=!1,p&&p(f,d)}return super.load(t,a,u,o)}}function o0(){var l=Object.create(null);function t(o,a){var f=o.id,d=o.name,s=o.dependencies;s===void 0&&(s=[]);var h=o.init;h===void 0&&(h=function(){});var m=o.getTransferables;if(m===void 0&&(m=null),!l[f])try{s=s.map(function(b){return b&&b.isWorkerModule&&(t(b,function(S){if(S instanceof Error)throw S}),b=l[b.id].value),b}),h=u("<"+d+">.init",h),m&&(m=u("<"+d+">.getTransferables",m));var g=null;typeof h=="function"?g=h.apply(void 0,s):console.error("worker module init function failed to rehydrate"),l[f]={id:f,value:g,getTransferables:m},a(g)}catch(b){b&&b.noLog||console.error(b),a(b)}}function p(o,a){var f,d=o.id,s=o.args;(!l[d]||typeof l[d].value!="function")&&a(new Error("Worker module "+d+": not found or its 'init' did not return a function"));try{var h=(f=l[d]).value.apply(f,s);h&&typeof h.then=="function"?h.then(m,function(g){return a(g instanceof Error?g:new Error(""+g))}):m(h)}catch(g){a(g)}function m(g){try{var b=l[d].getTransferables&&l[d].getTransferables(g);(!b||!Array.isArray(b)||!b.length)&&(b=void 0),a(g,b)}catch(S){console.error(S),a(S)}}}function u(o,a){var f=void 0;self.troikaDefine=function(s){return f=s};var d=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(d)}catch(s){console.error(s)}return URL.revokeObjectURL(d),delete self.troikaDefine,f}self.addEventListener("message",function(o){var a=o.data,f=a.messageId,d=a.action,s=a.data;try{d==="registerModule"&&t(s,function(h){h instanceof Error?postMessage({messageId:f,success:!1,error:h.message}):postMessage({messageId:f,success:!0,result:{isCallable:typeof h=="function"}})}),d==="callModule"&&p(s,function(h,m){h instanceof Error?postMessage({messageId:f,success:!1,error:h.message}):postMessage({messageId:f,success:!0,result:h},m||void 0)})}catch(h){postMessage({messageId:f,success:!1,error:h.stack})}})}function i0(l){var t=function(){for(var p=[],u=arguments.length;u--;)p[u]=arguments[u];return t._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,p);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var p=l.dependencies,u=l.init;p=Array.isArray(p)?p.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var o=Promise.all(p).then(function(a){return u.apply(null,a)});return t._getInitResult=function(){return o},o},t}var lh=function(){var l=!1;if(typeof window<"u"&&typeof window.document<"u")try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),l=!0}catch(p){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+p.message+"]")}return lh=function(){return l},l},l0=0,s0=0,ou=!1,vi=Object.create(null),mi=Object.create(null),mu=Object.create(null);function Fo(l){if((!l||typeof l.init!="function")&&!ou)throw new Error("requires `options.init` function");var t=l.dependencies,p=l.init,u=l.getTransferables,o=l.workerId,a=i0(l);o==null&&(o="#default");var f="workerModule"+ ++l0,d=l.name||f,s=null;t=t&&t.map(function(m){return typeof m=="function"&&!m.workerModuleData&&(ou=!0,m=Fo({workerId:o,name:"<"+d+"> function dependency: "+m.name,init:`function(){return (
`+yl(m)+`
)}`}),ou=!1),m&&m.workerModuleData&&(m=m.workerModuleData),m});function h(){for(var m=[],g=arguments.length;g--;)m[g]=arguments[g];if(!lh())return a.apply(void 0,m);if(!s){s=ld(o,"registerModule",h.workerModuleData);var b=function(){s=null,mi[o].delete(b)};(mi[o]||(mi[o]=new Set)).add(b)}return s.then(function(S){var E=S.isCallable;if(E)return ld(o,"callModule",{id:f,args:m});throw new Error("Worker module function was called but `init` did not return a callable function")})}return h.workerModuleData={isWorkerModule:!0,id:f,name:d,dependencies:t,init:yl(p),getTransferables:u&&yl(u)},h.onMainThread=a,h}function u0(l){mi[l]&&mi[l].forEach(function(t){t()}),vi[l]&&(vi[l].terminate(),delete vi[l])}function yl(l){var t=l.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function c0(l){var t=vi[l];if(!t){var p=yl(o0);t=vi[l]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+l.replace(/\*/g,"")+` **/

;(`+p+")()"],{type:"application/javascript"}))),t.onmessage=function(u){var o=u.data,a=o.messageId,f=mu[a];if(!f)throw new Error("WorkerModule response with empty or unknown messageId");delete mu[a],f(o)}}return t}function ld(l,t,p){return new Promise(function(u,o){var a=++s0;mu[a]=function(f){f.success?u(f.result):o(new Error("Error in worker "+t+" call: "+f.error))},c0(l).postMessage({messageId:a,action:t,data:p})})}function sh(){var l=(function(t){function p(ne,X,C,L,V,Y,Q,re){var se=1-Q;re.x=se*se*ne+2*se*Q*C+Q*Q*V,re.y=se*se*X+2*se*Q*L+Q*Q*Y}function u(ne,X,C,L,V,Y,Q,re,se,ce){var Me=1-se;ce.x=Me*Me*Me*ne+3*Me*Me*se*C+3*Me*se*se*V+se*se*se*Q,ce.y=Me*Me*Me*X+3*Me*Me*se*L+3*Me*se*se*Y+se*se*se*re}function o(ne,X){for(var C=/([MLQCZ])([^MLQCZ]*)/g,L,V,Y,Q,re;L=C.exec(ne);){var se=L[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ce){return parseFloat(ce)});switch(L[1]){case"M":Q=V=se[0],re=Y=se[1];break;case"L":(se[0]!==Q||se[1]!==re)&&X("L",Q,re,Q=se[0],re=se[1]);break;case"Q":{X("Q",Q,re,Q=se[2],re=se[3],se[0],se[1]);break}case"C":{X("C",Q,re,Q=se[4],re=se[5],se[0],se[1],se[2],se[3]);break}case"Z":(Q!==V||re!==Y)&&X("L",Q,re,V,Y);break}}}function a(ne,X,C){C===void 0&&(C=16);var L={x:0,y:0};o(ne,function(V,Y,Q,re,se,ce,Me,Ge,_e){switch(V){case"L":X(Y,Q,re,se);break;case"Q":{for(var de=Y,Ke=Q,Ye=1;Ye<C;Ye++)p(Y,Q,ce,Me,re,se,Ye/(C-1),L),X(de,Ke,L.x,L.y),de=L.x,Ke=L.y;break}case"C":{for(var Ie=Y,De=Q,Pe=1;Pe<C;Pe++)u(Y,Q,ce,Me,Ge,_e,re,se,Pe/(C-1),L),X(Ie,De,L.x,L.y),Ie=L.x,De=L.y;break}}})}var f="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",d="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",s=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function m(ne,X){var C=ne.getContext?ne.getContext("webgl",h):ne,L=s.get(C);if(!L){let Me=function(Ie){var De=Y[Ie];if(!De&&(De=Y[Ie]=C.getExtension(Ie),!De))throw new Error(Ie+" not supported");return De},Ge=function(Ie,De){var Pe=C.createShader(De);return C.shaderSource(Pe,Ie),C.compileShader(Pe),Pe},_e=function(Ie,De,Pe,ge){if(!Q[Ie]){var je={},Ae={},fe=C.createProgram();C.attachShader(fe,Ge(De,C.VERTEX_SHADER)),C.attachShader(fe,Ge(Pe,C.FRAGMENT_SHADER)),C.linkProgram(fe),Q[Ie]={program:fe,transaction:function(ye){C.useProgram(fe),ye({setUniform:function(Fe,yn){for(var Ne=[],ze=arguments.length-2;ze-- >0;)Ne[ze]=arguments[ze+2];var Oe=Ae[yn]||(Ae[yn]=C.getUniformLocation(fe,yn));C["uniform"+Fe].apply(C,[Oe].concat(Ne))},setAttribute:function(Fe,yn,Ne,ze,Oe){var $e=je[Fe];$e||($e=je[Fe]={buf:C.createBuffer(),loc:C.getAttribLocation(fe,Fe),data:null}),C.bindBuffer(C.ARRAY_BUFFER,$e.buf),C.vertexAttribPointer($e.loc,yn,C.FLOAT,!1,0,0),C.enableVertexAttribArray($e.loc),V?C.vertexAttribDivisor($e.loc,ze):Me("ANGLE_instanced_arrays").vertexAttribDivisorANGLE($e.loc,ze),Oe!==$e.data&&(C.bufferData(C.ARRAY_BUFFER,Oe,Ne),$e.data=Oe)}})}}}Q[Ie].transaction(ge)},de=function(Ie,De){se++;try{C.activeTexture(C.TEXTURE0+se);var Pe=re[Ie];Pe||(Pe=re[Ie]=C.createTexture(),C.bindTexture(C.TEXTURE_2D,Pe),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST)),C.bindTexture(C.TEXTURE_2D,Pe),De(Pe,se)}finally{se--}},Ke=function(Ie,De,Pe){var ge=C.createFramebuffer();ce.push(ge),C.bindFramebuffer(C.FRAMEBUFFER,ge),C.activeTexture(C.TEXTURE0+De),C.bindTexture(C.TEXTURE_2D,Ie),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,Ie,0);try{Pe(ge)}finally{C.deleteFramebuffer(ge),C.bindFramebuffer(C.FRAMEBUFFER,ce[--ce.length-1]||null)}},Ye=function(){Y={},Q={},re={},se=-1,ce.length=0};var V=typeof WebGL2RenderingContext<"u"&&C instanceof WebGL2RenderingContext,Y={},Q={},re={},se=-1,ce=[];C.canvas.addEventListener("webglcontextlost",function(Ie){Ye(),Ie.preventDefault()},!1),s.set(C,L={gl:C,isWebGL2:V,getExtension:Me,withProgram:_e,withTexture:de,withTextureFramebuffer:Ke,handleContextLoss:Ye})}X(L)}function g(ne,X,C,L,V,Y,Q,re){Q===void 0&&(Q=15),re===void 0&&(re=null),m(ne,function(se){var ce=se.gl,Me=se.withProgram,Ge=se.withTexture;Ge("copy",function(_e,de){ce.texImage2D(ce.TEXTURE_2D,0,ce.RGBA,V,Y,0,ce.RGBA,ce.UNSIGNED_BYTE,X),Me("copy",f,d,function(Ke){var Ye=Ke.setUniform,Ie=Ke.setAttribute;Ie("aUV",2,ce.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ye("1i","image",de),ce.bindFramebuffer(ce.FRAMEBUFFER,re||null),ce.disable(ce.BLEND),ce.colorMask(Q&8,Q&4,Q&2,Q&1),ce.viewport(C,L,V,Y),ce.scissor(C,L,V,Y),ce.drawArrays(ce.TRIANGLES,0,3)})})})}function b(ne,X,C){var L=ne.width,V=ne.height;m(ne,function(Y){var Q=Y.gl,re=new Uint8Array(L*V*4);Q.readPixels(0,0,L,V,Q.RGBA,Q.UNSIGNED_BYTE,re),ne.width=X,ne.height=C,g(Q,re,0,0,L,V)})}var S=Object.freeze({__proto__:null,withWebGLContext:m,renderImageData:g,resizeWebGLCanvasWithoutClearing:b});function E(ne,X,C,L,V,Y){Y===void 0&&(Y=1);var Q=new Uint8Array(ne*X),re=L[2]-L[0],se=L[3]-L[1],ce=[];a(C,function(Ie,De,Pe,ge){ce.push({x1:Ie,y1:De,x2:Pe,y2:ge,minX:Math.min(Ie,Pe),minY:Math.min(De,ge),maxX:Math.max(Ie,Pe),maxY:Math.max(De,ge)})}),ce.sort(function(Ie,De){return Ie.maxX-De.maxX});for(var Me=0;Me<ne;Me++)for(var Ge=0;Ge<X;Ge++){var _e=Ke(L[0]+re*(Me+.5)/ne,L[1]+se*(Ge+.5)/X),de=Math.pow(1-Math.abs(_e)/V,Y)/2;_e<0&&(de=1-de),de=Math.max(0,Math.min(255,Math.round(de*255))),Q[Ge*ne+Me]=de}return Q;function Ke(Ie,De){for(var Pe=1/0,ge=1/0,je=ce.length;je--;){var Ae=ce[je];if(Ae.maxX+ge<=Ie)break;if(Ie+ge>Ae.minX&&De-ge<Ae.maxY&&De+ge>Ae.minY){var fe=U(Ie,De,Ae.x1,Ae.y1,Ae.x2,Ae.y2);fe<Pe&&(Pe=fe,ge=Math.sqrt(Pe))}}return Ye(Ie,De)&&(ge=-ge),ge}function Ye(Ie,De){for(var Pe=0,ge=ce.length;ge--;){var je=ce[ge];if(je.maxX<=Ie)break;var Ae=je.y1>De!=je.y2>De&&Ie<(je.x2-je.x1)*(De-je.y1)/(je.y2-je.y1)+je.x1;Ae&&(Pe+=je.y1<je.y2?1:-1)}return Pe!==0}}function M(ne,X,C,L,V,Y,Q,re,se,ce){Y===void 0&&(Y=1),re===void 0&&(re=0),se===void 0&&(se=0),ce===void 0&&(ce=0),k(ne,X,C,L,V,Y,Q,null,re,se,ce)}function k(ne,X,C,L,V,Y,Q,re,se,ce,Me){Y===void 0&&(Y=1),se===void 0&&(se=0),ce===void 0&&(ce=0),Me===void 0&&(Me=0);for(var Ge=E(ne,X,C,L,V,Y),_e=new Uint8Array(Ge.length*4),de=0;de<Ge.length;de++)_e[de*4+Me]=Ge[de];g(Q,_e,se,ce,ne,X,1<<3-Me,re)}function U(ne,X,C,L,V,Y){var Q=V-C,re=Y-L,se=Q*Q+re*re,ce=se?Math.max(0,Math.min(1,((ne-C)*Q+(X-L)*re)/se)):0,Me=ne-(C+ce*Q),Ge=X-(L+ce*re);return Me*Me+Ge*Ge}var x=Object.freeze({__proto__:null,generate:E,generateIntoCanvas:M,generateIntoFramebuffer:k}),G="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",R="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",I="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",F=new Float32Array([0,0,2,0,0,2]),H=null,T=!1,N={},O=new WeakMap;function le(ne){if(!T&&!ie(ne))throw new Error("WebGL generation not supported")}function z(ne,X,C,L,V,Y,Q){if(Y===void 0&&(Y=1),Q===void 0&&(Q=null),!Q&&(Q=H,!Q)){var re=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!re)throw new Error("OffscreenCanvas or DOM canvas not supported");Q=H=re.getContext("webgl",{depth:!1})}le(Q);var se=new Uint8Array(ne*X*4);m(Q,function(_e){var de=_e.gl,Ke=_e.withTexture,Ye=_e.withTextureFramebuffer;Ke("readable",function(Ie,De){de.texImage2D(de.TEXTURE_2D,0,de.RGBA,ne,X,0,de.RGBA,de.UNSIGNED_BYTE,null),Ye(Ie,De,function(Pe){P(ne,X,C,L,V,Y,de,Pe,0,0,0),de.readPixels(0,0,ne,X,de.RGBA,de.UNSIGNED_BYTE,se)})})});for(var ce=new Uint8Array(ne*X),Me=0,Ge=0;Me<se.length;Me+=4)ce[Ge++]=se[Me];return ce}function j(ne,X,C,L,V,Y,Q,re,se,ce){Y===void 0&&(Y=1),re===void 0&&(re=0),se===void 0&&(se=0),ce===void 0&&(ce=0),P(ne,X,C,L,V,Y,Q,null,re,se,ce)}function P(ne,X,C,L,V,Y,Q,re,se,ce,Me){Y===void 0&&(Y=1),se===void 0&&(se=0),ce===void 0&&(ce=0),Me===void 0&&(Me=0),le(Q);var Ge=[];a(C,function(_e,de,Ke,Ye){Ge.push(_e,de,Ke,Ye)}),Ge=new Float32Array(Ge),m(Q,function(_e){var de=_e.gl,Ke=_e.isWebGL2,Ye=_e.getExtension,Ie=_e.withProgram,De=_e.withTexture,Pe=_e.withTextureFramebuffer,ge=_e.handleContextLoss;if(De("rawDistances",function(je,Ae){(ne!==je._lastWidth||X!==je._lastHeight)&&de.texImage2D(de.TEXTURE_2D,0,de.RGBA,je._lastWidth=ne,je._lastHeight=X,0,de.RGBA,de.UNSIGNED_BYTE,null),Ie("main",G,R,function(fe){var Qe=fe.setAttribute,ye=fe.setUniform,Re=!Ke&&Ye("ANGLE_instanced_arrays"),Fe=!Ke&&Ye("EXT_blend_minmax");Qe("aUV",2,de.STATIC_DRAW,0,F),Qe("aLineSegment",4,de.DYNAMIC_DRAW,1,Ge),ye.apply(void 0,["4f","uGlyphBounds"].concat(L)),ye("1f","uMaxDistance",V),ye("1f","uExponent",Y),Pe(je,Ae,function(yn){de.enable(de.BLEND),de.colorMask(!0,!0,!0,!0),de.viewport(0,0,ne,X),de.scissor(0,0,ne,X),de.blendFunc(de.ONE,de.ONE),de.blendEquationSeparate(de.FUNC_ADD,Ke?de.MAX:Fe.MAX_EXT),de.clear(de.COLOR_BUFFER_BIT),Ke?de.drawArraysInstanced(de.TRIANGLES,0,3,Ge.length/4):Re.drawArraysInstancedANGLE(de.TRIANGLES,0,3,Ge.length/4)})}),Ie("post",f,I,function(fe){fe.setAttribute("aUV",2,de.STATIC_DRAW,0,F),fe.setUniform("1i","tex",Ae),de.bindFramebuffer(de.FRAMEBUFFER,re),de.disable(de.BLEND),de.colorMask(Me===0,Me===1,Me===2,Me===3),de.viewport(se,ce,ne,X),de.scissor(se,ce,ne,X),de.drawArrays(de.TRIANGLES,0,3)})}),de.isContextLost())throw ge(),new Error("webgl context lost")})}function ie(ne){var X=!ne||ne===H?N:ne.canvas||ne,C=O.get(X);if(C===void 0){T=!0;var L=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,ne);C=Y&&V.length===Y.length&&Y.every(function(Q,re){return Q===V[re]}),C||(L="bad trial run results",console.info(V,Y))}catch(Q){C=!1,L=Q.message}L&&console.warn("WebGL SDF generation not supported:",L),T=!1,O.set(X,C)}return C}var K=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:j,generateIntoFramebuffer:P,isSupported:ie});function we(ne,X,C,L,V,Y){V===void 0&&(V=Math.max(L[2]-L[0],L[3]-L[1])/2),Y===void 0&&(Y=1);try{return z.apply(K,arguments)}catch(Q){return console.info("WebGL SDF generation failed, falling back to JS",Q),E.apply(x,arguments)}}function ke(ne,X,C,L,V,Y,Q,re,se,ce){V===void 0&&(V=Math.max(L[2]-L[0],L[3]-L[1])/2),Y===void 0&&(Y=1),re===void 0&&(re=0),se===void 0&&(se=0),ce===void 0&&(ce=0);try{return j.apply(K,arguments)}catch(Me){return console.info("WebGL SDF generation failed, falling back to JS",Me),M.apply(x,arguments)}}return t.forEachPathCommand=o,t.generate=we,t.generateIntoCanvas=ke,t.javascript=x,t.pathToLineSegments=a,t.webgl=K,t.webglUtils=S,Object.defineProperty(t,"__esModule",{value:!0}),t})({});return l}function f0(){var l=(function(t){var p={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},u={},o={};u.L=1,o[1]="L",Object.keys(p).forEach(function(ge,je){u[ge]=1<<je+1,o[u[ge]]=ge}),Object.freeze(u);var a=u.LRI|u.RLI|u.FSI,f=u.L|u.R|u.AL,d=u.B|u.S|u.WS|u.ON|u.FSI|u.LRI|u.RLI|u.PDI,s=u.BN|u.RLE|u.LRE|u.RLO|u.LRO|u.PDF,h=u.S|u.WS|u.B|a|u.PDI|s,m=null;function g(){if(!m){m=new Map;var ge=function(Ae){if(p.hasOwnProperty(Ae)){var fe=0;p[Ae].split(",").forEach(function(Qe){var ye=Qe.split("+"),Re=ye[0],Fe=ye[1];Re=parseInt(Re,36),Fe=Fe?parseInt(Fe,36):0,m.set(fe+=Re,u[Ae]);for(var yn=0;yn<Fe;yn++)m.set(++fe,u[Ae])})}};for(var je in p)ge(je)}}function b(ge){return g(),m.get(ge.codePointAt(0))||u.L}function S(ge){return o[b(ge)]}var E={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function M(ge,je){var Ae=36,fe=0,Qe=new Map,ye=je&&new Map,Re;return ge.split(",").forEach(function Fe(yn){if(yn.indexOf("+")!==-1)for(var Ne=+yn;Ne--;)Fe(Re);else{Re=yn;var ze=yn.split(">"),Oe=ze[0],$e=ze[1];Oe=String.fromCodePoint(fe+=parseInt(Oe,Ae)),$e=String.fromCodePoint(fe+=parseInt($e,Ae)),Qe.set(Oe,$e),je&&ye.set($e,Oe)}}),{map:Qe,reverseMap:ye}}var k,U,x;function G(){if(!k){var ge=M(E.pairs,!0),je=ge.map,Ae=ge.reverseMap;k=je,U=Ae,x=M(E.canonical,!1).map}}function R(ge){return G(),k.get(ge)||null}function I(ge){return G(),U.get(ge)||null}function F(ge){return G(),x.get(ge)||null}var H=u.L,T=u.R,N=u.EN,O=u.ES,le=u.ET,z=u.AN,j=u.CS,P=u.B,ie=u.S,K=u.ON,we=u.BN,ke=u.NSM,ne=u.AL,X=u.LRO,C=u.RLO,L=u.LRE,V=u.RLE,Y=u.PDF,Q=u.LRI,re=u.RLI,se=u.FSI,ce=u.PDI;function Me(ge,je){for(var Ae=125,fe=new Uint32Array(ge.length),Qe=0;Qe<ge.length;Qe++)fe[Qe]=b(ge[Qe]);var ye=new Map;function Re(St,Vt){var It=fe[St];fe[St]=Vt,ye.set(It,ye.get(It)-1),It&d&&ye.set(d,ye.get(d)-1),ye.set(Vt,(ye.get(Vt)||0)+1),Vt&d&&ye.set(d,(ye.get(d)||0)+1)}for(var Fe=new Uint8Array(ge.length),yn=new Map,Ne=[],ze=null,Oe=0;Oe<ge.length;Oe++)ze||Ne.push(ze={start:Oe,end:ge.length-1,level:je==="rtl"?1:je==="ltr"?0:Va(Oe,!1)}),fe[Oe]&P&&(ze.end=Oe,ze=null);for(var $e=V|L|C|X|a|ce|Y|P,Cn=function(St){return St+(St&1?1:2)},Pn=function(St){return St+(St&1?2:1)},ln=0;ln<Ne.length;ln++){ze=Ne[ln];var Ze=[{_level:ze.level,_override:0,_isolate:0}],Ve=void 0,B=0,ue=0,Ce=0;ye.clear();for(var We=ze.start;We<=ze.end;We++){var oe=fe[We];if(Ve=Ze[Ze.length-1],ye.set(oe,(ye.get(oe)||0)+1),oe&d&&ye.set(d,(ye.get(d)||0)+1),oe&$e)if(oe&(V|L)){Fe[We]=Ve._level;var on=(oe===V?Pn:Cn)(Ve._level);on<=Ae&&!B&&!ue?Ze.push({_level:on,_override:0,_isolate:0}):B||ue++}else if(oe&(C|X)){Fe[We]=Ve._level;var Xn=(oe===C?Pn:Cn)(Ve._level);Xn<=Ae&&!B&&!ue?Ze.push({_level:Xn,_override:oe&C?T:H,_isolate:0}):B||ue++}else if(oe&a){oe&se&&(oe=Va(We+1,!0)===1?re:Q),Fe[We]=Ve._level,Ve._override&&Re(We,Ve._override);var Un=(oe===re?Pn:Cn)(Ve._level);Un<=Ae&&B===0&&ue===0?(Ce++,Ze.push({_level:Un,_override:0,_isolate:1,_isolInitIndex:We})):B++}else if(oe&ce){if(B>0)B--;else if(Ce>0){for(ue=0;!Ze[Ze.length-1]._isolate;)Ze.pop();var fn=Ze[Ze.length-1]._isolInitIndex;fn!=null&&(yn.set(fn,We),yn.set(We,fn)),Ze.pop(),Ce--}Ve=Ze[Ze.length-1],Fe[We]=Ve._level,Ve._override&&Re(We,Ve._override)}else oe&Y?(B===0&&(ue>0?ue--:!Ve._isolate&&Ze.length>1&&(Ze.pop(),Ve=Ze[Ze.length-1])),Fe[We]=Ve._level):oe&P&&(Fe[We]=ze.level);else Fe[We]=Ve._level,Ve._override&&oe!==we&&Re(We,Ve._override)}for(var xn=[],gn=null,qe=ze.start;qe<=ze.end;qe++){var kn=fe[qe];if(!(kn&s)){var Hn=Fe[qe],Ln=kn&a,jn=kn===ce;gn&&Hn===gn._level?(gn._end=qe,gn._endsWithIsolInit=Ln):xn.push(gn={_start:qe,_end:qe,_level:Hn,_startsWithPDI:jn,_endsWithIsolInit:Ln})}}for(var pt=[],Tt=0;Tt<xn.length;Tt++){var Mt=xn[Tt];if(!Mt._startsWithPDI||Mt._startsWithPDI&&!yn.has(Mt._start)){for(var ut=[gn=Mt],yt=void 0;gn&&gn._endsWithIsolInit&&(yt=yn.get(gn._end))!=null;)for(var Je=Tt+1;Je<xn.length;Je++)if(xn[Je]._start===yt){ut.push(gn=xn[Je]);break}for(var tt=[],zt=0;zt<ut.length;zt++)for(var y=ut[zt],_=y._start;_<=y._end;_++)tt.push(_);for(var D=Fe[tt[0]],Z=ze.level,ee=tt[0]-1;ee>=0;ee--)if(!(fe[ee]&s)){Z=Fe[ee];break}var te=tt[tt.length-1],me=Fe[te],he=ze.level;if(!(fe[te]&a)){for(var Ee=te+1;Ee<=ze.end;Ee++)if(!(fe[Ee]&s)){he=Fe[Ee];break}}pt.push({_seqIndices:tt,_sosType:Math.max(Z,D)%2?T:H,_eosType:Math.max(he,me)%2?T:H})}}for(var xe=0;xe<pt.length;xe++){var Te=pt[xe],J=Te._seqIndices,Fn=Te._sosType,Le=Te._eosType,He=Fe[J[0]]&1?T:H;if(ye.get(ke))for(var rn=0;rn<J.length;rn++){var an=J[rn];if(fe[an]&ke){for(var hn=Fn,_n=rn-1;_n>=0;_n--)if(!(fe[J[_n]]&s)){hn=fe[J[_n]];break}Re(an,hn&(a|ce)?K:hn)}}if(ye.get(N))for(var un=0;un<J.length;un++){var et=J[un];if(fe[et]&N)for(var Tn=un-1;Tn>=-1;Tn--){var Ct=Tn===-1?Fn:fe[J[Tn]];if(Ct&f){Ct===ne&&Re(et,z);break}}}if(ye.get(ne))for(var Dn=0;Dn<J.length;Dn++){var qn=J[Dn];fe[qn]&ne&&Re(qn,T)}if(ye.get(O)||ye.get(j))for(var ct=1;ct<J.length-1;ct++){var Ht=J[ct];if(fe[Ht]&(O|j)){for(var Qn=0,cn=0,vn=ct-1;vn>=0&&(Qn=fe[J[vn]],!!(Qn&s));vn--);for(var In=ct+1;In<J.length&&(cn=fe[J[In]],!!(cn&s));In++);Qn===cn&&(fe[Ht]===O?Qn===N:Qn&(N|z))&&Re(Ht,Qn)}}if(ye.get(N))for(var dn=0;dn<J.length;dn++){var ft=J[dn];if(fe[ft]&N){for(var Ut=dn-1;Ut>=0&&fe[J[Ut]]&(le|s);Ut--)Re(J[Ut],N);for(dn++;dn<J.length&&fe[J[dn]]&(le|s|N);dn++)fe[J[dn]]!==N&&Re(J[dn],N)}}if(ye.get(le)||ye.get(O)||ye.get(j))for(var Nn=0;Nn<J.length;Nn++){var Ft=J[Nn];if(fe[Ft]&(le|O|j)){Re(Ft,K);for(var Pr=Nn-1;Pr>=0&&fe[J[Pr]]&s;Pr--)Re(J[Pr],K);for(var Nr=Nn+1;Nr<J.length&&fe[J[Nr]]&s;Nr++)Re(J[Nr],K)}}if(ye.get(N))for(var Pa=0,Io=Fn;Pa<J.length;Pa++){var Do=J[Pa],Na=fe[Do];Na&N?Io===H&&Re(Do,H):Na&f&&(Io=Na)}if(ye.get(d)){var zr=T|N|z,Ao=zr|H,Lr=[];{for(var wr=[],Br=0;Br<J.length;Br++)if(fe[J[Br]]&d){var jr=ge[J[Br]],Ro=void 0;if(R(jr)!==null)if(wr.length<63)wr.push({char:jr,seqIndex:Br});else break;else if((Ro=I(jr))!==null)for(var Gr=wr.length-1;Gr>=0;Gr--){var ca=wr[Gr].char;if(ca===Ro||ca===I(F(jr))||R(F(ca))===jr){Lr.push([wr[Gr].seqIndex,Br]),wr.length=Gr;break}}}Lr.sort(function(St,Vt){return St[0]-Vt[0]})}for(var za=0;za<Lr.length;za++){for(var Oo=Lr[za],fa=Oo[0],La=Oo[1],Po=!1,Wt=0,Ba=fa+1;Ba<La;Ba++){var _r=J[Ba];if(fe[_r]&Ao){Po=!0;var No=fe[_r]&zr?T:H;if(No===He){Wt=No;break}}}if(Po&&!Wt){Wt=Fn;for(var Hr=fa-1;Hr>=0;Hr--){var da=J[Hr];if(fe[da]&Ao){var zo=fe[da]&zr?T:H;zo!==He?Wt=zo:Wt=He;break}}}if(Wt){if(fe[J[fa]]=fe[J[La]]=Wt,Wt!==He){for(var Er=fa+1;Er<J.length;Er++)if(!(fe[J[Er]]&s)){b(ge[J[Er]])&ke&&(fe[J[Er]]=Wt);break}}if(Wt!==He){for(var ha=La+1;ha<J.length;ha++)if(!(fe[J[ha]]&s)){b(ge[J[ha]])&ke&&(fe[J[ha]]=Wt);break}}}}for(var lr=0;lr<J.length;lr++)if(fe[J[lr]]&d){for(var Lo=lr,ja=lr,Ga=Fn,Wr=lr-1;Wr>=0;Wr--)if(fe[J[Wr]]&s)Lo=Wr;else{Ga=fe[J[Wr]]&zr?T:H;break}for(var Ha=Le,Vr=lr+1;Vr<J.length;Vr++)if(fe[J[Vr]]&(d|s))ja=Vr;else{Ha=fe[J[Vr]]&zr?T:H;break}for(var Wa=Lo;Wa<=ja;Wa++)fe[J[Wa]]=Ga===Ha?Ga:He;lr=ja}}}for(var bt=ze.start;bt<=ze.end;bt++){var _i=Fe[bt],pa=fe[bt];if(_i&1?pa&(H|N|z)&&Fe[bt]++:pa&T?Fe[bt]++:pa&(z|N)&&(Fe[bt]+=2),pa&s&&(Fe[bt]=bt===0?ze.level:Fe[bt-1]),bt===ze.end||b(ge[bt])&(ie|P))for(var va=bt;va>=0&&b(ge[va])&h;va--)Fe[va]=ze.level}}return{levels:Fe,paragraphs:Ne};function Va(St,Vt){for(var It=St;It<ge.length;It++){var sr=fe[It];if(sr&(T|ne))return 1;if(sr&(P|H)||Vt&&sr===ce)return 0;if(sr&a){var Xr=Ei(It);It=Xr===-1?ge.length:Xr}}return 0}function Ei(St){for(var Vt=1,It=St+1;It<ge.length;It++){var sr=fe[It];if(sr&P)break;if(sr&ce){if(--Vt===0)return It}else sr&a&&Vt++}return-1}}var Ge="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",_e;function de(){if(!_e){var ge=M(Ge,!0),je=ge.map,Ae=ge.reverseMap;Ae.forEach(function(fe,Qe){je.set(Qe,fe)}),_e=je}}function Ke(ge){return de(),_e.get(ge)||null}function Ye(ge,je,Ae,fe){var Qe=ge.length;Ae=Math.max(0,Ae==null?0:+Ae),fe=Math.min(Qe-1,fe==null?Qe-1:+fe);for(var ye=new Map,Re=Ae;Re<=fe;Re++)if(je[Re]&1){var Fe=Ke(ge[Re]);Fe!==null&&ye.set(Re,Fe)}return ye}function Ie(ge,je,Ae,fe){var Qe=ge.length;Ae=Math.max(0,Ae==null?0:+Ae),fe=Math.min(Qe-1,fe==null?Qe-1:+fe);var ye=[];return je.paragraphs.forEach(function(Re){var Fe=Math.max(Ae,Re.start),yn=Math.min(fe,Re.end);if(Fe<yn){for(var Ne=je.levels.slice(Fe,yn+1),ze=yn;ze>=Fe&&b(ge[ze])&h;ze--)Ne[ze]=Re.level;for(var Oe=Re.level,$e=1/0,Cn=0;Cn<Ne.length;Cn++){var Pn=Ne[Cn];Pn>Oe&&(Oe=Pn),Pn<$e&&($e=Pn|1)}for(var ln=Oe;ln>=$e;ln--)for(var Ze=0;Ze<Ne.length;Ze++)if(Ne[Ze]>=ln){for(var Ve=Ze;Ze+1<Ne.length&&Ne[Ze+1]>=ln;)Ze++;Ze>Ve&&ye.push([Ve+Fe,Ze+Fe])}}}),ye}function De(ge,je,Ae,fe){var Qe=Pe(ge,je,Ae,fe),ye=[].concat(ge);return Qe.forEach(function(Re,Fe){ye[Fe]=(je.levels[Re]&1?Ke(ge[Re]):null)||ge[Re]}),ye.join("")}function Pe(ge,je,Ae,fe){for(var Qe=Ie(ge,je,Ae,fe),ye=[],Re=0;Re<ge.length;Re++)ye[Re]=Re;return Qe.forEach(function(Fe){for(var yn=Fe[0],Ne=Fe[1],ze=ye.slice(yn,Ne+1),Oe=ze.length;Oe--;)ye[Ne-Oe]=ze[Oe]}),ye}return t.closingToOpeningBracket=I,t.getBidiCharType=b,t.getBidiCharTypeName=S,t.getCanonicalBracket=F,t.getEmbeddingLevels=Me,t.getMirroredCharacter=Ke,t.getMirroredCharactersMap=Ye,t.getReorderSegments=Ie,t.getReorderedIndices=Pe,t.getReorderedString=De,t.openingToClosingBracket=R,Object.defineProperty(t,"__esModule",{value:!0}),t})({});return l}const uh=/\bvoid\s+main\s*\(\s*\)\s*{/g;function gu(l){const t=/^[ \t]*#include +<([\w\d./]+)>/gm;function p(u,o){let a=Jv[o];return a?gu(a):u}return l.replace(t,p)}const xt=[];for(let l=0;l<256;l++)xt[l]=(l<16?"0":"")+l.toString(16);function d0(){const l=Math.random()*4294967295|0,t=Math.random()*4294967295|0,p=Math.random()*4294967295|0,u=Math.random()*4294967295|0;return(xt[l&255]+xt[l>>8&255]+xt[l>>16&255]+xt[l>>24&255]+"-"+xt[t&255]+xt[t>>8&255]+"-"+xt[t>>16&15|64]+xt[t>>24&255]+"-"+xt[p&63|128]+xt[p>>8&255]+"-"+xt[p>>16&255]+xt[p>>24&255]+xt[u&255]+xt[u>>8&255]+xt[u>>16&255]+xt[u>>24&255]).toUpperCase()}const Fa=Object.assign||function(){let l=arguments[0];for(let t=1,p=arguments.length;t<p;t++){let u=arguments[t];if(u)for(let o in u)Object.prototype.hasOwnProperty.call(u,o)&&(l[o]=u[o])}return l},h0=Date.now(),sd=new WeakMap,ud=new Map;let p0=1e10;function yu(l,t){const p=y0(t);let u=sd.get(l);if(u||sd.set(l,u=Object.create(null)),u[p])return new u[p];const o=`_onBeforeCompile${p}`,a=function(h,m){l.onBeforeCompile.call(this,h,m);const g=this.customProgramCacheKey()+"|"+h.vertexShader+"|"+h.fragmentShader;let b=ud[g];if(!b){const S=v0(this,h,t,p);b=ud[g]=S}h.vertexShader=b.vertexShader,h.fragmentShader=b.fragmentShader,Fa(h.uniforms,this.uniforms),t.timeUniform&&(h.uniforms[t.timeUniform]={get value(){return Date.now()-h0}}),this[o]&&this[o](h)},f=function(){return d(t.chained?l:l.clone())},d=function(h){const m=Object.create(h,s);return Object.defineProperty(m,"baseMaterial",{value:l}),Object.defineProperty(m,"id",{value:p0++}),m.uuid=d0(),m.uniforms=Fa({},h.uniforms,t.uniforms),m.defines=Fa({},h.defines,t.defines),m.defines[`TROIKA_DERIVED_MATERIAL_${p}`]="",m.extensions=Fa({},h.extensions,t.extensions),m._listeners=void 0,m},s={constructor:{value:f},isDerivedMaterial:{value:!0},type:{get:()=>l.type,set:h=>{l.type=h}},isDerivedFrom:{writable:!0,configurable:!0,value:function(h){const m=this.baseMaterial;return h===m||m.isDerivedMaterial&&m.isDerivedFrom(h)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return l.customProgramCacheKey()+"|"+p}},onBeforeCompile:{get(){return a},set(h){this[o]=h}},copy:{writable:!0,configurable:!0,value:function(h){return l.copy.call(this,h),!l.isShaderMaterial&&!l.isDerivedMaterial&&(Fa(this.extensions,h.extensions),Fa(this.defines,h.defines),Fa(this.uniforms,Kv.clone(h.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const h=new l.constructor;return d(h).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let h=this._depthMaterial;return h||(h=this._depthMaterial=yu(l.isDerivedMaterial?l.getDepthMaterial():new Ud({depthPacking:Qv}),t),h.defines.IS_DEPTH_MATERIAL="",h.uniforms=this.uniforms),h}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let h=this._distanceMaterial;return h||(h=this._distanceMaterial=yu(l.isDerivedMaterial?l.getDistanceMaterial():new qv,t),h.defines.IS_DISTANCE_MATERIAL="",h.uniforms=this.uniforms),h}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:h,_distanceMaterial:m}=this;h&&h.dispose(),m&&m.dispose(),l.dispose.call(this)}}};return u[p]=f,new f}function v0(l,{vertexShader:t,fragmentShader:p},u,o){let{vertexDefs:a,vertexMainIntro:f,vertexMainOutro:d,vertexTransform:s,fragmentDefs:h,fragmentMainIntro:m,fragmentMainOutro:g,fragmentColorTransform:b,customRewriter:S,timeUniform:E}=u;if(a=a||"",f=f||"",d=d||"",h=h||"",m=m||"",g=g||"",(s||S)&&(t=gu(t)),(b||S)&&(p=p.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),p=gu(p)),S){let M=S({vertexShader:t,fragmentShader:p});t=M.vertexShader,p=M.fragmentShader}if(b){let M=[];p=p.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,k=>(M.push(k),"")),g=`${b}
${M.join(`
`)}
${g}`}if(E){const M=`
uniform float ${E};
`;a=M+a,h=M+h}return s&&(t=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${t}
`,a=`${a}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,f=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${f}
`,t=t.replace(/\b(position|normal|uv)\b/g,(M,k,U,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,U))?k:`troika_${k}_${o}`),l.map&&l.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),t=cd(t,o,a,f,d),p=cd(p,o,h,m,g),{vertexShader:t,fragmentShader:p}}function cd(l,t,p,u,o){return(u||o||p)&&(l=l.replace(uh,`
${p}
void troikaOrigMain${t}() {`),l+=`
void main() {
  ${u}
  troikaOrigMain${t}();
  ${o}
}`),l}function m0(l,t){return l==="uniforms"?void 0:typeof t=="function"?t.toString():t}let g0=0;const fd=new Map;function y0(l){const t=JSON.stringify(l,m0);let p=fd.get(t);return p==null&&fd.set(t,p=++g0),p}function b0(){return typeof window>"u"&&(self.window=self),(function(l){var t={parse:function(o){var a=t._bin,f=new Uint8Array(o);if(a.readASCII(f,0,4)=="ttcf"){var d=4;a.readUshort(f,d),d+=2,a.readUshort(f,d),d+=2;var s=a.readUint(f,d);d+=4;for(var h=[],m=0;m<s;m++){var g=a.readUint(f,d);d+=4,h.push(t._readFont(f,g))}return h}return[t._readFont(f,0)]},_readFont:function(o,a){var f=t._bin,d=a;f.readFixed(o,a),a+=4;var s=f.readUshort(o,a);a+=2,f.readUshort(o,a),a+=2,f.readUshort(o,a),a+=2,f.readUshort(o,a),a+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],m={_data:o,_offset:d},g={},b=0;b<s;b++){var S=f.readASCII(o,a,4);a+=4,f.readUint(o,a),a+=4;var E=f.readUint(o,a);a+=4;var M=f.readUint(o,a);a+=4,g[S]={offset:E,length:M}}for(b=0;b<h.length;b++){var k=h[b];g[k]&&(m[k.trim()]=t[k.trim()].parse(o,g[k].offset,g[k].length,m))}return m},_tabOffset:function(o,a,f){for(var d=t._bin,s=d.readUshort(o,f+4),h=f+12,m=0;m<s;m++){var g=d.readASCII(o,h,4);h+=4,d.readUint(o,h),h+=4;var b=d.readUint(o,h);if(h+=4,d.readUint(o,h),h+=4,g==a)return b}return 0}};t._bin={readFixed:function(o,a){return(o[a]<<8|o[a+1])+(o[a+2]<<8|o[a+3])/65540},readF2dot14:function(o,a){return t._bin.readShort(o,a)/16384},readInt:function(o,a){return t._bin._view(o).getInt32(a)},readInt8:function(o,a){return t._bin._view(o).getInt8(a)},readShort:function(o,a){return t._bin._view(o).getInt16(a)},readUshort:function(o,a){return t._bin._view(o).getUint16(a)},readUshorts:function(o,a,f){for(var d=[],s=0;s<f;s++)d.push(t._bin.readUshort(o,a+2*s));return d},readUint:function(o,a){return t._bin._view(o).getUint32(a)},readUint64:function(o,a){return 4294967296*t._bin.readUint(o,a)+t._bin.readUint(o,a+4)},readASCII:function(o,a,f){for(var d="",s=0;s<f;s++)d+=String.fromCharCode(o[a+s]);return d},readUnicode:function(o,a,f){for(var d="",s=0;s<f;s++){var h=o[a++]<<8|o[a++];d+=String.fromCharCode(h)}return d},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,a,f){var d=t._bin._tdec;return d&&a==0&&f==o.length?d.decode(o):t._bin.readASCII(o,a,f)},readBytes:function(o,a,f){for(var d=[],s=0;s<f;s++)d.push(o[a+s]);return d},readASCIIArray:function(o,a,f){for(var d=[],s=0;s<f;s++)d.push(String.fromCharCode(o[a+s]));return d},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},t._lctf={},t._lctf.parse=function(o,a,f,d,s){var h=t._bin,m={},g=a;h.readFixed(o,a),a+=4;var b=h.readUshort(o,a);a+=2;var S=h.readUshort(o,a);a+=2;var E=h.readUshort(o,a);return a+=2,m.scriptList=t._lctf.readScriptList(o,g+b),m.featureList=t._lctf.readFeatureList(o,g+S),m.lookupList=t._lctf.readLookupList(o,g+E,s),m},t._lctf.readLookupList=function(o,a,f){var d=t._bin,s=a,h=[],m=d.readUshort(o,a);a+=2;for(var g=0;g<m;g++){var b=d.readUshort(o,a);a+=2;var S=t._lctf.readLookupTable(o,s+b,f);h.push(S)}return h},t._lctf.readLookupTable=function(o,a,f){var d=t._bin,s=a,h={tabs:[]};h.ltype=d.readUshort(o,a),a+=2,h.flag=d.readUshort(o,a),a+=2;var m=d.readUshort(o,a);a+=2;for(var g=h.ltype,b=0;b<m;b++){var S=d.readUshort(o,a);a+=2;var E=f(o,g,s+S,h);h.tabs.push(E)}return h},t._lctf.numOfOnes=function(o){for(var a=0,f=0;f<32;f++)(o>>>f&1)!=0&&a++;return a},t._lctf.readClassDef=function(o,a){var f=t._bin,d=[],s=f.readUshort(o,a);if(a+=2,s==1){var h=f.readUshort(o,a);a+=2;var m=f.readUshort(o,a);a+=2;for(var g=0;g<m;g++)d.push(h+g),d.push(h+g),d.push(f.readUshort(o,a)),a+=2}if(s==2){var b=f.readUshort(o,a);for(a+=2,g=0;g<b;g++)d.push(f.readUshort(o,a)),a+=2,d.push(f.readUshort(o,a)),a+=2,d.push(f.readUshort(o,a)),a+=2}return d},t._lctf.getInterval=function(o,a){for(var f=0;f<o.length;f+=3){var d=o[f],s=o[f+1];if(o[f+2],d<=a&&a<=s)return f}return-1},t._lctf.readCoverage=function(o,a){var f=t._bin,d={};d.fmt=f.readUshort(o,a),a+=2;var s=f.readUshort(o,a);return a+=2,d.fmt==1&&(d.tab=f.readUshorts(o,a,s)),d.fmt==2&&(d.tab=f.readUshorts(o,a,3*s)),d},t._lctf.coverageIndex=function(o,a){var f=o.tab;if(o.fmt==1)return f.indexOf(a);if(o.fmt==2){var d=t._lctf.getInterval(f,a);if(d!=-1)return f[d+2]+(a-f[d])}return-1},t._lctf.readFeatureList=function(o,a){var f=t._bin,d=a,s=[],h=f.readUshort(o,a);a+=2;for(var m=0;m<h;m++){var g=f.readASCII(o,a,4);a+=4;var b=f.readUshort(o,a);a+=2;var S=t._lctf.readFeatureTable(o,d+b);S.tag=g.trim(),s.push(S)}return s},t._lctf.readFeatureTable=function(o,a){var f=t._bin,d=a,s={},h=f.readUshort(o,a);a+=2,h>0&&(s.featureParams=d+h);var m=f.readUshort(o,a);a+=2,s.tab=[];for(var g=0;g<m;g++)s.tab.push(f.readUshort(o,a+2*g));return s},t._lctf.readScriptList=function(o,a){var f=t._bin,d=a,s={},h=f.readUshort(o,a);a+=2;for(var m=0;m<h;m++){var g=f.readASCII(o,a,4);a+=4;var b=f.readUshort(o,a);a+=2,s[g.trim()]=t._lctf.readScriptTable(o,d+b)}return s},t._lctf.readScriptTable=function(o,a){var f=t._bin,d=a,s={},h=f.readUshort(o,a);a+=2,h>0&&(s.default=t._lctf.readLangSysTable(o,d+h));var m=f.readUshort(o,a);a+=2;for(var g=0;g<m;g++){var b=f.readASCII(o,a,4);a+=4;var S=f.readUshort(o,a);a+=2,s[b.trim()]=t._lctf.readLangSysTable(o,d+S)}return s},t._lctf.readLangSysTable=function(o,a){var f=t._bin,d={};f.readUshort(o,a),a+=2,d.reqFeature=f.readUshort(o,a),a+=2;var s=f.readUshort(o,a);return a+=2,d.features=f.readUshorts(o,a,s),d},t.CFF={},t.CFF.parse=function(o,a,f){var d=t._bin;(o=new Uint8Array(o.buffer,a,f))[a=0],o[++a],o[++a],o[++a],a++;var s=[];a=t.CFF.readIndex(o,a,s);for(var h=[],m=0;m<s.length-1;m++)h.push(d.readASCII(o,a+s[m],s[m+1]-s[m]));a+=s[s.length-1];var g=[];a=t.CFF.readIndex(o,a,g);var b=[];for(m=0;m<g.length-1;m++)b.push(t.CFF.readDict(o,a+g[m],a+g[m+1]));a+=g[g.length-1];var S=b[0],E=[];a=t.CFF.readIndex(o,a,E);var M=[];for(m=0;m<E.length-1;m++)M.push(d.readASCII(o,a+E[m],E[m+1]-E[m]));if(a+=E[E.length-1],t.CFF.readSubrs(o,a,S),S.CharStrings){a=S.CharStrings,E=[],a=t.CFF.readIndex(o,a,E);var k=[];for(m=0;m<E.length-1;m++)k.push(d.readBytes(o,a+E[m],E[m+1]-E[m]));S.CharStrings=k}if(S.ROS){a=S.FDArray;var U=[];for(a=t.CFF.readIndex(o,a,U),S.FDArray=[],m=0;m<U.length-1;m++){var x=t.CFF.readDict(o,a+U[m],a+U[m+1]);t.CFF._readFDict(o,x,M),S.FDArray.push(x)}a+=U[U.length-1],a=S.FDSelect,S.FDSelect=[];var G=o[a];if(a++,G!=3)throw G;var R=d.readUshort(o,a);for(a+=2,m=0;m<R+1;m++)S.FDSelect.push(d.readUshort(o,a),o[a+2]),a+=3}return S.Encoding&&(S.Encoding=t.CFF.readEncoding(o,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=t.CFF.readCharset(o,S.charset,S.CharStrings.length)),t.CFF._readFDict(o,S,M),S},t.CFF._readFDict=function(o,a,f){var d;for(var s in a.Private&&(d=a.Private[1],a.Private=t.CFF.readDict(o,d,d+a.Private[0]),a.Private.Subrs&&t.CFF.readSubrs(o,d+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(s)!=-1&&(a[s]=f[a[s]-426+35])},t.CFF.readSubrs=function(o,a,f){var d=t._bin,s=[];a=t.CFF.readIndex(o,a,s);var h,m=s.length;h=m<1240?107:m<33900?1131:32768,f.Bias=h,f.Subrs=[];for(var g=0;g<s.length-1;g++)f.Subrs.push(d.readBytes(o,a+s[g],s[g+1]-s[g]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(o,a){for(var f=0;f<o.charset.length;f++)if(o.charset[f]==a)return f;return-1},t.CFF.glyphBySE=function(o,a){return a<0||a>255?-1:t.CFF.glyphByUnicode(o,t.CFF.tableSE[a])},t.CFF.readEncoding=function(o,a,f){t._bin;var d=[".notdef"],s=o[a];if(a++,s!=0)throw"error: unknown encoding format: "+s;var h=o[a];a++;for(var m=0;m<h;m++)d.push(o[a+m]);return d},t.CFF.readCharset=function(o,a,f){var d=t._bin,s=[".notdef"],h=o[a];if(a++,h==0)for(var m=0;m<f;m++){var g=d.readUshort(o,a);a+=2,s.push(g)}else{if(h!=1&&h!=2)throw"error: format: "+h;for(;s.length<f;){g=d.readUshort(o,a),a+=2;var b=0;for(h==1?(b=o[a],a++):(b=d.readUshort(o,a),a+=2),m=0;m<=b;m++)s.push(g),g++}}return s},t.CFF.readIndex=function(o,a,f){var d=t._bin,s=d.readUshort(o,a)+1,h=o[a+=2];if(a++,h==1)for(var m=0;m<s;m++)f.push(o[a+m]);else if(h==2)for(m=0;m<s;m++)f.push(d.readUshort(o,a+2*m));else if(h==3)for(m=0;m<s;m++)f.push(16777215&d.readUint(o,a+3*m-1));else if(s!=1)throw"unsupported offset size: "+h+", count: "+s;return(a+=s*h)-1},t.CFF.getCharString=function(o,a,f){var d=t._bin,s=o[a],h=o[a+1];o[a+2],o[a+3],o[a+4];var m=1,g=null,b=null;s<=20&&(g=s,m=1),s==12&&(g=100*s+h,m=2),21<=s&&s<=27&&(g=s,m=1),s==28&&(b=d.readShort(o,a+1),m=3),29<=s&&s<=31&&(g=s,m=1),32<=s&&s<=246&&(b=s-139,m=1),247<=s&&s<=250&&(b=256*(s-247)+h+108,m=2),251<=s&&s<=254&&(b=256*-(s-251)-h-108,m=2),s==255&&(b=d.readInt(o,a+1)/65535,m=5),f.val=b??"o"+g,f.size=m},t.CFF.readCharString=function(o,a,f){for(var d=a+f,s=t._bin,h=[];a<d;){var m=o[a],g=o[a+1];o[a+2],o[a+3],o[a+4];var b=1,S=null,E=null;m<=20&&(S=m,b=1),m==12&&(S=100*m+g,b=2),m!=19&&m!=20||(S=m,b=2),21<=m&&m<=27&&(S=m,b=1),m==28&&(E=s.readShort(o,a+1),b=3),29<=m&&m<=31&&(S=m,b=1),32<=m&&m<=246&&(E=m-139,b=1),247<=m&&m<=250&&(E=256*(m-247)+g+108,b=2),251<=m&&m<=254&&(E=256*-(m-251)-g-108,b=2),m==255&&(E=s.readInt(o,a+1)/65535,b=5),h.push(E??"o"+S),a+=b}return h},t.CFF.readDict=function(o,a,f){for(var d=t._bin,s={},h=[];a<f;){var m=o[a],g=o[a+1];o[a+2],o[a+3],o[a+4];var b=1,S=null,E=null;if(m==28&&(E=d.readShort(o,a+1),b=3),m==29&&(E=d.readInt(o,a+1),b=5),32<=m&&m<=246&&(E=m-139,b=1),247<=m&&m<=250&&(E=256*(m-247)+g+108,b=2),251<=m&&m<=254&&(E=256*-(m-251)-g-108,b=2),m==255)throw E=d.readInt(o,a+1)/65535,b=5,"unknown number";if(m==30){var M=[];for(b=1;;){var k=o[a+b];b++;var U=k>>4,x=15&k;if(U!=15&&M.push(U),x!=15&&M.push(x),x==15)break}for(var G="",R=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],I=0;I<M.length;I++)G+=R[M[I]];E=parseFloat(G)}m<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][m],b=1,m==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][g],b=2)),S!=null?(s[S]=h.length==1?h[0]:h,h=[]):h.push(E),a+=b}return s},t.cmap={},t.cmap.parse=function(o,a,f){o=new Uint8Array(o.buffer,a,f),a=0;var d=t._bin,s={};d.readUshort(o,a),a+=2;var h=d.readUshort(o,a);a+=2;var m=[];s.tables=[];for(var g=0;g<h;g++){var b=d.readUshort(o,a);a+=2;var S=d.readUshort(o,a);a+=2;var E=d.readUint(o,a);a+=4;var M="p"+b+"e"+S,k=m.indexOf(E);if(k==-1){var U;k=s.tables.length,m.push(E);var x=d.readUshort(o,E);x==0?U=t.cmap.parse0(o,E):x==4?U=t.cmap.parse4(o,E):x==6?U=t.cmap.parse6(o,E):x==12?U=t.cmap.parse12(o,E):console.debug("unknown format: "+x,b,S,E),s.tables.push(U)}if(s[M]!=null)throw"multiple tables for one platform+encoding";s[M]=k}return s},t.cmap.parse0=function(o,a){var f=t._bin,d={};d.format=f.readUshort(o,a),a+=2;var s=f.readUshort(o,a);a+=2,f.readUshort(o,a),a+=2,d.map=[];for(var h=0;h<s-6;h++)d.map.push(o[a+h]);return d},t.cmap.parse4=function(o,a){var f=t._bin,d=a,s={};s.format=f.readUshort(o,a),a+=2;var h=f.readUshort(o,a);a+=2,f.readUshort(o,a),a+=2;var m=f.readUshort(o,a);a+=2;var g=m/2;s.searchRange=f.readUshort(o,a),a+=2,s.entrySelector=f.readUshort(o,a),a+=2,s.rangeShift=f.readUshort(o,a),a+=2,s.endCount=f.readUshorts(o,a,g),a+=2*g,a+=2,s.startCount=f.readUshorts(o,a,g),a+=2*g,s.idDelta=[];for(var b=0;b<g;b++)s.idDelta.push(f.readShort(o,a)),a+=2;for(s.idRangeOffset=f.readUshorts(o,a,g),a+=2*g,s.glyphIdArray=[];a<d+h;)s.glyphIdArray.push(f.readUshort(o,a)),a+=2;return s},t.cmap.parse6=function(o,a){var f=t._bin,d={};d.format=f.readUshort(o,a),a+=2,f.readUshort(o,a),a+=2,f.readUshort(o,a),a+=2,d.firstCode=f.readUshort(o,a),a+=2;var s=f.readUshort(o,a);a+=2,d.glyphIdArray=[];for(var h=0;h<s;h++)d.glyphIdArray.push(f.readUshort(o,a)),a+=2;return d},t.cmap.parse12=function(o,a){var f=t._bin,d={};d.format=f.readUshort(o,a),a+=2,a+=2,f.readUint(o,a),a+=4,f.readUint(o,a),a+=4;var s=f.readUint(o,a);a+=4,d.groups=[];for(var h=0;h<s;h++){var m=a+12*h,g=f.readUint(o,m+0),b=f.readUint(o,m+4),S=f.readUint(o,m+8);d.groups.push([g,b,S])}return d},t.glyf={},t.glyf.parse=function(o,a,f,d){for(var s=[],h=0;h<d.maxp.numGlyphs;h++)s.push(null);return s},t.glyf._parseGlyf=function(o,a){var f=t._bin,d=o._data,s=t._tabOffset(d,"glyf",o._offset)+o.loca[a];if(o.loca[a]==o.loca[a+1])return null;var h={};if(h.noc=f.readShort(d,s),s+=2,h.xMin=f.readShort(d,s),s+=2,h.yMin=f.readShort(d,s),s+=2,h.xMax=f.readShort(d,s),s+=2,h.yMax=f.readShort(d,s),s+=2,h.xMin>=h.xMax||h.yMin>=h.yMax)return null;if(h.noc>0){h.endPts=[];for(var m=0;m<h.noc;m++)h.endPts.push(f.readUshort(d,s)),s+=2;var g=f.readUshort(d,s);if(s+=2,d.length-s<g)return null;h.instructions=f.readBytes(d,s,g),s+=g;var b=h.endPts[h.noc-1]+1;for(h.flags=[],m=0;m<b;m++){var S=d[s];if(s++,h.flags.push(S),(8&S)!=0){var E=d[s];s++;for(var M=0;M<E;M++)h.flags.push(S),m++}}for(h.xs=[],m=0;m<b;m++){var k=(2&h.flags[m])!=0,U=(16&h.flags[m])!=0;k?(h.xs.push(U?d[s]:-d[s]),s++):U?h.xs.push(0):(h.xs.push(f.readShort(d,s)),s+=2)}for(h.ys=[],m=0;m<b;m++)k=(4&h.flags[m])!=0,U=(32&h.flags[m])!=0,k?(h.ys.push(U?d[s]:-d[s]),s++):U?h.ys.push(0):(h.ys.push(f.readShort(d,s)),s+=2);var x=0,G=0;for(m=0;m<b;m++)x+=h.xs[m],G+=h.ys[m],h.xs[m]=x,h.ys[m]=G}else{var R;h.parts=[];do{R=f.readUshort(d,s),s+=2;var I={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(h.parts.push(I),I.glyphIndex=f.readUshort(d,s),s+=2,1&R){var F=f.readShort(d,s);s+=2;var H=f.readShort(d,s);s+=2}else F=f.readInt8(d,s),s++,H=f.readInt8(d,s),s++;2&R?(I.m.tx=F,I.m.ty=H):(I.p1=F,I.p2=H),8&R?(I.m.a=I.m.d=f.readF2dot14(d,s),s+=2):64&R?(I.m.a=f.readF2dot14(d,s),s+=2,I.m.d=f.readF2dot14(d,s),s+=2):128&R&&(I.m.a=f.readF2dot14(d,s),s+=2,I.m.b=f.readF2dot14(d,s),s+=2,I.m.c=f.readF2dot14(d,s),s+=2,I.m.d=f.readF2dot14(d,s),s+=2)}while(32&R);if(256&R){var T=f.readUshort(d,s);for(s+=2,h.instr=[],m=0;m<T;m++)h.instr.push(d[s]),s++}}return h},t.GDEF={},t.GDEF.parse=function(o,a,f,d){var s=a;a+=4;var h=t._bin.readUshort(o,a);return{glyphClassDef:h===0?null:t._lctf.readClassDef(o,s+h)}},t.GPOS={},t.GPOS.parse=function(o,a,f,d){return t._lctf.parse(o,a,f,d,t.GPOS.subt)},t.GPOS.subt=function(o,a,f,d){var s=t._bin,h=f,m={};if(m.fmt=s.readUshort(o,f),f+=2,a==1||a==2||a==3||a==7||a==8&&m.fmt<=2){var g=s.readUshort(o,f);f+=2,m.coverage=t._lctf.readCoverage(o,g+h)}if(a==1&&m.fmt==1){var b=s.readUshort(o,f);f+=2,b!=0&&(m.pos=t.GPOS.readValueRecord(o,f,b))}else if(a==2&&m.fmt>=1&&m.fmt<=2){b=s.readUshort(o,f),f+=2;var S=s.readUshort(o,f);f+=2;var E=t._lctf.numOfOnes(b),M=t._lctf.numOfOnes(S);if(m.fmt==1){m.pairsets=[];var k=s.readUshort(o,f);f+=2;for(var U=0;U<k;U++){var x=h+s.readUshort(o,f);f+=2;var G=s.readUshort(o,x);x+=2;for(var R=[],I=0;I<G;I++){var F=s.readUshort(o,x);x+=2,b!=0&&(z=t.GPOS.readValueRecord(o,x,b),x+=2*E),S!=0&&(j=t.GPOS.readValueRecord(o,x,S),x+=2*M),R.push({gid2:F,val1:z,val2:j})}m.pairsets.push(R)}}if(m.fmt==2){var H=s.readUshort(o,f);f+=2;var T=s.readUshort(o,f);f+=2;var N=s.readUshort(o,f);f+=2;var O=s.readUshort(o,f);for(f+=2,m.classDef1=t._lctf.readClassDef(o,h+H),m.classDef2=t._lctf.readClassDef(o,h+T),m.matrix=[],U=0;U<N;U++){var le=[];for(I=0;I<O;I++){var z=null,j=null;b!=0&&(z=t.GPOS.readValueRecord(o,f,b),f+=2*E),S!=0&&(j=t.GPOS.readValueRecord(o,f,S),f+=2*M),le.push({val1:z,val2:j})}m.matrix.push(le)}}}else if(a==4&&m.fmt==1)m.markCoverage=t._lctf.readCoverage(o,s.readUshort(o,f)+h),m.baseCoverage=t._lctf.readCoverage(o,s.readUshort(o,f+2)+h),m.markClassCount=s.readUshort(o,f+4),m.markArray=t.GPOS.readMarkArray(o,s.readUshort(o,f+6)+h),m.baseArray=t.GPOS.readBaseArray(o,s.readUshort(o,f+8)+h,m.markClassCount);else if(a==6&&m.fmt==1)m.mark1Coverage=t._lctf.readCoverage(o,s.readUshort(o,f)+h),m.mark2Coverage=t._lctf.readCoverage(o,s.readUshort(o,f+2)+h),m.markClassCount=s.readUshort(o,f+4),m.mark1Array=t.GPOS.readMarkArray(o,s.readUshort(o,f+6)+h),m.mark2Array=t.GPOS.readBaseArray(o,s.readUshort(o,f+8)+h,m.markClassCount);else{if(a==9&&m.fmt==1){var P=s.readUshort(o,f);f+=2;var ie=s.readUint(o,f);if(f+=4,d.ltype==9)d.ltype=P;else if(d.ltype!=P)throw"invalid extension substitution";return t.GPOS.subt(o,d.ltype,h+ie)}console.debug("unsupported GPOS table LookupType",a,"format",m.fmt)}return m},t.GPOS.readValueRecord=function(o,a,f){var d=t._bin,s=[];return s.push(1&f?d.readShort(o,a):0),a+=1&f?2:0,s.push(2&f?d.readShort(o,a):0),a+=2&f?2:0,s.push(4&f?d.readShort(o,a):0),a+=4&f?2:0,s.push(8&f?d.readShort(o,a):0),a+=8&f?2:0,s},t.GPOS.readBaseArray=function(o,a,f){var d=t._bin,s=[],h=a,m=d.readUshort(o,a);a+=2;for(var g=0;g<m;g++){for(var b=[],S=0;S<f;S++)b.push(t.GPOS.readAnchorRecord(o,h+d.readUshort(o,a))),a+=2;s.push(b)}return s},t.GPOS.readMarkArray=function(o,a){var f=t._bin,d=[],s=a,h=f.readUshort(o,a);a+=2;for(var m=0;m<h;m++){var g=t.GPOS.readAnchorRecord(o,f.readUshort(o,a+2)+s);g.markClass=f.readUshort(o,a),d.push(g),a+=4}return d},t.GPOS.readAnchorRecord=function(o,a){var f=t._bin,d={};return d.fmt=f.readUshort(o,a),d.x=f.readShort(o,a+2),d.y=f.readShort(o,a+4),d},t.GSUB={},t.GSUB.parse=function(o,a,f,d){return t._lctf.parse(o,a,f,d,t.GSUB.subt)},t.GSUB.subt=function(o,a,f,d){var s=t._bin,h=f,m={};if(m.fmt=s.readUshort(o,f),f+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&m.fmt<=2||a==6&&m.fmt<=2){var g=s.readUshort(o,f);f+=2,m.coverage=t._lctf.readCoverage(o,h+g)}if(a==1&&m.fmt>=1&&m.fmt<=2){if(m.fmt==1)m.delta=s.readShort(o,f),f+=2;else if(m.fmt==2){var b=s.readUshort(o,f);f+=2,m.newg=s.readUshorts(o,f,b),f+=2*m.newg.length}}else if(a==2&&m.fmt==1){b=s.readUshort(o,f),f+=2,m.seqs=[];for(var S=0;S<b;S++){var E=s.readUshort(o,f)+h;f+=2;var M=s.readUshort(o,E);m.seqs.push(s.readUshorts(o,E+2,M))}}else if(a==4)for(m.vals=[],b=s.readUshort(o,f),f+=2,S=0;S<b;S++){var k=s.readUshort(o,f);f+=2,m.vals.push(t.GSUB.readLigatureSet(o,h+k))}else if(a==5&&m.fmt==2){if(m.fmt==2){var U=s.readUshort(o,f);f+=2,m.cDef=t._lctf.readClassDef(o,h+U),m.scset=[];var x=s.readUshort(o,f);for(f+=2,S=0;S<x;S++){var G=s.readUshort(o,f);f+=2,m.scset.push(G==0?null:t.GSUB.readSubClassSet(o,h+G))}}}else if(a==6&&m.fmt==3){if(m.fmt==3){for(S=0;S<3;S++){b=s.readUshort(o,f),f+=2;for(var R=[],I=0;I<b;I++)R.push(t._lctf.readCoverage(o,h+s.readUshort(o,f+2*I)));f+=2*b,S==0&&(m.backCvg=R),S==1&&(m.inptCvg=R),S==2&&(m.ahedCvg=R)}b=s.readUshort(o,f),f+=2,m.lookupRec=t.GSUB.readSubstLookupRecords(o,f,b)}}else{if(a==7&&m.fmt==1){var F=s.readUshort(o,f);f+=2;var H=s.readUint(o,f);if(f+=4,d.ltype==9)d.ltype=F;else if(d.ltype!=F)throw"invalid extension substitution";return t.GSUB.subt(o,d.ltype,h+H)}console.debug("unsupported GSUB table LookupType",a,"format",m.fmt)}return m},t.GSUB.readSubClassSet=function(o,a){var f=t._bin.readUshort,d=a,s=[],h=f(o,a);a+=2;for(var m=0;m<h;m++){var g=f(o,a);a+=2,s.push(t.GSUB.readSubClassRule(o,d+g))}return s},t.GSUB.readSubClassRule=function(o,a){var f=t._bin.readUshort,d={},s=f(o,a),h=f(o,a+=2);a+=2,d.input=[];for(var m=0;m<s-1;m++)d.input.push(f(o,a)),a+=2;return d.substLookupRecords=t.GSUB.readSubstLookupRecords(o,a,h),d},t.GSUB.readSubstLookupRecords=function(o,a,f){for(var d=t._bin.readUshort,s=[],h=0;h<f;h++)s.push(d(o,a),d(o,a+2)),a+=4;return s},t.GSUB.readChainSubClassSet=function(o,a){var f=t._bin,d=a,s=[],h=f.readUshort(o,a);a+=2;for(var m=0;m<h;m++){var g=f.readUshort(o,a);a+=2,s.push(t.GSUB.readChainSubClassRule(o,d+g))}return s},t.GSUB.readChainSubClassRule=function(o,a){for(var f=t._bin,d={},s=["backtrack","input","lookahead"],h=0;h<s.length;h++){var m=f.readUshort(o,a);a+=2,h==1&&m--,d[s[h]]=f.readUshorts(o,a,m),a+=2*d[s[h]].length}return m=f.readUshort(o,a),a+=2,d.subst=f.readUshorts(o,a,2*m),a+=2*d.subst.length,d},t.GSUB.readLigatureSet=function(o,a){var f=t._bin,d=a,s=[],h=f.readUshort(o,a);a+=2;for(var m=0;m<h;m++){var g=f.readUshort(o,a);a+=2,s.push(t.GSUB.readLigature(o,d+g))}return s},t.GSUB.readLigature=function(o,a){var f=t._bin,d={chain:[]};d.nglyph=f.readUshort(o,a),a+=2;var s=f.readUshort(o,a);a+=2;for(var h=0;h<s-1;h++)d.chain.push(f.readUshort(o,a)),a+=2;return d},t.head={},t.head.parse=function(o,a,f){var d=t._bin,s={};return d.readFixed(o,a),a+=4,s.fontRevision=d.readFixed(o,a),a+=4,d.readUint(o,a),a+=4,d.readUint(o,a),a+=4,s.flags=d.readUshort(o,a),a+=2,s.unitsPerEm=d.readUshort(o,a),a+=2,s.created=d.readUint64(o,a),a+=8,s.modified=d.readUint64(o,a),a+=8,s.xMin=d.readShort(o,a),a+=2,s.yMin=d.readShort(o,a),a+=2,s.xMax=d.readShort(o,a),a+=2,s.yMax=d.readShort(o,a),a+=2,s.macStyle=d.readUshort(o,a),a+=2,s.lowestRecPPEM=d.readUshort(o,a),a+=2,s.fontDirectionHint=d.readShort(o,a),a+=2,s.indexToLocFormat=d.readShort(o,a),a+=2,s.glyphDataFormat=d.readShort(o,a),a+=2,s},t.hhea={},t.hhea.parse=function(o,a,f){var d=t._bin,s={};return d.readFixed(o,a),a+=4,s.ascender=d.readShort(o,a),a+=2,s.descender=d.readShort(o,a),a+=2,s.lineGap=d.readShort(o,a),a+=2,s.advanceWidthMax=d.readUshort(o,a),a+=2,s.minLeftSideBearing=d.readShort(o,a),a+=2,s.minRightSideBearing=d.readShort(o,a),a+=2,s.xMaxExtent=d.readShort(o,a),a+=2,s.caretSlopeRise=d.readShort(o,a),a+=2,s.caretSlopeRun=d.readShort(o,a),a+=2,s.caretOffset=d.readShort(o,a),a+=2,a+=8,s.metricDataFormat=d.readShort(o,a),a+=2,s.numberOfHMetrics=d.readUshort(o,a),a+=2,s},t.hmtx={},t.hmtx.parse=function(o,a,f,d){for(var s=t._bin,h={aWidth:[],lsBearing:[]},m=0,g=0,b=0;b<d.maxp.numGlyphs;b++)b<d.hhea.numberOfHMetrics&&(m=s.readUshort(o,a),a+=2,g=s.readShort(o,a),a+=2),h.aWidth.push(m),h.lsBearing.push(g);return h},t.kern={},t.kern.parse=function(o,a,f,d){var s=t._bin,h=s.readUshort(o,a);if(a+=2,h==1)return t.kern.parseV1(o,a-2,f,d);var m=s.readUshort(o,a);a+=2;for(var g={glyph1:[],rval:[]},b=0;b<m;b++){a+=2,f=s.readUshort(o,a),a+=2;var S=s.readUshort(o,a);a+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;a=t.kern.readFormat0(o,a,g)}return g},t.kern.parseV1=function(o,a,f,d){var s=t._bin;s.readFixed(o,a),a+=4;var h=s.readUint(o,a);a+=4;for(var m={glyph1:[],rval:[]},g=0;g<h;g++){s.readUint(o,a),a+=4;var b=s.readUshort(o,a);a+=2,s.readUshort(o,a),a+=2;var S=b>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;a=t.kern.readFormat0(o,a,m)}return m},t.kern.readFormat0=function(o,a,f){var d=t._bin,s=-1,h=d.readUshort(o,a);a+=2,d.readUshort(o,a),a+=2,d.readUshort(o,a),a+=2,d.readUshort(o,a),a+=2;for(var m=0;m<h;m++){var g=d.readUshort(o,a);a+=2;var b=d.readUshort(o,a);a+=2;var S=d.readShort(o,a);a+=2,g!=s&&(f.glyph1.push(g),f.rval.push({glyph2:[],vals:[]}));var E=f.rval[f.rval.length-1];E.glyph2.push(b),E.vals.push(S),s=g}return a},t.loca={},t.loca.parse=function(o,a,f,d){var s=t._bin,h=[],m=d.head.indexToLocFormat,g=d.maxp.numGlyphs+1;if(m==0)for(var b=0;b<g;b++)h.push(s.readUshort(o,a+(b<<1))<<1);if(m==1)for(b=0;b<g;b++)h.push(s.readUint(o,a+(b<<2)));return h},t.maxp={},t.maxp.parse=function(o,a,f){var d=t._bin,s={},h=d.readUint(o,a);return a+=4,s.numGlyphs=d.readUshort(o,a),a+=2,h==65536&&(s.maxPoints=d.readUshort(o,a),a+=2,s.maxContours=d.readUshort(o,a),a+=2,s.maxCompositePoints=d.readUshort(o,a),a+=2,s.maxCompositeContours=d.readUshort(o,a),a+=2,s.maxZones=d.readUshort(o,a),a+=2,s.maxTwilightPoints=d.readUshort(o,a),a+=2,s.maxStorage=d.readUshort(o,a),a+=2,s.maxFunctionDefs=d.readUshort(o,a),a+=2,s.maxInstructionDefs=d.readUshort(o,a),a+=2,s.maxStackElements=d.readUshort(o,a),a+=2,s.maxSizeOfInstructions=d.readUshort(o,a),a+=2,s.maxComponentElements=d.readUshort(o,a),a+=2,s.maxComponentDepth=d.readUshort(o,a),a+=2),s},t.name={},t.name.parse=function(o,a,f){var d=t._bin,s={};d.readUshort(o,a),a+=2;var h=d.readUshort(o,a);a+=2,d.readUshort(o,a);for(var m,g=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],b=a+=2,S=0;S<h;S++){var E=d.readUshort(o,a);a+=2;var M=d.readUshort(o,a);a+=2;var k=d.readUshort(o,a);a+=2;var U=d.readUshort(o,a);a+=2;var x=d.readUshort(o,a);a+=2;var G=d.readUshort(o,a);a+=2;var R,I=g[U],F=b+12*h+G;if(E==0)R=d.readUnicode(o,F,x/2);else if(E==3&&M==0)R=d.readUnicode(o,F,x/2);else if(M==0)R=d.readASCII(o,F,x);else if(M==1)R=d.readUnicode(o,F,x/2);else if(M==3)R=d.readUnicode(o,F,x/2);else{if(E!=1)throw"unknown encoding "+M+", platformID: "+E;R=d.readASCII(o,F,x),console.debug("reading unknown MAC encoding "+M+" as ASCII")}var H="p"+E+","+k.toString(16);s[H]==null&&(s[H]={}),s[H][I!==void 0?I:U]=R,s[H]._lang=k}for(var T in s)if(s[T].postScriptName!=null&&s[T]._lang==1033)return s[T];for(var T in s)if(s[T].postScriptName!=null&&s[T]._lang==0)return s[T];for(var T in s)if(s[T].postScriptName!=null&&s[T]._lang==3084)return s[T];for(var T in s)if(s[T].postScriptName!=null)return s[T];for(var T in s){m=T;break}return console.debug("returning name table with languageID "+s[m]._lang),s[m]},t["OS/2"]={},t["OS/2"].parse=function(o,a,f){var d=t._bin.readUshort(o,a);a+=2;var s={};if(d==0)t["OS/2"].version0(o,a,s);else if(d==1)t["OS/2"].version1(o,a,s);else if(d==2||d==3||d==4)t["OS/2"].version2(o,a,s);else{if(d!=5)throw"unknown OS/2 table version: "+d;t["OS/2"].version5(o,a,s)}return s},t["OS/2"].version0=function(o,a,f){var d=t._bin;return f.xAvgCharWidth=d.readShort(o,a),a+=2,f.usWeightClass=d.readUshort(o,a),a+=2,f.usWidthClass=d.readUshort(o,a),a+=2,f.fsType=d.readUshort(o,a),a+=2,f.ySubscriptXSize=d.readShort(o,a),a+=2,f.ySubscriptYSize=d.readShort(o,a),a+=2,f.ySubscriptXOffset=d.readShort(o,a),a+=2,f.ySubscriptYOffset=d.readShort(o,a),a+=2,f.ySuperscriptXSize=d.readShort(o,a),a+=2,f.ySuperscriptYSize=d.readShort(o,a),a+=2,f.ySuperscriptXOffset=d.readShort(o,a),a+=2,f.ySuperscriptYOffset=d.readShort(o,a),a+=2,f.yStrikeoutSize=d.readShort(o,a),a+=2,f.yStrikeoutPosition=d.readShort(o,a),a+=2,f.sFamilyClass=d.readShort(o,a),a+=2,f.panose=d.readBytes(o,a,10),a+=10,f.ulUnicodeRange1=d.readUint(o,a),a+=4,f.ulUnicodeRange2=d.readUint(o,a),a+=4,f.ulUnicodeRange3=d.readUint(o,a),a+=4,f.ulUnicodeRange4=d.readUint(o,a),a+=4,f.achVendID=[d.readInt8(o,a),d.readInt8(o,a+1),d.readInt8(o,a+2),d.readInt8(o,a+3)],a+=4,f.fsSelection=d.readUshort(o,a),a+=2,f.usFirstCharIndex=d.readUshort(o,a),a+=2,f.usLastCharIndex=d.readUshort(o,a),a+=2,f.sTypoAscender=d.readShort(o,a),a+=2,f.sTypoDescender=d.readShort(o,a),a+=2,f.sTypoLineGap=d.readShort(o,a),a+=2,f.usWinAscent=d.readUshort(o,a),a+=2,f.usWinDescent=d.readUshort(o,a),a+=2},t["OS/2"].version1=function(o,a,f){var d=t._bin;return a=t["OS/2"].version0(o,a,f),f.ulCodePageRange1=d.readUint(o,a),a+=4,f.ulCodePageRange2=d.readUint(o,a),a+=4},t["OS/2"].version2=function(o,a,f){var d=t._bin;return a=t["OS/2"].version1(o,a,f),f.sxHeight=d.readShort(o,a),a+=2,f.sCapHeight=d.readShort(o,a),a+=2,f.usDefault=d.readUshort(o,a),a+=2,f.usBreak=d.readUshort(o,a),a+=2,f.usMaxContext=d.readUshort(o,a),a+=2},t["OS/2"].version5=function(o,a,f){var d=t._bin;return a=t["OS/2"].version2(o,a,f),f.usLowerOpticalPointSize=d.readUshort(o,a),a+=2,f.usUpperOpticalPointSize=d.readUshort(o,a),a+=2},t.post={},t.post.parse=function(o,a,f){var d=t._bin,s={};return s.version=d.readFixed(o,a),a+=4,s.italicAngle=d.readFixed(o,a),a+=4,s.underlinePosition=d.readShort(o,a),a+=2,s.underlineThickness=d.readShort(o,a),a+=2,s},t==null&&(t={}),t.U==null&&(t.U={}),t.U.codeToGlyph=function(o,a){var f=o.cmap,d=-1;if(f.p0e4!=null?d=f.p0e4:f.p3e1!=null?d=f.p3e1:f.p1e0!=null?d=f.p1e0:f.p0e3!=null&&(d=f.p0e3),d==-1)throw"no familiar platform and encoding!";var s=f.tables[d];if(s.format==0)return a>=s.map.length?0:s.map[a];if(s.format==4){for(var h=-1,m=0;m<s.endCount.length;m++)if(a<=s.endCount[m]){h=m;break}return h==-1||s.startCount[h]>a?0:65535&(s.idRangeOffset[h]!=0?s.glyphIdArray[a-s.startCount[h]+(s.idRangeOffset[h]>>1)-(s.idRangeOffset.length-h)]:a+s.idDelta[h])}if(s.format==12){if(a>s.groups[s.groups.length-1][1])return 0;for(m=0;m<s.groups.length;m++){var g=s.groups[m];if(g[0]<=a&&a<=g[1])return g[2]+(a-g[0])}return 0}throw"unknown cmap table format "+s.format},t.U.glyphToPath=function(o,a){var f={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[a]){var d=o.SVG.entries[a];return d==null?f:(typeof d=="string"&&(d=t.SVG.toPath(d),o.SVG.entries[a]=d),d)}if(o.CFF){var s={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},h=o.CFF,m=o.CFF.Private;if(h.ROS){for(var g=0;h.FDSelect[g+2]<=a;)g+=2;m=h.FDArray[h.FDSelect[g+1]].Private}t.U._drawCFF(o.CFF.CharStrings[a],s,h,m,f)}else o.glyf&&t.U._drawGlyf(a,o,f);return f},t.U._drawGlyf=function(o,a,f){var d=a.glyf[o];d==null&&(d=a.glyf[o]=t.glyf._parseGlyf(a,o)),d!=null&&(d.noc>-1?t.U._simpleGlyph(d,f):t.U._compoGlyph(d,a,f))},t.U._simpleGlyph=function(o,a){for(var f=0;f<o.noc;f++){for(var d=f==0?0:o.endPts[f-1]+1,s=o.endPts[f],h=d;h<=s;h++){var m=h==d?s:h-1,g=h==s?d:h+1,b=1&o.flags[h],S=1&o.flags[m],E=1&o.flags[g],M=o.xs[h],k=o.ys[h];if(h==d)if(b){if(!S){t.U.P.moveTo(a,M,k);continue}t.U.P.moveTo(a,o.xs[m],o.ys[m])}else S?t.U.P.moveTo(a,o.xs[m],o.ys[m]):t.U.P.moveTo(a,(o.xs[m]+M)/2,(o.ys[m]+k)/2);b?S&&t.U.P.lineTo(a,M,k):E?t.U.P.qcurveTo(a,M,k,o.xs[g],o.ys[g]):t.U.P.qcurveTo(a,M,k,(M+o.xs[g])/2,(k+o.ys[g])/2)}t.U.P.closePath(a)}},t.U._compoGlyph=function(o,a,f){for(var d=0;d<o.parts.length;d++){var s={cmds:[],crds:[]},h=o.parts[d];t.U._drawGlyf(h.glyphIndex,a,s);for(var m=h.m,g=0;g<s.crds.length;g+=2){var b=s.crds[g],S=s.crds[g+1];f.crds.push(b*m.a+S*m.b+m.tx),f.crds.push(b*m.c+S*m.d+m.ty)}for(g=0;g<s.cmds.length;g++)f.cmds.push(s.cmds[g])}},t.U._getGlyphClass=function(o,a){var f=t._lctf.getInterval(a,o);return f==-1?0:a[f+2]},t.U._applySubs=function(o,a,f,d){for(var s=o.length-a-1,h=0;h<f.tabs.length;h++)if(f.tabs[h]!=null){var m,g=f.tabs[h];if(!g.coverage||(m=t._lctf.coverageIndex(g.coverage,o[a]))!=-1){if(f.ltype==1)o[a],g.fmt==1?o[a]=o[a]+g.delta:o[a]=g.newg[m];else if(f.ltype==4)for(var b=g.vals[m],S=0;S<b.length;S++){var E=b[S],M=E.chain.length;if(!(M>s)){for(var k=!0,U=0,x=0;x<M;x++){for(;o[a+U+(1+x)]==-1;)U++;E.chain[x]!=o[a+U+(1+x)]&&(k=!1)}if(k){for(o[a]=E.nglyph,x=0;x<M+U;x++)o[a+x+1]=-1;break}}}else if(f.ltype==5&&g.fmt==2)for(var G=t._lctf.getInterval(g.cDef,o[a]),R=g.cDef[G+2],I=g.scset[R],F=0;F<I.length;F++){var H=I[F],T=H.input;if(!(T.length>s)){for(k=!0,x=0;x<T.length;x++){var N=t._lctf.getInterval(g.cDef,o[a+1+x]);if(G==-1&&g.cDef[N+2]!=T[x]){k=!1;break}}if(k){var O=H.substLookupRecords;for(S=0;S<O.length;S+=2)O[S],O[S+1]}}}else if(f.ltype==6&&g.fmt==3){if(!t.U._glsCovered(o,g.backCvg,a-g.backCvg.length)||!t.U._glsCovered(o,g.inptCvg,a)||!t.U._glsCovered(o,g.ahedCvg,a+g.inptCvg.length))continue;var le=g.lookupRec;for(F=0;F<le.length;F+=2){G=le[F];var z=d[le[F+1]];t.U._applySubs(o,a+G,z,d)}}}}},t.U._glsCovered=function(o,a,f){for(var d=0;d<a.length;d++)if(t._lctf.coverageIndex(a[d],o[f+d])==-1)return!1;return!0},t.U.glyphsToPath=function(o,a,f){for(var d={cmds:[],crds:[]},s=0,h=0;h<a.length;h++){var m=a[h];if(m!=-1){for(var g=h<a.length-1&&a[h+1]!=-1?a[h+1]:0,b=t.U.glyphToPath(o,m),S=0;S<b.crds.length;S+=2)d.crds.push(b.crds[S]+s),d.crds.push(b.crds[S+1]);for(f&&d.cmds.push(f),S=0;S<b.cmds.length;S++)d.cmds.push(b.cmds[S]);f&&d.cmds.push("X"),s+=o.hmtx.aWidth[m],h<a.length-1&&(s+=t.U.getPairAdjustment(o,m,g))}}return d},t.U.P={},t.U.P.moveTo=function(o,a,f){o.cmds.push("M"),o.crds.push(a,f)},t.U.P.lineTo=function(o,a,f){o.cmds.push("L"),o.crds.push(a,f)},t.U.P.curveTo=function(o,a,f,d,s,h,m){o.cmds.push("C"),o.crds.push(a,f,d,s,h,m)},t.U.P.qcurveTo=function(o,a,f,d,s){o.cmds.push("Q"),o.crds.push(a,f,d,s)},t.U.P.closePath=function(o){o.cmds.push("Z")},t.U._drawCFF=function(o,a,f,d,s){for(var h=a.stack,m=a.nStems,g=a.haveWidth,b=a.width,S=a.open,E=0,M=a.x,k=a.y,U=0,x=0,G=0,R=0,I=0,F=0,H=0,T=0,N=0,O=0,le={val:0,size:0};E<o.length;){t.CFF.getCharString(o,E,le);var z=le.val;if(E+=le.size,z=="o1"||z=="o18")h.length%2!=0&&!g&&(b=h.shift()+d.nominalWidthX),m+=h.length>>1,h.length=0,g=!0;else if(z=="o3"||z=="o23")h.length%2!=0&&!g&&(b=h.shift()+d.nominalWidthX),m+=h.length>>1,h.length=0,g=!0;else if(z=="o4")h.length>1&&!g&&(b=h.shift()+d.nominalWidthX,g=!0),S&&t.U.P.closePath(s),k+=h.pop(),t.U.P.moveTo(s,M,k),S=!0;else if(z=="o5")for(;h.length>0;)M+=h.shift(),k+=h.shift(),t.U.P.lineTo(s,M,k);else if(z=="o6"||z=="o7")for(var j=h.length,P=z=="o6",ie=0;ie<j;ie++){var K=h.shift();P?M+=K:k+=K,P=!P,t.U.P.lineTo(s,M,k)}else if(z=="o8"||z=="o24"){j=h.length;for(var we=0;we+6<=j;)U=M+h.shift(),x=k+h.shift(),G=U+h.shift(),R=x+h.shift(),M=G+h.shift(),k=R+h.shift(),t.U.P.curveTo(s,U,x,G,R,M,k),we+=6;z=="o24"&&(M+=h.shift(),k+=h.shift(),t.U.P.lineTo(s,M,k))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(x=k,G=(U=M+h.shift())+h.shift(),O=R=x+h.shift(),F=R,T=k,M=(H=(I=(N=G+h.shift())+h.shift())+h.shift())+h.shift(),t.U.P.curveTo(s,U,x,G,R,N,O),t.U.P.curveTo(s,I,F,H,T,M,k)),z=="o1235"&&(U=M+h.shift(),x=k+h.shift(),G=U+h.shift(),R=x+h.shift(),N=G+h.shift(),O=R+h.shift(),I=N+h.shift(),F=O+h.shift(),H=I+h.shift(),T=F+h.shift(),M=H+h.shift(),k=T+h.shift(),h.shift(),t.U.P.curveTo(s,U,x,G,R,N,O),t.U.P.curveTo(s,I,F,H,T,M,k)),z=="o1236"&&(U=M+h.shift(),x=k+h.shift(),G=U+h.shift(),O=R=x+h.shift(),F=R,H=(I=(N=G+h.shift())+h.shift())+h.shift(),T=F+h.shift(),M=H+h.shift(),t.U.P.curveTo(s,U,x,G,R,N,O),t.U.P.curveTo(s,I,F,H,T,M,k)),z=="o1237"&&(U=M+h.shift(),x=k+h.shift(),G=U+h.shift(),R=x+h.shift(),N=G+h.shift(),O=R+h.shift(),I=N+h.shift(),F=O+h.shift(),H=I+h.shift(),T=F+h.shift(),Math.abs(H-M)>Math.abs(T-k)?M=H+h.shift():k=T+h.shift(),t.U.P.curveTo(s,U,x,G,R,N,O),t.U.P.curveTo(s,I,F,H,T,M,k));else if(z=="o14"){if(h.length>0&&!g&&(b=h.shift()+f.nominalWidthX,g=!0),h.length==4){var ke=h.shift(),ne=h.shift(),X=h.shift(),C=h.shift(),L=t.CFF.glyphBySE(f,X),V=t.CFF.glyphBySE(f,C);t.U._drawCFF(f.CharStrings[L],a,f,d,s),a.x=ke,a.y=ne,t.U._drawCFF(f.CharStrings[V],a,f,d,s)}S&&(t.U.P.closePath(s),S=!1)}else if(z=="o19"||z=="o20")h.length%2!=0&&!g&&(b=h.shift()+d.nominalWidthX),m+=h.length>>1,h.length=0,g=!0,E+=m+7>>3;else if(z=="o21")h.length>2&&!g&&(b=h.shift()+d.nominalWidthX,g=!0),k+=h.pop(),M+=h.pop(),S&&t.U.P.closePath(s),t.U.P.moveTo(s,M,k),S=!0;else if(z=="o22")h.length>1&&!g&&(b=h.shift()+d.nominalWidthX,g=!0),M+=h.pop(),S&&t.U.P.closePath(s),t.U.P.moveTo(s,M,k),S=!0;else if(z=="o25"){for(;h.length>6;)M+=h.shift(),k+=h.shift(),t.U.P.lineTo(s,M,k);U=M+h.shift(),x=k+h.shift(),G=U+h.shift(),R=x+h.shift(),M=G+h.shift(),k=R+h.shift(),t.U.P.curveTo(s,U,x,G,R,M,k)}else if(z=="o26")for(h.length%2&&(M+=h.shift());h.length>0;)U=M,x=k+h.shift(),M=G=U+h.shift(),k=(R=x+h.shift())+h.shift(),t.U.P.curveTo(s,U,x,G,R,M,k);else if(z=="o27")for(h.length%2&&(k+=h.shift());h.length>0;)x=k,G=(U=M+h.shift())+h.shift(),R=x+h.shift(),M=G+h.shift(),k=R,t.U.P.curveTo(s,U,x,G,R,M,k);else if(z=="o10"||z=="o29"){var Y=z=="o10"?d:f;if(h.length==0)console.debug("error: empty stack");else{var Q=h.pop(),re=Y.Subrs[Q+Y.Bias];a.x=M,a.y=k,a.nStems=m,a.haveWidth=g,a.width=b,a.open=S,t.U._drawCFF(re,a,f,d,s),M=a.x,k=a.y,m=a.nStems,g=a.haveWidth,b=a.width,S=a.open}}else if(z=="o30"||z=="o31"){var se=h.length,ce=(we=0,z=="o31");for(we+=se-(j=-3&se);we<j;)ce?(x=k,G=(U=M+h.shift())+h.shift(),k=(R=x+h.shift())+h.shift(),j-we==5?(M=G+h.shift(),we++):M=G,ce=!1):(U=M,x=k+h.shift(),G=U+h.shift(),R=x+h.shift(),M=G+h.shift(),j-we==5?(k=R+h.shift(),we++):k=R,ce=!0),t.U.P.curveTo(s,U,x,G,R,M,k),we+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,o),z;h.push(z)}}}a.x=M,a.y=k,a.nStems=m,a.haveWidth=g,a.width=b,a.open=S};var p=t,u={Typr:p};return l.Typr=p,l.default=u,Object.defineProperty(l,"__esModule",{value:!0}),l})({}).Typr}function S0(){return(function(l){var t=Uint8Array,p=Uint16Array,u=Uint32Array,o=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(z,j){for(var P=new p(31),ie=0;ie<31;++ie)P[ie]=j+=1<<z[ie-1];var K=new u(P[30]);for(ie=1;ie<30;++ie)for(var we=P[ie];we<P[ie+1];++we)K[we]=we-P[ie]<<5|ie;return[P,K]},s=d(o,2),h=s[0],m=s[1];h[28]=258,m[258]=28;for(var g=d(a,0)[0],b=new p(32768),S=0;S<32768;++S){var E=(43690&S)>>>1|(21845&S)<<1;E=(61680&(E=(52428&E)>>>2|(13107&E)<<2))>>>4|(3855&E)<<4,b[S]=((65280&E)>>>8|(255&E)<<8)>>>1}var M=function(z,j,P){for(var ie=z.length,K=0,we=new p(j);K<ie;++K)++we[z[K]-1];var ke,ne=new p(j);for(K=0;K<j;++K)ne[K]=ne[K-1]+we[K-1]<<1;{ke=new p(1<<j);var X=15-j;for(K=0;K<ie;++K)if(z[K])for(var C=K<<4|z[K],L=j-z[K],V=ne[z[K]-1]++<<L,Y=V|(1<<L)-1;V<=Y;++V)ke[b[V]>>>X]=C}return ke},k=new t(288);for(S=0;S<144;++S)k[S]=8;for(S=144;S<256;++S)k[S]=9;for(S=256;S<280;++S)k[S]=7;for(S=280;S<288;++S)k[S]=8;var U=new t(32);for(S=0;S<32;++S)U[S]=5;var x=M(k,9),G=M(U,5),R=function(z){for(var j=z[0],P=1;P<z.length;++P)z[P]>j&&(j=z[P]);return j},I=function(z,j,P){var ie=j/8|0;return(z[ie]|z[ie+1]<<8)>>(7&j)&P},F=function(z,j){var P=j/8|0;return(z[P]|z[P+1]<<8|z[P+2]<<16)>>(7&j)},H=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(z,j,P){var ie=new Error(j||H[z]);if(ie.code=z,Error.captureStackTrace&&Error.captureStackTrace(ie,T),!P)throw ie;return ie},N=function(z,j,P){var ie=z.length;if(!ie||P&&!P.l&&ie<5)return j||new t(0);var K=!j||P,we=!P||P.i;P||(P={}),j||(j=new t(3*ie));var ke,ne=function(Ve){var B=j.length;if(Ve>B){var ue=new t(Math.max(2*B,Ve));ue.set(j),j=ue}},X=P.f||0,C=P.p||0,L=P.b||0,V=P.l,Y=P.d,Q=P.m,re=P.n,se=8*ie;do{if(!V){P.f=X=I(z,C,1);var ce=I(z,C+1,3);if(C+=3,!ce){var Me=z[(Ae=((ke=C)/8|0)+(7&ke&&1)+4)-4]|z[Ae-3]<<8,Ge=Ae+Me;if(Ge>ie){we&&T(0);break}K&&ne(L+Me),j.set(z.subarray(Ae,Ge),L),P.b=L+=Me,P.p=C=8*Ge;continue}if(ce==1)V=x,Y=G,Q=9,re=5;else if(ce==2){var _e=I(z,C,31)+257,de=I(z,C+10,15)+4,Ke=_e+I(z,C+5,31)+1;C+=14;for(var Ye=new t(Ke),Ie=new t(19),De=0;De<de;++De)Ie[f[De]]=I(z,C+3*De,7);C+=3*de;var Pe=R(Ie),ge=(1<<Pe)-1,je=M(Ie,Pe);for(De=0;De<Ke;){var Ae,fe=je[I(z,C,ge)];if(C+=15&fe,(Ae=fe>>>4)<16)Ye[De++]=Ae;else{var Qe=0,ye=0;for(Ae==16?(ye=3+I(z,C,3),C+=2,Qe=Ye[De-1]):Ae==17?(ye=3+I(z,C,7),C+=3):Ae==18&&(ye=11+I(z,C,127),C+=7);ye--;)Ye[De++]=Qe}}var Re=Ye.subarray(0,_e),Fe=Ye.subarray(_e);Q=R(Re),re=R(Fe),V=M(Re,Q),Y=M(Fe,re)}else T(1);if(C>se){we&&T(0);break}}K&&ne(L+131072);for(var yn=(1<<Q)-1,Ne=(1<<re)-1,ze=C;;ze=C){var Oe=(Qe=V[F(z,C)&yn])>>>4;if((C+=15&Qe)>se){we&&T(0);break}if(Qe||T(2),Oe<256)j[L++]=Oe;else{if(Oe==256){ze=C,V=null;break}var $e=Oe-254;if(Oe>264){var Cn=o[De=Oe-257];$e=I(z,C,(1<<Cn)-1)+h[De],C+=Cn}var Pn=Y[F(z,C)&Ne],ln=Pn>>>4;if(Pn||T(3),C+=15&Pn,Fe=g[ln],ln>3&&(Cn=a[ln],Fe+=F(z,C)&(1<<Cn)-1,C+=Cn),C>se){we&&T(0);break}K&&ne(L+131072);for(var Ze=L+$e;L<Ze;L+=4)j[L]=j[L-Fe],j[L+1]=j[L+1-Fe],j[L+2]=j[L+2-Fe],j[L+3]=j[L+3-Fe];L=Ze}}P.l=V,P.p=ze,P.b=L,V&&(X=1,P.m=Q,P.d=Y,P.n=re)}while(!X);return L==j.length?j:(function(Ve,B,ue){(ue==null||ue>Ve.length)&&(ue=Ve.length);var Ce=new(Ve instanceof p?p:Ve instanceof u?u:t)(ue-B);return Ce.set(Ve.subarray(B,ue)),Ce})(j,0,L)},O=new t(0),le=typeof TextDecoder<"u"&&new TextDecoder;try{le.decode(O,{stream:!0})}catch{}return l.convert_streams=function(z){var j=new DataView(z),P=0;function ie(){var _e=j.getUint16(P);return P+=2,_e}function K(){var _e=j.getUint32(P);return P+=4,_e}function we(_e){Me.setUint16(Ge,_e),Ge+=2}function ke(_e){Me.setUint32(Ge,_e),Ge+=4}for(var ne={signature:K(),flavor:K(),length:K(),numTables:ie(),reserved:ie(),totalSfntSize:K(),majorVersion:ie(),minorVersion:ie(),metaOffset:K(),metaLength:K(),metaOrigLength:K(),privOffset:K(),privLength:K()},X=0;Math.pow(2,X)<=ne.numTables;)X++;X--;for(var C=16*Math.pow(2,X),L=16*ne.numTables-C,V=12,Y=[],Q=0;Q<ne.numTables;Q++)Y.push({tag:K(),offset:K(),compLength:K(),origLength:K(),origChecksum:K()}),V+=16;var re,se=new Uint8Array(12+16*Y.length+Y.reduce((function(_e,de){return _e+de.origLength+4}),0)),ce=se.buffer,Me=new DataView(ce),Ge=0;return ke(ne.flavor),we(ne.numTables),we(C),we(X),we(L),Y.forEach((function(_e){ke(_e.tag),ke(_e.origChecksum),ke(V),ke(_e.origLength),_e.outOffset=V,(V+=_e.origLength)%4!=0&&(V+=4-V%4)})),Y.forEach((function(_e){var de,Ke=z.slice(_e.offset,_e.offset+_e.compLength);if(_e.compLength!=_e.origLength){var Ye=new Uint8Array(_e.origLength);de=new Uint8Array(Ke,2),N(de,Ye)}else Ye=new Uint8Array(Ke);se.set(Ye,_e.outOffset);var Ie=0;(V=_e.outOffset+_e.origLength)%4!=0&&(Ie=4-V%4),se.set(new Uint8Array(Ie).buffer,_e.outOffset+_e.origLength),re=V+Ie})),ce.slice(0,re)},Object.defineProperty(l,"__esModule",{value:!0}),l})({}).convert_streams}function w0(l,t){const p={M:2,L:2,Q:4,C:6,Z:0},u={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,a=2,f=4,d=8,s=16,h=32;let m;function g(H){if(!m){const T={R:a,L:o,D:f,C:s,U:h,T:d};m=new Map;for(let N in u){let O=0;u[N].split(",").forEach(le=>{let[z,j]=le.split("+");z=parseInt(z,36),j=j?parseInt(j,36):0,m.set(O+=z,T[N]);for(let P=j;P--;)m.set(++O,T[N])})}}return m.get(H)||h}const b=1,S=2,E=3,M=4,k=[null,"isol","init","fina","medi"];function U(H){const T=new Uint8Array(H.length);let N=h,O=b,le=-1;for(let z=0;z<H.length;z++){const j=H.codePointAt(z);let P=g(j)|0,ie=b;P&d||(N&(o|f|s)?P&(a|f|s)?(ie=E,(O===b||O===E)&&T[le]++):P&(o|h)&&(O===S||O===M)&&T[le]--:N&(a|h)&&(O===S||O===M)&&T[le]--,O=T[z]=ie,N=P,le=z,j>65535&&z++)}return T}function x(H,T){const N=[];for(let le=0;le<T.length;le++){const z=T.codePointAt(le);z>65535&&le++,N.push(l.U.codeToGlyph(H,z))}const O=H.GSUB;if(O){const{lookupList:le,featureList:z}=O;let j;const P=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ie=[];z.forEach(K=>{if(P.test(K.tag))for(let we=0;we<K.tab.length;we++){if(ie[K.tab[we]])continue;ie[K.tab[we]]=!0;const ke=le[K.tab[we]],ne=/^(isol|init|fina|medi)$/.test(K.tag);ne&&!j&&(j=U(T));for(let X=0;X<N.length;X++)(!j||!ne||k[j[X]]===K.tag)&&l.U._applySubs(N,X,ke,le)}})}return N}function G(H,T){const N=new Int16Array(T.length*3);let O=0;for(;O<T.length;O++){const P=T[O];if(P===-1)continue;N[O*3+2]=H.hmtx.aWidth[P];const ie=H.GPOS;if(ie){const K=ie.lookupList;for(let we=0;we<K.length;we++){const ke=K[we];for(let ne=0;ne<ke.tabs.length;ne++){const X=ke.tabs[ne];if(ke.ltype===1){if(l._lctf.coverageIndex(X.coverage,P)!==-1&&X.pos){j(X.pos,O);break}}else if(ke.ltype===2){let C=null,L=le();if(L!==-1){const V=l._lctf.coverageIndex(X.coverage,T[L]);if(V!==-1){if(X.fmt===1){const Y=X.pairsets[V];for(let Q=0;Q<Y.length;Q++)Y[Q].gid2===P&&(C=Y[Q])}else if(X.fmt===2){const Y=l.U._getGlyphClass(T[L],X.classDef1),Q=l.U._getGlyphClass(P,X.classDef2);C=X.matrix[Y][Q]}if(C){C.val1&&j(C.val1,L),C.val2&&j(C.val2,O);break}}}}else if(ke.ltype===4){const C=l._lctf.coverageIndex(X.markCoverage,P);if(C!==-1){const L=le(z),V=L===-1?-1:l._lctf.coverageIndex(X.baseCoverage,T[L]);if(V!==-1){const Y=X.markArray[C],Q=X.baseArray[V][Y.markClass];N[O*3]=Q.x-Y.x+N[L*3]-N[L*3+2],N[O*3+1]=Q.y-Y.y+N[L*3+1];break}}}else if(ke.ltype===6){const C=l._lctf.coverageIndex(X.mark1Coverage,P);if(C!==-1){const L=le();if(L!==-1){const V=T[L];if(R(H,V)===3){const Y=l._lctf.coverageIndex(X.mark2Coverage,V);if(Y!==-1){const Q=X.mark1Array[C],re=X.mark2Array[Y][Q.markClass];N[O*3]=re.x-Q.x+N[L*3]-N[L*3+2],N[O*3+1]=re.y-Q.y+N[L*3+1];break}}}}}}}}else if(H.kern&&!H.cff){const K=le();if(K!==-1){const we=H.kern.glyph1.indexOf(T[K]);if(we!==-1){const ke=H.kern.rval[we].glyph2.indexOf(P);ke!==-1&&(N[K*3+2]+=H.kern.rval[we].vals[ke])}}}}return N;function le(P){for(let ie=O-1;ie>=0;ie--)if(T[ie]!==-1&&(!P||P(T[ie])))return ie;return-1}function z(P){return R(H,P)===1}function j(P,ie){for(let K=0;K<3;K++)N[ie*3+K]+=P[K]||0}}function R(H,T){const N=H.GDEF&&H.GDEF.glyphClassDef;return N?l.U._getGlyphClass(T,N):0}function I(...H){for(let T=0;T<H.length;T++)if(typeof H[T]=="number")return H[T]}function F(H){const T=Object.create(null),N=H["OS/2"],O=H.hhea,le=H.head.unitsPerEm,z=I(N&&N.sTypoAscender,O&&O.ascender,le),j={unitsPerEm:le,ascender:z,descender:I(N&&N.sTypoDescender,O&&O.descender,0),capHeight:I(N&&N.sCapHeight,z),xHeight:I(N&&N.sxHeight,z),lineGap:I(N&&N.sTypoLineGap,O&&O.lineGap),supportsCodePoint(P){return l.U.codeToGlyph(H,P)>0},forEachGlyph(P,ie,K,we){let ke=0;const ne=1/j.unitsPerEm*ie,X=x(H,P);let C=0;const L=G(H,X);return X.forEach((V,Y)=>{if(V!==-1){let Q=T[V];if(!Q){const{cmds:re,crds:se}=l.U.glyphToPath(H,V);let ce="",Me=0;for(let Ye=0,Ie=re.length;Ye<Ie;Ye++){const De=p[re[Ye]];ce+=re[Ye];for(let Pe=1;Pe<=De;Pe++)ce+=(Pe>1?",":"")+se[Me++]}let Ge,_e,de,Ke;if(se.length){Ge=_e=1/0,de=Ke=-1/0;for(let Ye=0,Ie=se.length;Ye<Ie;Ye+=2){let De=se[Ye],Pe=se[Ye+1];De<Ge&&(Ge=De),Pe<_e&&(_e=Pe),De>de&&(de=De),Pe>Ke&&(Ke=Pe)}}else Ge=de=_e=Ke=0;Q=T[V]={index:V,advanceWidth:H.hmtx.aWidth[V],xMin:Ge,yMin:_e,xMax:de,yMax:Ke,path:ce}}we.call(null,Q,ke+L[Y*3]*ne,L[Y*3+1]*ne,C),ke+=L[Y*3+2]*ne,K&&(ke+=K*ie)}C+=P.codePointAt(C)>65535?2:1}),ke}};return j}return function(T){const N=new Uint8Array(T,0,4),O=l._bin.readASCII(N,0,4);if(O==="wOFF")T=t(T);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return F(l.parse(T)[0])}}const _0=Fo({name:"Typr Font Parser",dependencies:[b0,S0,w0],init(l,t,p){const u=l(),o=t();return p(u,o)}});function E0(){return(function(l){var t=function(){this.buckets=new Map};t.prototype.add=function(G){var R=G>>5;this.buckets.set(R,(this.buckets.get(R)||0)|1<<(31&G))},t.prototype.has=function(G){var R=this.buckets.get(G>>5);return R!==void 0&&(R&1<<(31&G))!=0},t.prototype.serialize=function(){var G=[];return this.buckets.forEach((function(R,I){G.push((+I).toString(36)+":"+R.toString(36))})),G.join(",")},t.prototype.deserialize=function(G){var R=this;this.buckets.clear(),G.split(",").forEach((function(I){var F=I.split(":");R.buckets.set(parseInt(F[0],36),parseInt(F[1],36))}))};var p=Math.pow(2,8),u=p-1,o=~u;function a(G){var R=(function(F){return F&o})(G).toString(16),I=(function(F){return(F&o)+p-1})(G).toString(16);return"codepoint-index/plane"+(G>>16)+"/"+R+"-"+I+".json"}function f(G,R){var I=G&u,F=R.codePointAt(I/6|0);return((F=(F||48)-48)&1<<I%6)!=0}function d(G,R){var I;(I=G,I.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(F){return F.split("-").map((function(H){return parseInt(H.trim(),16)}))}))).forEach((function(F){var H=F[0],T=F[1];T===void 0&&(T=H),R(H,T)}))}function s(G,R){d(G,(function(I,F){for(var H=I;H<=F;H++)R(H)}))}var h={},m={},g=new WeakMap,b="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(G){var R=g.get(G);return R||(R=new t,s(G.ranges,(function(I){return R.add(I)})),g.set(G,R)),R}var E,M=new Map;function k(G,R,I){return G[R]?R:G[I]?I:(function(F){for(var H in F)return H})(G)}function U(G,R){var I=R;if(!G.includes(I)){I=1/0;for(var F=0;F<G.length;F++)Math.abs(G[F]-R)<Math.abs(I-R)&&(I=G[F])}return I}function x(G){return E||(E=new Set,s("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(R){E.add(R)}))),E.has(G)}return l.CodePointSet=t,l.clearCache=function(){h={},m={}},l.getFontsForString=function(G,R){R===void 0&&(R={});var I,F=R.lang;F===void 0&&(F=new RegExp("\\p{Script=Hangul}","u").test(I=G)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(I)?"ja":"en");var H=R.category;H===void 0&&(H="sans-serif");var T=R.style;T===void 0&&(T="normal");var N=R.weight;N===void 0&&(N=400);var O=(R.dataUrl||b).replace(/\/$/g,""),le=new Map,z=new Uint8Array(G.length),j={},P={},ie=new Array(G.length),K=new Map,we=!1;function ke(C){var L=M.get(C);return L||(L=fetch(O+"/"+C).then((function(V){if(!V.ok)throw new Error(V.statusText);return V.json().then((function(Y){if(!Array.isArray(Y)||Y[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Y[0]);return Y[1]}))})).catch((function(V){if(O!==b)return we||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+V.message),we=!0),O=b,M.delete(C),ke(C);throw V})),M.set(C,L)),L}for(var ne=function(C){var L=G.codePointAt(C),V=a(L);ie[C]=V,h[V]||K.has(V)||K.set(V,ke(V).then((function(Y){h[V]=Y}))),L>65535&&(C++,X=C)},X=0;X<G.length;X++)ne(X);return Promise.all(K.values()).then((function(){K.clear();for(var C=function(V){var Y=G.codePointAt(V),Q=null,re=h[ie[V]],se=void 0;for(var ce in re){var Me=P[ce];if(Me===void 0&&(Me=P[ce]=new RegExp(ce).test(F||"en")),Me){for(var Ge in se=ce,re[ce])if(f(Y,re[ce][Ge])){Q=Ge;break}break}}if(!Q){e:for(var _e in re)if(_e!==se){for(var de in re[_e])if(f(Y,re[_e][de])){Q=de;break e}}}Q||(console.debug("No font coverage for U+"+Y.toString(16)),Q="latin"),ie[V]=Q,m[Q]||K.has(Q)||K.set(Q,ke("font-meta/"+Q+".json").then((function(Ke){m[Q]=Ke}))),Y>65535&&(V++,L=V)},L=0;L<G.length;L++)C(L);return Promise.all(K.values())})).then((function(){for(var C,L=null,V=0;V<G.length;V++){var Y=G.codePointAt(V);if(L&&(x(Y)||S(L).has(Y)))z[V]=z[V-1];else{L=m[ie[V]];var Q=j[L.id];if(!Q){var re=L.typeforms,se=k(re,H,"sans-serif"),ce=k(re[se],T,"normal"),Me=U((C=re[se])===null||C===void 0?void 0:C[ce],N);Q=j[L.id]=O+"/font-files/"+L.id+"/"+se+"."+ce+"."+Me+".woff"}var Ge=le.get(Q);Ge==null&&(Ge=le.size,le.set(Q,Ge)),z[V]=Ge}Y>65535&&(V++,z[V]=z[V-1])}return{fontUrls:Array.from(le.keys()),chars:z}}))},Object.defineProperty(l,"__esModule",{value:!0}),l})({})}function x0(l,t){const p=Object.create(null),u=Object.create(null);function o(f,d){const s=h=>{console.error(`Failure loading font ${f}`,h)};try{const h=new XMLHttpRequest;h.open("get",f,!0),h.responseType="arraybuffer",h.onload=function(){if(h.status>=400)s(new Error(h.statusText));else if(h.status>0)try{const m=l(h.response);m.src=f,d(m)}catch(m){s(m)}},h.onerror=s,h.send()}catch(h){s(h)}}function a(f,d){let s=p[f];s?d(s):u[f]?u[f].push(d):(u[f]=[d],o(f,h=>{h.src=f,p[f]=h,u[f].forEach(m=>m(h)),delete u[f]}))}return function(f,d,{lang:s,fonts:h=[],style:m="normal",weight:g="normal",unicodeFontsURL:b}={}){const S=new Uint8Array(f.length),E=[];f.length||x();const M=new Map,k=[];if(m!=="italic"&&(m="normal"),typeof g!="number"&&(g=g==="bold"?700:400),h&&!Array.isArray(h)&&(h=[h]),h=h.slice().filter(R=>!R.lang||R.lang.test(s)).reverse(),h.length){let H=0;(function T(N=0){for(let O=N,le=f.length;O<le;O++){const z=f.codePointAt(O);if(H===1&&E[S[O-1]].supportsCodePoint(z)||O>0&&/\s/.test(f[O]))S[O]=S[O-1],H===2&&(k[k.length-1][1]=O);else for(let j=S[O],P=h.length;j<=P;j++)if(j===P){const ie=H===2?k[k.length-1]:k[k.length]=[O,O];ie[1]=O,H=2}else{S[O]=j;const{src:ie,unicodeRange:K}=h[j];if(!K||G(z,K)){const we=p[ie];if(!we){a(ie,()=>{T(O)});return}if(we.supportsCodePoint(z)){let ke=M.get(we);typeof ke!="number"&&(ke=E.length,E.push(we),M.set(we,ke)),S[O]=ke,H=1;break}}}z>65535&&O+1<le&&(S[O+1]=S[O],O++,H===2&&(k[k.length-1][1]=O))}U()})()}else k.push([0,f.length-1]),U();function U(){if(k.length){const R=k.map(I=>f.substring(I[0],I[1]+1)).join(`
`);t.getFontsForString(R,{lang:s||void 0,style:m,weight:g,dataUrl:b}).then(({fontUrls:I,chars:F})=>{const H=E.length;let T=0;k.forEach(O=>{for(let le=0,z=O[1]-O[0];le<=z;le++)S[O[0]+le]=F[T++]+H;T++});let N=0;I.forEach((O,le)=>{a(O,z=>{E[le+H]=z,++N===I.length&&x()})})})}else x()}function x(){d({chars:S,fonts:E})}function G(R,I){for(let F=0;F<I.length;F++){const[H,T=H]=I[F];if(H<=R&&R<=T)return!0}return!1}}}const k0=Fo({name:"FontResolver",dependencies:[x0,_0,E0],init(l,t,p){return l(t,p())}});function T0(l,t){const u=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o="[^\\S\\u00A0]",a=new RegExp(`${o}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function f({text:E,lang:M,fonts:k,style:U,weight:x,preResolvedFonts:G,unicodeFontsURL:R},I){const F=({chars:H,fonts:T})=>{let N,O;const le=[];for(let z=0;z<H.length;z++)H[z]!==O?(O=H[z],le.push(N={start:z,end:z,fontObj:T[H[z]]})):N.end=z;I(le)};G?F(G):l(E,F,{lang:M,fonts:k,style:U,weight:x,unicodeFontsURL:R})}function d({text:E="",font:M,lang:k,sdfGlyphSize:U=64,fontSize:x=400,fontWeight:G=1,fontStyle:R="normal",letterSpacing:I=0,lineHeight:F="normal",maxWidth:H=1/0,direction:T,textAlign:N="left",textIndent:O=0,whiteSpace:le="normal",overflowWrap:z="normal",anchorX:j=0,anchorY:P=0,metricsOnly:ie=!1,unicodeFontsURL:K,preResolvedFonts:we=null,includeCaretPositions:ke=!1,chunkedBoundsSize:ne=8192,colorRanges:X=null},C){const L=g(),V={fontLoad:0,typesetting:0};E.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),E=E.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),x=+x,I=+I,H=+H,F=F||"normal",O=+O,f({text:E,lang:k,style:R,weight:G,fonts:typeof M=="string"?[{src:M}]:M,unicodeFontsURL:K,preResolvedFonts:we},Y=>{V.fontLoad=g()-L;const Q=isFinite(H);let re=null,se=null,ce=null,Me=null,Ge=null,_e=null,de=null,Ke=null,Ye=0,Ie=0,De=le!=="nowrap";const Pe=new Map,ge=g();let je=O,Ae=0,fe=new b;const Qe=[fe];Y.forEach(Ne=>{const{fontObj:ze}=Ne,{ascender:Oe,descender:$e,unitsPerEm:Cn,lineGap:Pn,capHeight:ln,xHeight:Ze}=ze;let Ve=Pe.get(ze);if(!Ve){const oe=x/Cn,on=F==="normal"?(Oe-$e+Pn)*oe:F*x,Xn=(on-(Oe-$e)*oe)/2,Un=Math.min(on,(Oe-$e)*oe),fn=(Oe+$e)/2*oe+Un/2;Ve={index:Pe.size,src:ze.src,fontObj:ze,fontSizeMult:oe,unitsPerEm:Cn,ascender:Oe*oe,descender:$e*oe,capHeight:ln*oe,xHeight:Ze*oe,lineHeight:on,baseline:-Xn-Oe*oe,caretTop:fn,caretBottom:fn-Un},Pe.set(ze,Ve)}const{fontSizeMult:B}=Ve,ue=E.slice(Ne.start,Ne.end+1);let Ce,We;ze.forEachGlyph(ue,x,I,(oe,on,Xn,Un)=>{on+=Ae,Un+=Ne.start,Ce=on,We=oe;const fn=E.charAt(Un),xn=oe.advanceWidth*B,gn=fe.count;let qe;if("isEmpty"in oe||(oe.isWhitespace=!!fn&&new RegExp(o).test(fn),oe.canBreakAfter=!!fn&&a.test(fn),oe.isEmpty=oe.xMin===oe.xMax||oe.yMin===oe.yMax||u.test(fn)),!oe.isWhitespace&&!oe.isEmpty&&Ie++,De&&Q&&!oe.isWhitespace&&on+xn+je>H&&gn){if(fe.glyphAt(gn-1).glyphObj.canBreakAfter)qe=new b,je=-on;else for(let Hn=gn;Hn--;)if(Hn===0&&z==="break-word"){qe=new b,je=-on;break}else if(fe.glyphAt(Hn).glyphObj.canBreakAfter){qe=fe.splitAt(Hn+1);const Ln=qe.glyphAt(0).x;je-=Ln;for(let jn=qe.count;jn--;)qe.glyphAt(jn).x-=Ln;break}qe&&(fe.isSoftWrapped=!0,fe=qe,Qe.push(fe),Ye=H)}let kn=fe.glyphAt(fe.count);kn.glyphObj=oe,kn.x=on+je,kn.y=Xn,kn.width=xn,kn.charIndex=Un,kn.fontData=Ve,fn===`
`&&(fe=new b,Qe.push(fe),je=-(on+xn+I*x)+O)}),Ae=Ce+We.advanceWidth*B+I*x});let ye=0;Qe.forEach(Ne=>{let ze=!0;for(let Oe=Ne.count;Oe--;){const $e=Ne.glyphAt(Oe);ze&&!$e.glyphObj.isWhitespace&&(Ne.width=$e.x+$e.width,Ne.width>Ye&&(Ye=Ne.width),ze=!1);let{lineHeight:Cn,capHeight:Pn,xHeight:ln,baseline:Ze}=$e.fontData;Cn>Ne.lineHeight&&(Ne.lineHeight=Cn);const Ve=Ze-Ne.baseline;Ve<0&&(Ne.baseline+=Ve,Ne.cap+=Ve,Ne.ex+=Ve),Ne.cap=Math.max(Ne.cap,Ne.baseline+Pn),Ne.ex=Math.max(Ne.ex,Ne.baseline+ln)}Ne.baseline-=ye,Ne.cap-=ye,Ne.ex-=ye,ye+=Ne.lineHeight});let Re=0,Fe=0;if(j&&(typeof j=="number"?Re=-j:typeof j=="string"&&(Re=-Ye*(j==="left"?0:j==="center"?.5:j==="right"?1:h(j)))),P&&(typeof P=="number"?Fe=-P:typeof P=="string"&&(Fe=P==="top"?0:P==="top-baseline"?-Qe[0].baseline:P==="top-cap"?-Qe[0].cap:P==="top-ex"?-Qe[0].ex:P==="middle"?ye/2:P==="bottom"?ye:P==="bottom-baseline"?-Qe[Qe.length-1].baseline:h(P)*ye)),!ie){const Ne=t.getEmbeddingLevels(E,T);re=new Uint16Array(Ie),se=new Uint8Array(Ie),ce=new Float32Array(Ie*2),Me={},de=[1/0,1/0,-1/0,-1/0],Ke=[],ke&&(_e=new Float32Array(E.length*4)),X&&(Ge=new Uint8Array(Ie*3));let ze=0,Oe=-1,$e=-1,Cn,Pn;if(Qe.forEach((ln,Ze)=>{let{count:Ve,width:B}=ln;if(Ve>0){let ue=0;for(let Un=Ve;Un--&&ln.glyphAt(Un).glyphObj.isWhitespace;)ue++;let Ce=0,We=0;if(N==="center")Ce=(Ye-B)/2;else if(N==="right")Ce=Ye-B;else if(N==="justify"&&ln.isSoftWrapped){let Un=0;for(let fn=Ve-ue;fn--;)ln.glyphAt(fn).glyphObj.isWhitespace&&Un++;We=(Ye-B)/Un}if(We||Ce){let Un=0;for(let fn=0;fn<Ve;fn++){let xn=ln.glyphAt(fn);const gn=xn.glyphObj;xn.x+=Ce+Un,We!==0&&gn.isWhitespace&&fn<Ve-ue&&(Un+=We,xn.width+=We)}}const oe=t.getReorderSegments(E,Ne,ln.glyphAt(0).charIndex,ln.glyphAt(ln.count-1).charIndex);for(let Un=0;Un<oe.length;Un++){const[fn,xn]=oe[Un];let gn=1/0,qe=-1/0;for(let kn=0;kn<Ve;kn++)if(ln.glyphAt(kn).charIndex>=fn){let Hn=kn,Ln=kn;for(;Ln<Ve;Ln++){let jn=ln.glyphAt(Ln);if(jn.charIndex>xn)break;Ln<Ve-ue&&(gn=Math.min(gn,jn.x),qe=Math.max(qe,jn.x+jn.width))}for(let jn=Hn;jn<Ln;jn++){const pt=ln.glyphAt(jn);pt.x=qe-(pt.x+pt.width-gn)}break}}let on;const Xn=Un=>on=Un;for(let Un=0;Un<Ve;Un++){const fn=ln.glyphAt(Un);on=fn.glyphObj;const xn=on.index,gn=Ne.levels[fn.charIndex]&1;if(gn){const qe=t.getMirroredCharacter(E[fn.charIndex]);qe&&fn.fontData.fontObj.forEachGlyph(qe,0,0,Xn)}if(ke){const{charIndex:qe,fontData:kn}=fn,Hn=fn.x+Re,Ln=fn.x+fn.width+Re;_e[qe*4]=gn?Ln:Hn,_e[qe*4+1]=gn?Hn:Ln,_e[qe*4+2]=ln.baseline+kn.caretBottom+Fe,_e[qe*4+3]=ln.baseline+kn.caretTop+Fe;const jn=qe-Oe;jn>1&&m(_e,Oe,jn),Oe=qe}if(X){const{charIndex:qe}=fn;for(;qe>$e;)$e++,X.hasOwnProperty($e)&&(Pn=X[$e])}if(!on.isWhitespace&&!on.isEmpty){const qe=ze++,{fontSizeMult:kn,src:Hn,index:Ln}=fn.fontData,jn=Me[Hn]||(Me[Hn]={});jn[xn]||(jn[xn]={path:on.path,pathBounds:[on.xMin,on.yMin,on.xMax,on.yMax]});const pt=fn.x+Re,Tt=fn.y+ln.baseline+Fe;ce[qe*2]=pt,ce[qe*2+1]=Tt;const Mt=pt+on.xMin*kn,ut=Tt+on.yMin*kn,yt=pt+on.xMax*kn,Je=Tt+on.yMax*kn;Mt<de[0]&&(de[0]=Mt),ut<de[1]&&(de[1]=ut),yt>de[2]&&(de[2]=yt),Je>de[3]&&(de[3]=Je),qe%ne===0&&(Cn={start:qe,end:qe,rect:[1/0,1/0,-1/0,-1/0]},Ke.push(Cn)),Cn.end++;const tt=Cn.rect;if(Mt<tt[0]&&(tt[0]=Mt),ut<tt[1]&&(tt[1]=ut),yt>tt[2]&&(tt[2]=yt),Je>tt[3]&&(tt[3]=Je),re[qe]=xn,se[qe]=Ln,X){const zt=qe*3;Ge[zt]=Pn>>16&255,Ge[zt+1]=Pn>>8&255,Ge[zt+2]=Pn&255}}}}}),_e){const ln=E.length-Oe;ln>1&&m(_e,Oe,ln)}}const yn=[];Pe.forEach(({index:Ne,src:ze,unitsPerEm:Oe,ascender:$e,descender:Cn,lineHeight:Pn,capHeight:ln,xHeight:Ze})=>{yn[Ne]={src:ze,unitsPerEm:Oe,ascender:$e,descender:Cn,lineHeight:Pn,capHeight:ln,xHeight:Ze}}),V.typesetting=g()-ge,C({glyphIds:re,glyphFontIndices:se,glyphPositions:ce,glyphData:Me,fontData:yn,caretPositions:_e,glyphColors:Ge,chunkedBounds:Ke,fontSize:x,topBaseline:Fe+Qe[0].baseline,blockBounds:[Re,Fe-ye,Re+Ye,Fe],visibleBounds:de,timings:V})})}function s(E,M){d({...E,metricsOnly:!0},k=>{const[U,x,G,R]=k.blockBounds;M({width:G-U,height:R-x})})}function h(E){let M=E.match(/^([\d.]+)%$/),k=M?parseFloat(M[1]):NaN;return isNaN(k)?0:k/100}function m(E,M,k){const U=E[M*4],x=E[M*4+1],G=E[M*4+2],R=E[M*4+3],I=(x-U)/k;for(let F=0;F<k;F++){const H=(M+F)*4;E[H]=U+I*F,E[H+1]=U+I*(F+1),E[H+2]=G,E[H+3]=R}}function g(){return(self.performance||Date).now()}function b(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return b.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(E){let M=b.flyweight;return M.data=this.data,M.index=E,M},splitAt(E){let M=new b;return M.data=this.data.splice(E*S.length),M}},b.flyweight=S.reduce((E,M,k,U)=>(Object.defineProperty(E,M,{get(){return this.data[this.index*S.length+k]},set(x){this.data[this.index*S.length+k]=x}}),E),{data:null,index:0}),{typeset:d,measure:s}}const Aa=()=>(self.performance||Date).now(),Dl=sh();let dd;function M0(l,t,p,u,o,a,f,d,s,h,m=!0){return m?U0(l,t,p,u,o,a,f,d,s,h).then(null,g=>(dd||(console.warn("WebGL SDF generation failed, falling back to JS",g),dd=!0),pd(l,t,p,u,o,a,f,d,s,h))):pd(l,t,p,u,o,a,f,d,s,h)}const bl=[],C0=5;let bu=0;function ch(){const l=Aa();for(;bl.length&&Aa()-l<C0;)bl.shift()();bu=bl.length?setTimeout(ch,0):0}const U0=(...l)=>new Promise((t,p)=>{bl.push(()=>{const u=Aa();try{Dl.webgl.generateIntoCanvas(...l),t({timing:Aa()-u})}catch(o){p(o)}}),bu||(bu=setTimeout(ch,0))}),F0=4,I0=2e3,hd={};let D0=0;function pd(l,t,p,u,o,a,f,d,s,h){const m="TroikaTextSDFGenerator_JS_"+D0++%F0;let g=hd[m];return g||(g=hd[m]={workerModule:Fo({name:m,workerId:m,dependencies:[sh,Aa],init(b,S){const E=b().javascript.generate;return function(...M){const k=S();return{textureData:E(...M),timing:S()-k}}},getTransferables(b){return[b.textureData.buffer]}}),requests:0,idleTimer:null}),g.requests++,clearTimeout(g.idleTimer),g.workerModule(l,t,p,u,o,a).then(({textureData:b,timing:S})=>{const E=Aa(),M=new Uint8Array(b.length*4);for(let k=0;k<b.length;k++)M[k*4+h]=b[k];return Dl.webglUtils.renderImageData(f,M,d,s,l,t,1<<3-h),S+=Aa()-E,--g.requests===0&&(g.idleTimer=setTimeout(()=>{u0(m)},I0)),{timing:S}})}function A0(l){l._warm||(Dl.webgl.isSupported(l),l._warm=!0)}const R0=Dl.webglUtils.resizeWebGLCanvasWithoutClearing,fi={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},O0=new ua;function _o(){return(self.performance||Date).now()}const vd=Object.create(null);function fh(l,t){l=z0({},l);const p=_o(),u=[];if(l.font&&u.push({label:"user",src:L0(l.font)}),l.font=u,l.text=""+l.text,l.sdfGlyphSize=l.sdfGlyphSize||fi.sdfGlyphSize,l.unicodeFontsURL=l.unicodeFontsURL||fi.unicodeFontsURL,l.colorRanges!=null){let b={};for(let S in l.colorRanges)if(l.colorRanges.hasOwnProperty(S)){let E=l.colorRanges[S];typeof E!="number"&&(E=O0.set(E).getHex()),b[S]=E}l.colorRanges=b}Object.freeze(l);const{textureWidth:o,sdfExponent:a}=fi,{sdfGlyphSize:f}=l,d=o/f*4;let s=vd[f];if(!s){const b=document.createElement("canvas");b.width=o,b.height=f*256/d,s=vd[f]={glyphCount:0,sdfGlyphSize:f,sdfCanvas:b,sdfTexture:new Ia(b,void 0,void 0,void 0,ir,ir),contextLost:!1,glyphsByFont:new Map},s.sdfTexture.generateMipmaps=!1,P0(s)}const{sdfTexture:h,sdfCanvas:m}=s;ph(l).then(b=>{const{glyphIds:S,glyphFontIndices:E,fontData:M,glyphPositions:k,fontSize:U,timings:x}=b,G=[],R=new Float32Array(S.length*4);let I=0,F=0;const H=_o(),T=M.map(j=>{let P=s.glyphsByFont.get(j.src);return P||s.glyphsByFont.set(j.src,P=new Map),P});S.forEach((j,P)=>{const ie=E[P],{src:K,unitsPerEm:we}=M[ie];let ke=T[ie].get(j);if(!ke){const{path:V,pathBounds:Y}=b.glyphData[K][j],Q=Math.max(Y[2]-Y[0],Y[3]-Y[1])/f*(fi.sdfMargin*f+.5),re=s.glyphCount++,se=[Y[0]-Q,Y[1]-Q,Y[2]+Q,Y[3]+Q];T[ie].set(j,ke={path:V,atlasIndex:re,sdfViewBox:se}),G.push(ke)}const{sdfViewBox:ne}=ke,X=k[F++],C=k[F++],L=U/we;R[I++]=X+ne[0]*L,R[I++]=C+ne[1]*L,R[I++]=X+ne[2]*L,R[I++]=C+ne[3]*L,S[P]=ke.atlasIndex}),x.quads=(x.quads||0)+(_o()-H);const N=_o();x.sdf={};const O=m.height,le=Math.ceil(s.glyphCount/d),z=Math.pow(2,Math.ceil(Math.log2(le*f)));z>O&&(console.info(`Increasing SDF texture size ${O}->${z}`),R0(m,o,z),h.dispose()),Promise.all(G.map(j=>dh(j,s,l.gpuAccelerateSDF).then(({timing:P})=>{x.sdf[j.atlasIndex]=P}))).then(()=>{G.length&&!s.contextLost&&(hh(s),h.needsUpdate=!0),x.sdfTotal=_o()-N,x.total=_o()-p,t(Object.freeze({parameters:l,sdfTexture:h,sdfGlyphSize:f,sdfExponent:a,glyphBounds:R,glyphAtlasIndices:S,glyphColors:b.glyphColors,caretPositions:b.caretPositions,chunkedBounds:b.chunkedBounds,ascender:b.ascender,descender:b.descender,lineHeight:b.lineHeight,capHeight:b.capHeight,xHeight:b.xHeight,topBaseline:b.topBaseline,blockBounds:b.blockBounds,visibleBounds:b.visibleBounds,timings:b.timings}))})}),Promise.resolve().then(()=>{s.contextLost||A0(m)})}function dh({path:l,atlasIndex:t,sdfViewBox:p},{sdfGlyphSize:u,sdfCanvas:o,contextLost:a},f){if(a)return Promise.resolve({timing:-1});const{textureWidth:d,sdfExponent:s}=fi,h=Math.max(p[2]-p[0],p[3]-p[1]),m=Math.floor(t/4),g=m%(d/u)*u,b=Math.floor(m/(d/u))*u,S=t%4;return M0(u,u,l,p,h,s,o,g,b,S,f)}function P0(l){const t=l.sdfCanvas;t.addEventListener("webglcontextlost",p=>{console.log("Context Lost",p),p.preventDefault(),l.contextLost=!0}),t.addEventListener("webglcontextrestored",p=>{console.log("Context Restored",p),l.contextLost=!1;const u=[];l.glyphsByFont.forEach(o=>{o.forEach(a=>{u.push(dh(a,l,!0))})}),Promise.all(u).then(()=>{hh(l),l.sdfTexture.needsUpdate=!0})})}function N0({font:l,characters:t,sdfGlyphSize:p},u){let o=Array.isArray(t)?t.join(`
`):""+t;fh({font:l,sdfGlyphSize:p,text:o},u)}function z0(l,t){for(let p in t)t.hasOwnProperty(p)&&(l[p]=t[p]);return l}let fl;function L0(l){return fl||(fl=typeof document>"u"?{}:document.createElement("a")),fl.href=l,fl.href}function hh(l){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:p}=l,{width:u,height:o}=t,a=l.sdfCanvas.getContext("webgl");let f=p.image.data;(!f||f.length!==u*o*4)&&(f=new Uint8Array(u*o*4),p.image={width:u,height:o,data:f},p.flipY=!1,p.isDataTexture=!0),a.readPixels(0,0,u,o,a.RGBA,a.UNSIGNED_BYTE,f)}}const B0=Fo({name:"Typesetter",dependencies:[T0,k0,f0],init(l,t,p){return l(t,p())}}),ph=Fo({name:"Typesetter",dependencies:[B0],init(l){return function(t){return new Promise(p=>{l.typeset(t,p)})}},getTransferables(l){const t=[];for(let p in l)l[p]&&l[p].buffer&&t.push(l[p].buffer);return t}});ph.onMainThread;const md={};function j0(l){let t=md[l];return t||(t=md[l]=new Co(1,1,l,l).translate(.5,.5,0)),t}const G0="aTroikaGlyphBounds",gd="aTroikaGlyphIndex",H0="aTroikaGlyphColor";class W0 extends em{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new nm,this.boundingBox=new Id}computeBoundingSphere(){}computeBoundingBox(){}set detail(t){if(t!==this._detail){this._detail=t,(typeof t!="number"||t<1)&&(t=1);let p=j0(t);["position","normal","uv"].forEach(u=>{this.attributes[u]=p.attributes[u].clone()}),this.setIndex(p.getIndex().clone())}}get detail(){return this._detail}set curveRadius(t){t!==this._curveRadius&&(this._curveRadius=t,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(t,p,u,o,a){this.updateAttributeData(G0,t,4),this.updateAttributeData(gd,p,1),this.updateAttributeData(H0,a,3),this._blockBounds=u,this._chunkedBounds=o,this.instanceCount=p.length,this._updateBounds()}_updateBounds(){const t=this._blockBounds;if(t){const{curveRadius:p,boundingBox:u}=this;if(p){const{PI:o,floor:a,min:f,max:d,sin:s,cos:h}=Math,m=o/2,g=o*2,b=Math.abs(p),S=t[0]/b,E=t[2]/b,M=a((S+m)/g)!==a((E+m)/g)?-b:f(s(S)*b,s(E)*b),k=a((S-m)/g)!==a((E-m)/g)?b:d(s(S)*b,s(E)*b),U=a((S+o)/g)!==a((E+o)/g)?b*2:d(b-h(S)*b,b-h(E)*b);u.min.set(M,t[1],p<0?-U:0),u.max.set(k,t[3],p<0?0:U)}else u.min.set(t[0],t[1],0),u.max.set(t[2],t[3],0);u.getBoundingSphere(this.boundingSphere)}}applyClipRect(t){let p=this.getAttribute(gd).count,u=this._chunkedBounds;if(u)for(let o=u.length;o--;){p=u[o].end;let a=u[o].rect;if(a[1]<t.w&&a[3]>t.y&&a[0]<t.z&&a[2]>t.x)break}this.instanceCount=p}updateAttributeData(t,p,u){const o=this.getAttribute(t);p?o&&o.array.length===p.length?(o.array.set(p),o.needsUpdate=!0):(this.setAttribute(t,new tm(p,u)),delete this._maxInstanceCount,this.dispose()):o&&this.deleteAttribute(t)}}const V0=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,X0=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Y0=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Z0=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function q0(l){const t=yu(l,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new kt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new zf(0,0,0,0)},uTroikaClipRect:{value:new zf(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new kt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ua},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new rm},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:V0,vertexTransform:X0,fragmentDefs:Y0,fragmentColorTransform:Z0,customRewriter({vertexShader:p,fragmentShader:u}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(u)&&(u=u.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(p)||(p=p.replace(uh,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:p,fragmentShader:u}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const Cu=new Fd({color:16777215,side:Md,transparent:!0}),yd=8421504,bd=new $v,dl=new Yn,iu=new Yn,ui=[],Q0=new Yn,lu="+x+y";function Sd(l){return Array.isArray(l)?l[0]:l}let vh=()=>{const l=new Oa(new Co(1,1),Cu);return vh=()=>l,l},mh=()=>{const l=new Oa(new Co(1,1,32,1),Cu);return mh=()=>l,l};const K0={type:"syncstart"},J0={type:"synccomplete"},gh=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],$0=gh.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let yh=class extends Oa{constructor(){const t=new W0;super(t,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=yd,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=lu,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(t){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(t):(this._isSyncing=!0,this.dispatchEvent(K0),fh({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},p=>{this._isSyncing=!1,this._textRenderInfo=p,this.geometry.updateGlyphs(p.glyphBounds,p.glyphAtlasIndices,p.blockBounds,p.chunkedBounds,p.glyphColors);const u=this._queuedSyncs;u&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{u.forEach(o=>o&&o())})),this.dispatchEvent(J0),t&&t()})))}onBeforeRender(t,p,u,o,a,f){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(t){return q0(t)}get material(){let t=this._derivedMaterial;const p=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Cu.clone());if((!t||!t.isDerivedFrom(p))&&(t=this._derivedMaterial=this.createDerivedMaterial(p),p.addEventListener("dispose",function u(){p.removeEventListener("dispose",u),t.dispose()})),this.hasOutline()){let u=t._outlineMtl;return u||(u=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),u.isTextOutlineMaterial=!0,u.depthWrite=!1,u.map=null,t.addEventListener("dispose",function o(){t.removeEventListener("dispose",o),u.dispose()})),[u,t]}else return t}set material(t){t&&t.isTroikaTextMaterial?(this._derivedMaterial=t,this._baseMaterial=t.baseMaterial):this._baseMaterial=t}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(t){this.geometry.detail=t}get curveRadius(){return this.geometry.curveRadius}set curveRadius(t){this.geometry.curveRadius=t}get customDepthMaterial(){return Sd(this.material).getDepthMaterial()}set customDepthMaterial(t){}get customDistanceMaterial(){return Sd(this.material).getDistanceMaterial()}set customDistanceMaterial(t){}_prepareForRender(t){const p=t.isTextOutlineMaterial,u=t.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:d,blockBounds:s}=o;u.uTroikaSDFTexture.value=d,u.uTroikaSDFTextureSize.value.set(d.image.width,d.image.height),u.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,u.uTroikaSDFExponent.value=o.sdfExponent,u.uTroikaTotalBounds.value.fromArray(s),u.uTroikaUseGlyphColors.value=!p&&!!o.glyphColors;let h=0,m=0,g=0,b,S,E,M=0,k=0;if(p){let{outlineWidth:x,outlineOffsetX:G,outlineOffsetY:R,outlineBlur:I,outlineOpacity:F}=this;h=this._parsePercent(x)||0,m=Math.max(0,this._parsePercent(I)||0),b=F,M=this._parsePercent(G)||0,k=this._parsePercent(R)||0}else g=Math.max(0,this._parsePercent(this.strokeWidth)||0),g&&(E=this.strokeColor,u.uTroikaStrokeColor.value.set(E??yd),S=this.strokeOpacity,S==null&&(S=1)),b=this.fillOpacity;u.uTroikaEdgeOffset.value=h,u.uTroikaPositionOffset.value.set(M,k),u.uTroikaBlurRadius.value=m,u.uTroikaStrokeWidth.value=g,u.uTroikaStrokeOpacity.value=S,u.uTroikaFillOpacity.value=b??1,u.uTroikaCurveRadius.value=this.curveRadius||0;let U=this.clipRect;if(U&&Array.isArray(U)&&U.length===4)u.uTroikaClipRect.value.fromArray(U);else{const x=(this.fontSize||.1)*100;u.uTroikaClipRect.value.set(s[0]-x,s[1]-x,s[2]+x,s[3]+x)}this.geometry.applyClipRect(u.uTroikaClipRect.value)}u.uTroikaSDFDebug.value=!!this.debugSDF,t.polygonOffset=!!this.depthOffset,t.polygonOffsetFactor=t.polygonOffsetUnits=this.depthOffset||0;const a=p?this.outlineColor||0:this.color;if(a==null)delete t.color;else{const d=t.hasOwnProperty("color")?t.color:t.color=new ua;(a!==d._input||typeof a=="object")&&d.set(d._input=a)}let f=this.orientation||lu;if(f!==t._orientation){let d=u.uTroikaOrient.value;f=f.replace(/[^-+xyz]/g,"");let s=f!==lu&&f.match(/^([-+])([xyz])([-+])([xyz])$/);if(s){let[,h,m,g,b]=s;dl.set(0,0,0)[m]=h==="-"?1:-1,iu.set(0,0,0)[b]=g==="-"?-1:1,bd.lookAt(Q0,dl.cross(iu),iu),d.setFromMatrix4(bd)}else d.identity();t._orientation=f}}_parsePercent(t){if(typeof t=="string"){let p=t.match(/^(-?[\d.]+)%$/),u=p?parseFloat(p[1]):NaN;t=(isNaN(u)?0:u/100)*this.fontSize}return t}localPositionToTextCoords(t,p=new kt){p.copy(t);const u=this.curveRadius;return u&&(p.x=Math.atan2(t.x,Math.abs(u)-Math.abs(t.z))*Math.abs(u)),p}worldPositionToTextCoords(t,p=new kt){return dl.copy(t),this.localPositionToTextCoords(this.worldToLocal(dl),p)}raycast(t,p){const{textRenderInfo:u,curveRadius:o}=this;if(u){const a=u.blockBounds,f=o?mh():vh(),d=f.geometry,{position:s,uv:h}=d.attributes;for(let m=0;m<h.count;m++){let g=a[0]+h.getX(m)*(a[2]-a[0]);const b=a[1]+h.getY(m)*(a[3]-a[1]);let S=0;o&&(S=o-Math.cos(g/o)*o,g=Math.sin(g/o)*o),s.setXYZ(m,g,b,S)}d.boundingSphere=this.geometry.boundingSphere,d.boundingBox=this.geometry.boundingBox,f.matrixWorld=this.matrixWorld,f.material.side=this.material.side,ui.length=0,f.raycast(t,ui);for(let m=0;m<ui.length;m++)ui[m].object=this,p.push(ui[m])}}copy(t){const p=this.geometry;return super.copy(t),this.geometry=p,$0.forEach(u=>{this[u]=t[u]}),this}clone(){return new this.constructor().copy(this)}};gh.forEach(l=>{const t="_private_"+l;Object.defineProperty(yh.prototype,l,{get(){return this[t]},set(p){p!==this[t]&&(this[t]=p,this._needsSync=!0)}})});new Id;new ua;const e1=ve.forwardRef(({sdfGlyphSize:l=64,anchorX:t="center",anchorY:p="middle",font:u,fontSize:o=1,children:a,characters:f,onSync:d,...s},h)=>{const m=Ot(({invalidate:E})=>E),[g]=ve.useState(()=>new yh),[b,S]=ve.useMemo(()=>{const E=[];let M="";return ve.Children.forEach(a,k=>{typeof k=="string"||typeof k=="number"?M+=k:E.push(k)}),[E,M]},[a]);return Od(()=>new Promise(E=>N0({font:u,characters:f},E)),["troika-text",u,f]),ve.useLayoutEffect(()=>{g.sync(()=>{m(),d&&d(g)})}),ve.useEffect(()=>()=>g.dispose(),[g]),ve.createElement("primitive",Ul({object:g,ref:h,font:u,text:S,anchorX:t,anchorY:p,fontSize:o,sdfGlyphSize:l},s),b)}),n1=ve.forwardRef(({makeDefault:l,camera:t,regress:p,domElement:u,enableDamping:o=!0,keyEvents:a=!1,onChange:f,onStart:d,onEnd:s,...h},m)=>{const g=Ot(F=>F.invalidate),b=Ot(F=>F.camera),S=Ot(F=>F.gl),E=Ot(F=>F.events),M=Ot(F=>F.setEvents),k=Ot(F=>F.set),U=Ot(F=>F.get),x=Ot(F=>F.performance),G=t||b,R=u||E.connected||S.domElement,I=ve.useMemo(()=>new e0(G),[G]);return Fl(()=>{I.enabled&&I.update()},-1),ve.useEffect(()=>(a&&I.connect(a===!0?R:a),I.connect(R),()=>{I.dispose()}),[a,R,p,I,g]),ve.useEffect(()=>{const F=N=>{g(),p&&x.regress(),f&&f(N)},H=N=>{d&&d(N)},T=N=>{s&&s(N)};return I.addEventListener("change",F),I.addEventListener("start",H),I.addEventListener("end",T),()=>{I.removeEventListener("start",H),I.removeEventListener("end",T),I.removeEventListener("change",F)}},[f,d,s,I,g,M]),ve.useEffect(()=>{if(l){const F=U().controls;return k({controls:I}),()=>k({controls:F})}},[l,I]),ve.createElement("primitive",Ul({ref:m,object:I,enableDamping:o},h))}),bh=(l,t,p)=>{let u;switch(l){case wl:u=new Uint8ClampedArray(t*p*4);break;case or:u=new Uint16Array(t*p*4);break;case sm:u=new Uint32Array(t*p*4);break;case lm:u=new Int8Array(t*p*4);break;case im:u=new Int16Array(t*p*4);break;case om:u=new Int32Array(t*p*4);break;case Or:u=new Float32Array(t*p*4);break;default:throw new Error("Unsupported data type")}return u};let hl;const t1=(l,t,p,u)=>{if(hl!==void 0)return hl;const o=new _l(1,1,u);t.setRenderTarget(o);const a=new Oa(new Co,new Fd({color:16777215}));t.render(a,p),t.setRenderTarget(null);const f=bh(l,o.width,o.height);return t.readRenderTargetPixels(o,0,0,o.width,o.height,f),o.dispose(),a.geometry.dispose(),a.material.dispose(),hl=f[0]!==0,hl};class Uu{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(t){this._width=t.width,this._height=t.height,this._type=t.type,this._colorSpace=t.colorSpace;const p={format:ko,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:t.renderTargetOptions?.anisotropy!==void 0?t.renderTargetOptions?.anisotropy:1,generateMipmaps:t.renderTargetOptions?.generateMipmaps!==void 0?t.renderTargetOptions?.generateMipmaps:!1,magFilter:t.renderTargetOptions?.magFilter!==void 0?t.renderTargetOptions?.magFilter:ir,minFilter:t.renderTargetOptions?.minFilter!==void 0?t.renderTargetOptions?.minFilter:ir,samples:t.renderTargetOptions?.samples!==void 0?t.renderTargetOptions?.samples:void 0,wrapS:t.renderTargetOptions?.wrapS!==void 0?t.renderTargetOptions?.wrapS:la,wrapT:t.renderTargetOptions?.wrapT!==void 0?t.renderTargetOptions?.wrapT:la};if(this._material=t.material,t.renderer?this._renderer=t.renderer:(this._renderer=Uu.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Su,this._camera=new di,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!t1(this._type,this._renderer,this._camera,p)){let u;this._type===or&&(u=this._renderer.extensions.has("EXT_color_buffer_float")?Or:void 0),u!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Or}`),this._type=u):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Oa(new Co,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new _l(this.width,this.height,p),this._renderTarget.texture.mapping=t.renderTargetOptions?.mapping!==void 0?t.renderTargetOptions?.mapping:El}static instantiateRenderer(){const t=new kd;return t.setSize(128,128),t}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(t){throw this._renderer.setRenderTarget(null),t}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const t=bh(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,t),t}toDataTexture(t){const p=new am(this.toArray(),this.width,this.height,ko,this._type,t?.mapping||El,t?.wrapS||la,t?.wrapT||la,t?.magFilter||ir,t?.minFilter||ir,t?.anisotropy||1,Sl);return p.generateMipmaps=t?.generateMipmaps!==void 0?t?.generateMipmaps:!1,p}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(t){this.disposeOnDemandRenderer(),t&&this.renderTarget.dispose(),this.material instanceof gi&&Object.values(this.material.uniforms).forEach(p=>{p.value instanceof Ia&&p.value.dispose()}),Object.values(this.material).forEach(p=>{p instanceof Ia&&p.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(t){this._width=t,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(t){this._height=t,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(t){this._renderTarget=t,this._width=t.width,this._height=t.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Sh extends Error{}class wh extends Error{}const ci=(l,t,p)=>{const u=new RegExp(`${t}="([^"]*)"`,"i").exec(l);if(u)return u[1];const o=new RegExp(`<${t}[^>]*>([\\s\\S]*?)</${t}>`,"i").exec(l);if(o){const a=o[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(f=>f.replace(/<\/?rdf:li>/g,"")):o[1].trim()}if(p!==void 0)return p;throw new Error(`Can't find ${t} in gainmap metadata`)},r1=l=>{let t;typeof TextDecoder<"u"?t=new TextDecoder().decode(l):t=l.toString();let p=t.indexOf("<x:xmpmeta");for(;p!==-1;){const u=t.indexOf("x:xmpmeta>",p),o=t.slice(p,u+10);try{const a=ci(o,"hdrgm:GainMapMin","0"),f=ci(o,"hdrgm:GainMapMax"),d=ci(o,"hdrgm:Gamma","1"),s=ci(o,"hdrgm:OffsetSDR","0.015625"),h=ci(o,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(o),g=m?m[1]:"0",b=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(o);if(!b)throw new Error("Incomplete gainmap metadata");const S=b[1];return{gainMapMin:Array.isArray(a)?a.map(E=>parseFloat(E)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(f)?f.map(E=>parseFloat(E)):[parseFloat(f),parseFloat(f),parseFloat(f)],gamma:Array.isArray(d)?d.map(E=>parseFloat(E)):[parseFloat(d),parseFloat(d),parseFloat(d)],offsetSdr:Array.isArray(s)?s.map(E=>parseFloat(E)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetHdr:Array.isArray(h)?h.map(E=>parseFloat(E)):[parseFloat(h),parseFloat(h),parseFloat(h)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(S)}}catch{}p=t.indexOf("<x:xmpmeta",u)}};class a1{options;constructor(t){this.options={debug:t&&t.debug!==void 0?t.debug:!1,extractFII:t&&t.extractFII!==void 0?t.extractFII:!0,extractNonFII:t&&t.extractNonFII!==void 0?t.extractNonFII:!0}}extract(t){return new Promise((p,u)=>{const o=this.options.debug,a=new DataView(t.buffer);if(a.getUint16(0)!==65496){u(new Error("Not a valid jpeg"));return}const f=a.byteLength;let d=2,s=0,h;for(;d<f;){if(++s>250){u(new Error(`Found no marker after ${s} loops `));return}if(a.getUint8(d)!==255){u(new Error(`Not a valid marker at offset 0x${d.toString(16)}, found: 0x${a.getUint8(d).toString(16)}`));return}if(h=a.getUint8(d+1),o&&console.log(`Marker: ${h.toString(16)}`),h===226){o&&console.log("Found APP2 marker (0xffe2)");const m=d+4;if(a.getUint32(m)===1297106432){const g=m+4;let b;if(a.getUint16(g)===18761)b=!1;else if(a.getUint16(g)===19789)b=!0;else{u(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(g+2,!b)!==42){u(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const S=a.getUint32(g+4,!b);if(S<8){u(new Error("Not valid TIFF data! (First offset less than 8)"));return}const E=g+S,M=a.getUint16(E,!b),k=E+2;let U=0;for(let I=k;I<k+12*M;I+=12)a.getUint16(I,!b)===45057&&(U=a.getUint32(I+8,!b));const G=E+2+M*12+4,R=[];for(let I=G;I<G+U*16;I+=16){const F={MPType:a.getUint32(I,!b),size:a.getUint32(I+4,!b),dataOffset:a.getUint32(I+8,!b),dependantImages:a.getUint32(I+12,!b),start:-1,end:-1,isFII:!1};F.dataOffset?(F.start=g+F.dataOffset,F.isFII=!1):(F.start=0,F.isFII=!0),F.end=F.start+F.size,R.push(F)}if(this.options.extractNonFII&&R.length){const I=new Blob([a]),F=[];for(const H of R){if(H.isFII&&!this.options.extractFII)continue;const T=I.slice(H.start,H.end+1,"image/jpeg");F.push(T)}p(F)}}}d+=2+a.getUint16(d+2)}})}}const o1=async l=>{const t=r1(l);if(!t)throw new wh("Gain map XMP metadata not found");const u=await new a1({extractFII:!0,extractNonFII:!0}).extract(l);if(u.length!==2)throw new Sh("Gain map recovery image not found");return{sdr:new Uint8Array(await u[0].arrayBuffer()),gainMap:new Uint8Array(await u[1].arrayBuffer()),metadata:t}},wd=l=>new Promise((t,p)=>{const u=document.createElement("img");u.onload=()=>{t(u)},u.onerror=o=>{p(o)},u.src=URL.createObjectURL(l)});class i1 extends um{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(t,p){super(p),this._config=t,t.renderer&&(this._renderer=t.renderer),this._internalLoadingManager=new cm}setRenderer(t){return this._renderer=t,this}setRenderTargetOptions(t){return this._renderTargetOptions=t,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const t=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Ia,sdr:new Ia});return this._config.createQuadRenderer({width:16,height:16,type:or,colorSpace:Sl,material:t,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(t,p,u){const o=p?new Blob([p],{type:"image/jpeg"}):void 0,a=new Blob([t],{type:"image/jpeg"});let f,d,s=!1;if(typeof createImageBitmap>"u"){const h=await Promise.all([o?wd(o):Promise.resolve(void 0),wd(a)]);d=h[0],f=h[1],s=u==="flipY"}else{const h=await Promise.all([o?createImageBitmap(o,{imageOrientation:u||"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:u||"flipY"})]);d=h[0],f=h[1]}return{sdrImage:f,gainMapImage:d,needsFlip:s}}createTextures(t,p,u){const o=new Ia(p||new ImageData(2,2),El,la,la,ir,Lf,ko,wl,1,Sl);o.flipY=u,o.needsUpdate=!0;const a=new Ia(t,El,la,la,ir,Lf,ko,wl,1,wu);return a.flipY=u,a.needsUpdate=!0,{gainMap:o,sdr:a}}updateQuadRenderer(t,p,u,o,a){t.width=p.width,t.height=p.height,t.material.gainMap=u,t.material.sdr=o,t.material.gainMapMin=a.gainMapMin,t.material.gainMapMax=a.gainMapMax,t.material.offsetHdr=a.offsetHdr,t.material.offsetSdr=a.offsetSdr,t.material.gamma=a.gamma,t.material.hdrCapacityMin=a.hdrCapacityMin,t.material.hdrCapacityMax=a.hdrCapacityMax,t.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),t.material.needsUpdate=!0}}const l1=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,s1=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class u1 extends gi{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:t,offsetHdr:p,offsetSdr:u,gainMapMin:o,gainMapMax:a,maxDisplayBoost:f,hdrCapacityMin:d,hdrCapacityMax:s,sdr:h,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:l1,fragmentShader:s1,uniforms:{sdr:{value:h},gainMap:{value:m},gamma:{value:new Yn(1/t[0],1/t[1],1/t[2])},offsetHdr:{value:new Yn().fromArray(p)},offsetSdr:{value:new Yn().fromArray(u)},gainMapMin:{value:new Yn().fromArray(o)},gainMapMax:{value:new Yn().fromArray(a)},weightFactor:{value:(Math.log2(f)-d)/(s-d)}},blending:fm,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=f,this._hdrCapacityMin=d,this._hdrCapacityMax=s,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(t){this.uniforms.sdr.value=t}get gainMap(){return this.uniforms.gainMap.value}set gainMap(t){this.uniforms.gainMap.value=t}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(t){this.uniforms.offsetHdr.value.fromArray(t)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(t){this.uniforms.offsetSdr.value.fromArray(t)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(t){this.uniforms.gainMapMin.value.fromArray(t)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(t){this.uniforms.gainMapMax.value.fromArray(t)}get gamma(){const t=this.uniforms.gamma.value;return[1/t.x,1/t.y,1/t.z]}set gamma(t){const p=this.uniforms.gamma.value;p.x=1/t[0],p.y=1/t[1],p.z=1/t[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(t){this._hdrCapacityMin=t,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(t){this._hdrCapacityMax=t,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(t){this._maxDisplayBoost=Math.max(1,Math.min(65504,t)),this.calculateWeight()}calculateWeight(){const t=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,t))}}class _h extends i1{constructor(t,p){super({renderer:t,createMaterial:u=>new u1(u),createQuadRenderer:u=>new Uu(u)},p)}async render(t,p,u,o){const{sdrImage:a,gainMapImage:f,needsFlip:d}=await this.processImages(u,o,"flipY"),{gainMap:s,sdr:h}=this.createTextures(a,f,d);this.updateQuadRenderer(t,a,s,h,p),t.render()}}class c1 extends _h{load([t,p,u],o,a,f){const d=this.prepareQuadRenderer();let s,h,m;const g=async()=>{if(s&&h&&m){try{await this.render(d,m,s,h)}catch(N){this.manager.itemError(t),this.manager.itemError(p),this.manager.itemError(u),typeof f=="function"&&f(N),d.disposeOnDemandRenderer();return}typeof o=="function"&&o(d),this.manager.itemEnd(t),this.manager.itemEnd(p),this.manager.itemEnd(u),d.disposeOnDemandRenderer()}};let b=!0,S=0,E=0,M=!0,k=0,U=0,x=!0,G=0,R=0;const I=()=>{if(typeof a=="function"){const N=S+k+G,O=E+U+R,le=b&&M&&x;a(new ProgressEvent("progress",{lengthComputable:le,loaded:O,total:N}))}};this.manager.itemStart(t),this.manager.itemStart(p),this.manager.itemStart(u);const F=new ml(this._internalLoadingManager);F.setResponseType("arraybuffer"),F.setRequestHeader(this.requestHeader),F.setPath(this.path),F.setWithCredentials(this.withCredentials),F.load(t,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");s=N,await g()},N=>{b=N.lengthComputable,E=N.loaded,S=N.total,I()},N=>{this.manager.itemError(t),typeof f=="function"&&f(N)});const H=new ml(this._internalLoadingManager);H.setResponseType("arraybuffer"),H.setRequestHeader(this.requestHeader),H.setPath(this.path),H.setWithCredentials(this.withCredentials),H.load(p,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");h=N,await g()},N=>{M=N.lengthComputable,U=N.loaded,k=N.total,I()},N=>{this.manager.itemError(p),typeof f=="function"&&f(N)});const T=new ml(this._internalLoadingManager);return T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(u,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");m=JSON.parse(N),await g()},N=>{x=N.lengthComputable,R=N.loaded,G=N.total,I()},N=>{this.manager.itemError(u),typeof f=="function"&&f(N)}),d}}class f1 extends _h{load(t,p,u,o){const a=this.prepareQuadRenderer(),f=new ml(this._internalLoadingManager);return f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setPath(this.path),f.setWithCredentials(this.withCredentials),this.manager.itemStart(t),f.load(t,async d=>{if(typeof d=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const s=new Uint8Array(d);let h,m,g;try{const b=await o1(s);h=b.sdr,m=b.gainMap,g=b.metadata}catch(b){if(b instanceof wh||b instanceof Sh)console.warn(`Failure to reconstruct an HDR image from ${t}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},h=s;else throw b}try{await this.render(a,g,h.buffer,m?.buffer)}catch(b){this.manager.itemError(t),typeof o=="function"&&o(b),a.disposeOnDemandRenderer();return}typeof p=="function"&&p(a),this.manager.itemEnd(t),a.disposeOnDemandRenderer()},u,d=>{this.manager.itemError(t),typeof o=="function"&&o(d)}),a}}const bi={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Eh="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",xo=l=>Array.isArray(l),Fu=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Al({files:l=Fu,path:t="",preset:p=void 0,colorSpace:u=void 0,extensions:o}={}){p&&(Iu(p),l=bi[p],t=Eh);const a=xo(l),{extension:f,isCubemap:d}=Du(l),s=Au(f);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+l);const h=Ot(S=>S.gl);ve.useLayoutEffect(()=>{if(f!=="webp"&&f!=="jpg"&&f!=="jpeg")return;function S(){To.clear(s,a?[l]:l)}h.domElement.addEventListener("webglcontextlost",S,{once:!0})},[l,h.domElement]);const m=To(s,a?[l]:l,S=>{(f==="webp"||f==="jpg"||f==="jpeg")&&S.setRenderer(h),S.setPath==null||S.setPath(t),o&&o(S)});let g=a?m[0]:m;if(f==="jpg"||f==="jpeg"||f==="webp"){var b;g=(b=g.renderTarget)==null?void 0:b.texture}return g.mapping=d?dm:hm,g.colorSpace=u??(d?"srgb":"srgb-linear"),g}const d1={files:Fu,path:"",preset:void 0,extensions:void 0};Al.preload=l=>{const t={...d1,...l};let{files:p,path:u=""}=t;const{preset:o,extensions:a}=t;o&&(Iu(o),p=bi[o],u=Eh);const{extension:f}=Du(p);if(f==="webp"||f==="jpg"||f==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const d=Au(f);if(!d)throw new Error("useEnvironment: Unrecognized file extension: "+p);To.preload(d,xo(p)?[p]:p,s=>{s.setPath==null||s.setPath(u),a&&a(s)})};const h1={files:Fu,preset:void 0};Al.clear=l=>{const t={...h1,...l};let{files:p}=t;const{preset:u}=t;u&&(Iu(u),p=bi[u]);const{extension:o}=Du(p),a=Au(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+p);To.clear(a,xo(p)?[p]:p)};function Iu(l){if(!(l in bi))throw new Error("Preset must be one of: "+Object.keys(bi).join(", "))}function Du(l){var t;const p=xo(l)&&l.length===6,u=xo(l)&&l.length===3&&l.some(f=>f.endsWith("json")),o=xo(l)?l[0]:l;return{extension:p?"cube":u?"webp":o.startsWith("data:application/exr")?"exr":o.startsWith("data:application/hdr")?"hdr":o.startsWith("data:image/jpeg")?"jpg":(t=o.split(".").pop())==null||(t=t.split("?"))==null||(t=t.shift())==null?void 0:t.toLowerCase(),isCubemap:p,isGainmap:u}}function Au(l){return l==="cube"?pm:l==="hdr"?r0:l==="exr"?a0:l==="jpg"||l==="jpeg"?f1:l==="webp"?c1:null}const p1=l=>l.current&&l.current.isScene,v1=l=>p1(l)?l.current:l;function Ru(l,t,p,u,o={}){var a,f,d,s;o={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...o};const h=v1(t||p),m=h.background,g=h.environment,b={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:(a=(f=h.backgroundRotation)==null||f.clone==null?void 0:f.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:(d=(s=h.environmentRotation)==null||s.clone==null?void 0:s.clone())!==null&&d!==void 0?d:[0,0,0]};return l!=="only"&&(h.environment=u),l&&(h.background=u),Sr(h,o),()=>{l!=="only"&&(h.environment=g),l&&(h.background=m),Sr(h,b)}}function Ou({scene:l,background:t=!1,map:p,...u}){const o=Ot(a=>a.scene);return ve.useLayoutEffect(()=>{if(p)return Ru(t,l,o,p,u)}),null}function xh({background:l=!1,scene:t,blur:p,backgroundBlurriness:u,backgroundIntensity:o,backgroundRotation:a,environmentIntensity:f,environmentRotation:d,...s}){const h=Al(s),m=Ot(g=>g.scene);return ve.useLayoutEffect(()=>Ru(l,t,m,h,{backgroundBlurriness:p??u,backgroundIntensity:o,backgroundRotation:a,environmentIntensity:f,environmentRotation:d})),ve.useEffect(()=>()=>{h.dispose()},[h]),null}function m1({children:l,near:t=.1,far:p=1e3,resolution:u=256,frames:o=1,map:a,background:f=!1,blur:d,backgroundBlurriness:s,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:b,scene:S,files:E,path:M,preset:k=void 0,extensions:U}){const x=Ot(T=>T.gl),G=Ot(T=>T.scene),R=ve.useRef(null),[I]=ve.useState(()=>new Su),F=ve.useMemo(()=>{const T=new vm(u);return T.texture.type=or,T},[u]);ve.useEffect(()=>()=>{F.dispose()},[F]),ve.useLayoutEffect(()=>{if(o===1){const T=x.autoClear;x.autoClear=!0,R.current.update(x,I),x.autoClear=T}return Ru(f,S,G,F.texture,{backgroundBlurriness:d??s,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:b})},[l,I,F.texture,S,G,f,o,x]);let H=1;return Fl(()=>{if(o===1/0||H<o){const T=x.autoClear;x.autoClear=!0,R.current.update(x,I),x.autoClear=T,H++}}),ve.createElement(ve.Fragment,null,bg(ve.createElement(ve.Fragment,null,l,ve.createElement("cubeCamera",{ref:R,args:[t,p,F]}),E||k?ve.createElement(xh,{background:!0,files:E,preset:k,path:M,extensions:U}):a?ve.createElement(Ou,{background:!0,map:a,extensions:U}):null),I))}function g1(l){var t,p,u,o;const a=Al(l),f=l.map||a;ve.useMemo(()=>Yd({GroundProjectedEnvImpl:Xg}),[]),ve.useEffect(()=>()=>{a.dispose()},[a]);const d=ve.useMemo(()=>[f],[f]),s=(t=l.ground)==null?void 0:t.height,h=(p=l.ground)==null?void 0:p.radius,m=(u=(o=l.ground)==null?void 0:o.scale)!==null&&u!==void 0?u:1e3;return ve.createElement(ve.Fragment,null,ve.createElement(Ou,Ul({},l,{map:f})),ve.createElement("groundProjectedEnvImpl",{args:d,scale:m,height:s,radius:h}))}function y1(l){return l.ground?ve.createElement(g1,l):l.map?ve.createElement(Ou,l):l.children?ve.createElement(m1,l):ve.createElement(xh,l)}const b1=ve.forwardRef(({scale:l=10,frames:t=1/0,opacity:p=1,width:u=1,height:o=1,blur:a=1,near:f=0,far:d=10,resolution:s=512,smooth:h=!0,color:m="#000000",depthWrite:g=!1,renderOrder:b,...S},E)=>{const M=ve.useRef(null),k=Ot(P=>P.scene),U=Ot(P=>P.gl),x=ve.useRef(null);u=u*(Array.isArray(l)?l[0]:l||1),o=o*(Array.isArray(l)?l[1]:l||1);const[G,R,I,F,H,T,N]=ve.useMemo(()=>{const P=new _l(s,s),ie=new _l(s,s);ie.texture.generateMipmaps=P.texture.generateMipmaps=!1;const K=new Co(u,o).rotateX(Math.PI/2),we=new Oa(K),ke=new Ud;ke.depthTest=ke.depthWrite=!1,ke.onBeforeCompile=C=>{C.uniforms={...C.uniforms,ucolor:{value:new ua(m)}},C.fragmentShader=C.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),C.fragmentShader=C.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const ne=new gi(n0),X=new gi(t0);return X.depthTest=ne.depthTest=!1,[P,K,ke,we,ne,X,ie]},[s,u,o,l,m]),O=P=>{F.visible=!0,F.material=H,H.uniforms.tDiffuse.value=G.texture,H.uniforms.h.value=P*1/256,U.setRenderTarget(N),U.render(F,x.current),F.material=T,T.uniforms.tDiffuse.value=N.texture,T.uniforms.v.value=P*1/256,U.setRenderTarget(G),U.render(F,x.current),F.visible=!1};let le=0,z,j;return Fl(()=>{x.current&&(t===1/0||le<t)&&(le++,z=k.background,j=k.overrideMaterial,M.current.visible=!1,k.background=null,k.overrideMaterial=I,U.setRenderTarget(G),U.render(k,x.current),O(a),h&&O(a*.4),U.setRenderTarget(null),M.current.visible=!0,k.overrideMaterial=j,k.background=z)}),ve.useImperativeHandle(E,()=>M.current,[]),ve.createElement("group",Ul({"rotation-x":Math.PI/2},S,{ref:M}),ve.createElement("mesh",{renderOrder:b,geometry:R,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},ve.createElement("meshBasicMaterial",{transparent:!0,map:G.texture,opacity:p,depthWrite:g})),ve.createElement("orthographicCamera",{ref:x,args:[-u/2,u/2,o/2,-o/2,f,d]}))});function S1({grassCondition:l=100}){const t=ve.useMemo(()=>{const p=new ua(2263842),u=new ua(9139029);return p.lerp(u,(100-l)/100)},[l]);return Xe.jsxs("group",{children:[Xe.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.01,0],children:[Xe.jsx("planeGeometry",{args:[105,68]}),Xe.jsx("meshStandardMaterial",{color:t})]}),Xe.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.02,0],children:[Xe.jsx("ringGeometry",{args:[9,9.5,32]}),Xe.jsx("meshStandardMaterial",{color:"white"})]}),Xe.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,.02,0],children:[Xe.jsx("planeGeometry",{args:[.5,68]}),Xe.jsx("meshStandardMaterial",{color:"white"})]})]})}function pl({position:l,rotation:t,width:p,height:u,depth:o,color:a="#1a4a6e"}){const f=Math.floor(u/2);return Xe.jsx("group",{position:l,rotation:t,children:Array.from({length:f}).map((d,s)=>Xe.jsxs("mesh",{position:[0,s*2+1,-s*1.5],children:[Xe.jsx("boxGeometry",{args:[p,2,o]}),Xe.jsx("meshStandardMaterial",{color:s%2===0?a:"#1e5a8a"})]},s))})}function w1({level:l=0,naming:t=null,grassCondition:p=100}){const u=ve.useRef(),o=ve.useMemo(()=>{const f=[{name:"Municipal",capacity:8e3,stands:4,height:6,hasRoof:!1,hasLights:!1},{name:"Moderno",capacity:18e3,stands:8,height:10,hasRoof:!1,hasLights:!0},{name:"Grande",capacity:35e3,stands:12,height:16,hasRoof:!0,hasLights:!0},{name:"lite",capacity:55e3,stands:18,height:22,hasRoof:!0,hasLights:!0},{name:"Legendario",capacity:8e4,stands:24,height:30,hasRoof:!0,hasLights:!0}];return f[l]||f[0]},[l]);Fl(f=>{u.current&&(u.current.rotation.y=Math.sin(f.clock.elapsedTime*.1)*.3)});const a=l>=3?"#1a365d":"#1a4a6e";return Xe.jsxs("group",{ref:u,children:[Xe.jsx(S1,{grassCondition:p}),Xe.jsx(pl,{position:[0,0,-45],rotation:[0,0,0],width:105,height:o.height,depth:3,color:a}),Xe.jsx(pl,{position:[0,0,45],rotation:[0,Math.PI,0],width:105,height:o.height,depth:3,color:a}),Xe.jsx(pl,{position:[-60,0,0],rotation:[0,Math.PI/2,0],width:68,height:o.height*.8,depth:3,color:a}),Xe.jsx(pl,{position:[60,0,0],rotation:[0,-Math.PI/2,0],width:68,height:o.height*.8,depth:3,color:a}),o.hasLights&&Xe.jsx(Xe.Fragment,{children:[[-55,-40],[-55,40],[55,-40],[55,40]].map(([f,d],s)=>Xe.jsxs("group",{position:[f,0,d],children:[Xe.jsxs("mesh",{position:[0,o.height+10,0],children:[Xe.jsx("cylinderGeometry",{args:[.5,1,o.height+20,8]}),Xe.jsx("meshStandardMaterial",{color:"#444"})]}),Xe.jsx("pointLight",{position:[0,o.height+15,0],intensity:l>=3?100:50,distance:150,color:"#fff5e0"})]},s))}),o.hasRoof&&Xe.jsxs(Xe.Fragment,{children:[Xe.jsxs("mesh",{position:[0,o.height+5,-48],rotation:[.3,0,0],children:[Xe.jsx("boxGeometry",{args:[110,.5,15]}),Xe.jsx("meshStandardMaterial",{color:"#2d3748",metalness:.8,roughness:.2})]}),Xe.jsxs("mesh",{position:[0,o.height+5,48],rotation:[-.3,0,0],children:[Xe.jsx("boxGeometry",{args:[110,.5,15]}),Xe.jsx("meshStandardMaterial",{color:"#2d3748",metalness:.8,roughness:.2})]})]}),t&&Xe.jsxs(e1,{position:[0,o.height+2,-50],fontSize:5,color:"#fff",anchorX:"center",anchorY:"middle",children:[t.name," Arena"]})]})}function T1({level:l=0,naming:t=null,grassCondition:p=100}){return Xe.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"12px",overflow:"hidden"},children:Xe.jsxs(Ig,{camera:{position:[120,80,120],fov:50},shadows:!0,children:[Xe.jsx("ambientLight",{intensity:.4}),Xe.jsx("directionalLight",{position:[50,100,50],intensity:1,castShadow:!0}),Xe.jsx(w1,{level:l,naming:t,grassCondition:p}),Xe.jsx(b1,{position:[0,-.01,0],opacity:.4,scale:200,blur:2}),Xe.jsx(n1,{enablePan:!1,enableZoom:!0,minDistance:80,maxDistance:250,maxPolarAngle:Math.PI/2.2}),Xe.jsx(y1,{preset:"city"})]})})}export{T1 as default};
//# sourceMappingURL=Stadium3D-CeRW8p7o.js.map
